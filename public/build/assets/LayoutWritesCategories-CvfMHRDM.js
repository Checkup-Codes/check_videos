import{Q as h,r as v,s as _,D as B,p as u,m as L,z as M,Y as f,c as N,e as g,u as r,w as b,a as $,n as m,b as T,j as C,o as d,_ as F,$ as j,F as z}from"./ssr-21H53JUc.js";import{_ as D,a as U}from"./FlashMessage-BNYdL1XL.js";import A from"./SidebarLayoutWrite-CM_SDwmI.js";import E from"./SidebarLayoutCategory-tX2O5A_o.js";import{u as K}from"./useSidebar-CX_DkwZ9.js";import"./TopSubsidebar-Cs8Ymu6g.js";import"./WriteList-DmJ2eeeJ.js";import"./app-rjQhlrUM.js";/* empty css            */import"./CheckSubsidebar-B4JEQOSS.js";import"./SubSidebarScreen-fGBMjF2X.js";import"./CategoryTree-y5XWCj5r.js";function O(){var t;const{props:n}=h(),s=v(((t=n.flash)==null?void 0:t.success)||"");return _(()=>{var e;return(e=n.flash)==null?void 0:e.success},e=>{e&&(s.value=e,setTimeout(()=>{s.value=""},3e3))}),{flashMessage:s}}const se=Object.assign({name:"LayoutWritesCategories"},{__name:"LayoutWritesCategories",setup(n){var p;const{isCollapsed:s,isMobile:t,sidebarStyle:e}=K(),{flashMessage:y}=O(),i=B(),w=u(()=>i.getters["Theme/getCurrentTheme"]),{props:l}=h(),c=((p=l.screen)==null?void 0:p.name)||"",S={writes:A,categories:E},k=u(()=>s.value&&c&&S[c]||null),o=v(i.getters["Writes/isCollapsed"]);_(()=>i.getters["Writes/isCollapsed"],a=>{o.value=a},{immediate:!0});const W=u(()=>({"transition-all duration-300":!0,"lg:ml-[-200px]":o.value,"lg:ml-[00px]":!o.value})),x=a=>{o.value=a};return L(()=>{document.body.style.overflow="hidden"}),M(()=>{document.body.style.overflow=""}),f("categories",l.categories||[]),f("writes",l.writes||[]),(a,Q)=>(d(),N(z,null,[g(D,{message:r(y)},null,8,["message"]),g(U,{isCollapsed:!0,class:m(w.value)},{sidebar:b(()=>[(d(),C(F,{max:5,include:["SidebarLayoutWrite","SidebarLayoutCategory"]},[(d(),C(j(k.value),{key:r(c),class:m(r(e)),"onUpdate:isNarrow":x},null,40,["class"]))],1024))]),default:b(()=>[$("div",{class:m([r(t)?"hidden lg:block":"block",W.value])},[T(a.$slots,"screen")],2)]),_:3},8,["class"])],64))}});export{se as default};
