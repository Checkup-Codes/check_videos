import{Q as h,r as _,s as v,C as L,p as u,a0 as g,c as N,o as m,e as f,u as o,w as C,a as B,n as p,b as M,j as b,a1 as T,a2 as $,F}from"./ssr-CelVhnxm.js";import{_ as j,a as z}from"./FlashMessage-ClF0HAjN.js";import A from"./SidebarLayoutWrite-DEsE6RSt.js";import D from"./SidebarLayoutCategory-BNlHLqRJ.js";import{u as E}from"./useSidebar-DpzzNth6.js";import"./TopSubsidebar-H9nSlXBq.js";import"./WriteList-4WAldXW8.js";import"./app-DKGn_rdn.js";/* empty css            */import"./CheckSubsidebar-Bsiv16-2.js";import"./SubSidebarScreen-Ds7lHimX.js";import"./CategoryTree-C2LwCpch.js";function K(){var t;const{props:i}=h(),s=_(((t=i.flash)==null?void 0:t.success)||"");return v(()=>{var e;return(e=i.flash)==null?void 0:e.success},e=>{e&&(s.value=e,setTimeout(()=>{s.value=""},3e3))}),{flashMessage:s}}const Z=Object.assign({name:"LayoutWritesCategories"},{__name:"LayoutWritesCategories",setup(i){var d;const{isCollapsed:s,isMobile:t,sidebarStyle:e}=E(),{flashMessage:y}=K(),l=L(),S=u(()=>l.getters["Theme/getCurrentTheme"]),{props:n}=h(),c=((d=n.screen)==null?void 0:d.name)||"",w={writes:A,categories:D},k=u(()=>s.value&&c&&w[c]||null),r=_(l.getters["Writes/isCollapsed"]);v(()=>l.getters["Writes/isCollapsed"],a=>{r.value=a},{immediate:!0});const W=u(()=>({"transition-all duration-300":!0,"lg:ml-[-200px]":r.value,"lg:ml-[00px]":!r.value})),x=a=>{r.value=a};return g("categories",n.categories||[]),g("writes",n.writes||[]),(a,O)=>(m(),N(F,null,[f(j,{message:o(y)},null,8,["message"]),f(z,{isCollapsed:!0,class:p(S.value)},{sidebar:C(()=>[(m(),b(T,{max:5,include:["SidebarLayoutWrite","SidebarLayoutCategory"]},[(m(),b($(k.value),{key:o(c),class:p(o(e)),"onUpdate:isNarrow":x},null,40,["class"]))],1024))]),default:C(()=>[B("div",{class:p([o(t)?"hidden lg:block":"block",W.value])},[M(a.$slots,"screen")],2)]),_:3},8,["class"])],64))}});export{Z as default};
