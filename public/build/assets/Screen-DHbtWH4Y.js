import{_ as J,Q as H,l as c,x as Q,s as P,i as M,c as X,o as a,w as z,b as s,a as B,t as r,g as l,F as k,m as g,f as Y,h as b,n as x,J as U,K as q}from"./app-bzSXT2H4.js";import{_ as G}from"./GoBackButton-CzSHNWSs.js";import{_ as W}from"./CheckScreen-B81BHdcu.js";import Z from"./Card-Bi_zJmfE.js";/* empty css            */const p=_=>(U("data-v-ef3cb8c1"),_=_(),q(),_),ee={class:"mb-5"},se={class:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:justify-between sm:space-y-0"},te={class:"w-full sm:w-auto"},oe={class:"text-primary truncate text-xl font-bold sm:text-2xl"},ae={key:0,class:"space-y-4 p-4"},ne=p(()=>s("div",{class:"bg-base-200 h-28 w-40 flex-shrink-0 rounded-lg md:w-52"},null,-1)),le=p(()=>s("div",{class:"flex-1 space-y-4 py-1"},[s("div",{class:"bg-base-200 h-4 w-3/4 rounded"}),s("div",{class:"bg-base-200 h-4 w-1/2 rounded"})],-1)),ie=[ne,le],ce={key:1},de={key:0,class:"p-4"},re=p(()=>s("div",{class:"alert alert-warning"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),s("span",null,"Bu oynatma listesinde görüntülenecek video bulunamadı.")],-1)),ue=[re],he={key:1,class:"divide-base-200 divide-y"},pe={class:"flex flex-col md:flex-row md:items-center"},_e={class:"mb-3 h-auto w-full md:mb-0 md:h-28 md:w-40 lg:w-52"},ve=["src"],me={class:"w-full md:px-6"},be=["href"],fe={class:"mt-2 flex flex-nowrap gap-2 overflow-x-auto pb-2 md:flex-wrap md:overflow-visible md:pb-0"},we={class:"badge badge-neutral whitespace-nowrap"},ke={class:"badge badge-neutral whitespace-nowrap"},ge={class:"badge badge-neutral whitespace-nowrap"},xe={class:"mt-3 flex flex-wrap gap-2"},ye=["href"],Ce=p(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mr-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Ie=["onClick"],$e={key:0,xmlns:"http://www.w3.org/2000/svg",class:"mr-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Se=p(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)),je=[Se],Ve={key:1},Pe={key:2},Me={class:"flex justify-center overflow-x-auto p-4"},ze={class:"join"},Be=["disabled"],Le={key:0,class:"join-item btn btn-sm btn-disabled"},Ne=["onClick"],De={key:1,class:"join-item btn btn-sm btn-disabled"},Re=["disabled"],L="https://www.googleapis.com/youtube/v3",N=10,Fe={__name:"Screen",setup(_){const{props:D}=H(),v=c(D.lesson),y="AIzaSyCoIcX9-KNL9aOYwsvdDpflXxHImczwFlQ",R=c(v.value.playlist_id),m=c([]),f=c(!1),i=c(1),C=c(null),F=c(null),I=c(0),u=c([]);Q(()=>{j(),T()});const T=()=>{const t=localStorage.getItem(`checkedVideos_${v.value.id}`);t&&(u.value=JSON.parse(t))},A=()=>{localStorage.setItem(`checkedVideos_${v.value.id}`,JSON.stringify(u.value))},$=t=>u.value.includes(t),E=t=>{const o=u.value.indexOf(t.id);o===-1?u.value.push(t.id):u.value.splice(o,1),A()},S=t=>{if(!t)return"0";const o=parseInt(t.replace(/,/g,""));return o>=1e6?(o/1e6).toFixed(1)+"M":o>=1e3?(o/1e3).toFixed(1)+"K":t},j=async(t="")=>{f.value=!0,m.value=[];try{const o=await P.get(`${L}/playlistItems`,{params:{part:"snippet",playlistId:R.value,maxResults:N,pageToken:t,key:y}}),e=o.data.items.map(n=>n.snippet.resourceId.videoId);I.value=o.data.pageInfo.totalResults;const h=await P.get(`${L}/videos`,{params:{part:"snippet,contentDetails,statistics",id:e.join(","),key:y}});m.value=h.data.items.map(n=>({id:n.id,title:n.snippet.title,thumbnail:n.snippet.thumbnails.high?n.snippet.thumbnails.high.url:n.snippet.thumbnails.default.url,duration:O(n.contentDetails.duration),viewCount:n.statistics.viewCount?n.statistics.viewCount.toLocaleString():"0",likeCount:n.statistics.likeCount?n.statistics.likeCount.toLocaleString():"0"})),C.value=o.data.nextPageToken||null,F.value=t||null}catch(o){console.error("Error fetching videos:",o)}finally{f.value=!1}},d=M(()=>Math.ceil(I.value/N)),K=M(()=>{const t=[],o=d.value;if(i.value>2&&i.value<o-1)for(let e=i.value-1;e<=i.value+1;e++)t.push(e);else if(i.value<=2)for(let e=2;e<=Math.min(3,o-1);e++)t.push(e);else if(i.value>=o-1)for(let e=Math.max(o-2,2);e<o;e++)t.push(e);return t}),w=t=>{i.value=t,j(t===1?"":C.value)},O=t=>{const o=/PT(\d+H)?(\d+M)?(\d+S)?/,e=t.match(o),h=e[1]?e[1].slice(0,-1):"00",n=e[2]?e[2].slice(0,-1).padStart(2,"0"):"00",V=e[3]?e[3].slice(0,-1).padStart(2,"0"):"00";return h==="00"?`${n}:${V}`:`${h}:${n}:${V}`};return(t,o)=>(a(),X(W,null,{default:z(()=>[s("div",ee,[s("div",se,[B(G,{href:"/lessons"}),s("div",te,[s("h2",oe,r(v.value.title),1)])]),B(Z,{class:"card-compact mt-5 w-full shadow-md"},{default:z(()=>[f.value?(a(),l("div",ae,[(a(),l(k,null,g(3,e=>s("div",{key:e,class:"flex animate-pulse items-center space-x-4"},ie)),64))])):(a(),l("div",ce,[m.value.length===0?(a(),l("div",de,ue)):(a(),l("ul",he,[(a(!0),l(k,null,g(m.value,e=>(a(),l("li",{key:e.id,class:"hover:bg-base-100 p-4"},[s("div",pe,[s("div",_e,[s("img",{src:e.thumbnail,alt:"Video Thumbnail",class:"h-full w-full rounded-lg object-cover shadow-sm"},null,8,ve)]),s("div",me,[s("a",{href:`https://www.youtube.com/watch?v=${e.id}`,target:"_blank",class:"link link-hover link-primary text-base font-medium md:text-lg"},r(e.title),9,be),s("div",fe,[s("span",we,r(e.duration),1),s("span",ke,r(S(e.viewCount))+" görüntülenme",1),s("span",ge,r(S(e.likeCount))+" beğeni",1)]),s("div",xe,[s("a",{href:`https://www.youtube.com/watch?v=${e.id}`,target:"_blank",class:"btn btn-sm btn-primary"},[Ce,Y(" İzle ")],8,ye),s("button",{class:"btn btn-sm btn-outline",onClick:h=>E(e)},[$(e.id)?(a(),l("svg",$e,je)):b("",!0),$(e.id)?(a(),l("span",Ve,"İzlendi")):(a(),l("span",Pe,"İzlenmedi"))],8,Ie)])])])]))),128))])),s("div",Me,[s("div",ze,[s("button",{disabled:i.value===1,onClick:o[0]||(o[0]=e=>w(1)),class:x(["join-item btn btn-sm",i.value===1?"btn-active":""])}," 1 ",10,Be),i.value>3?(a(),l("span",Le,"...")):b("",!0),(a(!0),l(k,null,g(K.value,e=>(a(),l("button",{key:e,onClick:h=>w(e),class:x(["join-item btn btn-sm",i.value===e?"btn-active":""])},r(e),11,Ne))),128)),i.value<d.value-2?(a(),l("span",De,"...")):b("",!0),d.value>1?(a(),l("button",{key:2,disabled:i.value===d.value,onClick:o[1]||(o[1]=e=>w(d.value)),class:x(["join-item btn btn-sm",i.value===d.value?"btn-active":""])},r(d.value),11,Re)):b("",!0)])])]))]),_:1})])]),_:1}))}},Je=J(Fe,[["__scopeId","data-v-ef3cb8c1"]]);export{Je as default};
