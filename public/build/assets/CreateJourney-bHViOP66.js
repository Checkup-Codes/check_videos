import{T as w,g as h,e as _,w as m,a as t,f as g,u as o,p as x,k as d,h as V,i as a,c as i,j as n,m as f,o as l,t as u,E as b}from"./ssr-ig3NHSec.js";import B from"./LayoutJourney-C7coQNef.js";import"./FlashMessage-CfURZB1K.js";import"./CheckScreen-_FCSDmIW.js";const C={class:"mx-auto max-w-2xl py-8"},j={class:"mb-8"},U={key:0,class:"mt-1 text-sm text-destructive"},T={key:0,class:"mt-1 text-sm text-destructive"},D={key:0,class:"mt-1 text-sm text-destructive"},M={class:"relative"},z={key:0,class:"mt-3 overflow-hidden rounded-lg border border-border"},N=["src"],S={key:1,class:"mt-1 text-sm text-destructive"},K={class:"flex gap-4"},R={class:"flex cursor-pointer items-center gap-2"},Y={class:"flex cursor-pointer items-center gap-2"},q={class:"flex items-center gap-3 pt-4"},A=["disabled"],E={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},F={__name:"CreateJourney",setup(G){const y=new Date().toISOString().split("T")[0],r=w({entry_date:y,title:"",description:"",image:null,status:"published"}),p=h(null),v=c=>{const e=c.target.files[0];e&&(r.image=e,p.value=URL.createObjectURL(e))},k=()=>{r.post("/journey",{forceFormData:!0})};return(c,e)=>(l(),_(B,null,{screen:m(()=>[t("div",C,[t("div",j,[g(o(x),{href:"/journey",class:"mb-4 inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground"},{default:m(()=>[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),d(" Geri ",-1)])]),_:1}),e[6]||(e[6]=t("h1",{class:"text-3xl font-bold tracking-tight text-foreground"},"Yeni Kayıt",-1)),e[7]||(e[7]=t("p",{class:"mt-2 text-muted-foreground"},"Yolculuğunuza yeni bir an ekleyin.",-1))]),t("form",{onSubmit:V(k,["prevent"]),class:"space-y-6"},[t("div",null,[e[8]||(e[8]=t("label",{for:"entry_date",class:"mb-2 block text-sm font-medium text-foreground"},[d(" Tarih "),t("span",{class:"text-destructive"},"*")],-1)),a(t("input",{id:"entry_date","onUpdate:modelValue":e[0]||(e[0]=s=>o(r).entry_date=s),type:"date",class:"w-full rounded-lg border border-input bg-background px-4 py-2.5 text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",required:""},null,512),[[f,o(r).entry_date]]),o(r).errors.entry_date?(l(),i("p",U,u(o(r).errors.entry_date),1)):n("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"title",class:"mb-2 block text-sm font-medium text-foreground"},[d(" Başlık "),t("span",{class:"text-destructive"},"*")],-1)),a(t("input",{id:"title","onUpdate:modelValue":e[1]||(e[1]=s=>o(r).title=s),type:"text",class:"w-full rounded-lg border border-input bg-background px-4 py-2.5 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Bu günün başlığı...",required:""},null,512),[[f,o(r).title]]),o(r).errors.title?(l(),i("p",T,u(o(r).errors.title),1)):n("",!0)]),t("div",null,[e[10]||(e[10]=t("label",{for:"description",class:"mb-2 block text-sm font-medium text-foreground"}," Açıklama ",-1)),a(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=s=>o(r).description=s),rows:"6",class:"w-full rounded-lg border border-input bg-background px-4 py-2.5 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Bu gün hakkında notlarınız..."},null,512),[[f,o(r).description]]),o(r).errors.description?(l(),i("p",D,u(o(r).errors.description),1)):n("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{for:"image",class:"mb-2 block text-sm font-medium text-foreground"}," Görsel ",-1)),t("div",M,[t("input",{id:"image",type:"file",accept:"image/*",onChange:v,class:"w-full cursor-pointer rounded-lg border border-input bg-background px-4 py-2.5 text-foreground file:mr-4 file:rounded-md file:border-0 file:bg-primary file:px-4 file:py-1 file:text-sm file:font-medium file:text-primary-foreground hover:file:bg-primary/90"},null,32)]),p.value?(l(),i("div",z,[t("img",{src:p.value,alt:"Preview",class:"h-48 w-full object-cover"},null,8,N)])):n("",!0),o(r).errors.image?(l(),i("p",S,u(o(r).errors.image),1)):n("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Durum",-1)),t("div",K,[t("label",R,[a(t("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=s=>o(r).status=s),value:"published",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[b,o(r).status]]),e[12]||(e[12]=t("span",{class:"text-sm text-foreground"},"Yayınla",-1))]),t("label",Y,[a(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=s=>o(r).status=s),value:"draft",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[b,o(r).status]]),e[13]||(e[13]=t("span",{class:"text-sm text-foreground"},"Taslak",-1))])])]),t("div",q,[t("button",{type:"submit",disabled:o(r).processing,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-2.5 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50"},[o(r).processing?(l(),i("svg",E,[...e[15]||(e[15]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):n("",!0),d(" "+u(o(r).processing?"Kaydediliyor...":"Kaydet"),1)],8,A),g(o(x),{href:"/journey",class:"inline-flex items-center gap-2 rounded-lg border border-border bg-card px-6 py-2.5 text-sm font-medium text-foreground transition-colors hover:bg-accent"},{default:m(()=>[...e[16]||(e[16]=[d(" İptal ",-1)])]),_:1})])],32)])]),_:1}))}};export{F as default};
