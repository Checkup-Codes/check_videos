import{Q as $,p as h,e as f,T as F,j as D,w as _,b as k,a as e,u as o,l as v,k as a,c as l,h as b,n as x,v as p,o as n,t as c,F as C,g as S,G as H,f as m,i as L}from"./ssr-B00CJT2V.js";import{_ as N}from"./CheckScreen-ROXd1zxZ.js";import{_ as E}from"./TopScreen-n02w5c6V.js";import{_ as O}from"./GoBackButton-CBUnlu7k.js";import"./app-KO3EYfs6.js";/* empty css            */const T={class:"rounded-lg border border-border bg-card shadow-sm"},I={class:"p-6"},q={class:"space-y-4"},G={key:0,class:"mt-1 text-xs text-destructive"},P={key:0,class:"mt-1 text-xs text-destructive"},Q={class:"flex"},Y={key:0,class:"mt-1 text-xs text-destructive"},J=["value"],W={key:0,class:"mt-1 text-xs text-destructive"},X={class:"space-y-4 border-t border-border pt-6"},Z={key:0,class:"flex items-center gap-3 rounded-md border border-border bg-muted/50 p-4 text-sm text-muted-foreground"},ee={class:"space-y-4"},re=["onUpdate:modelValue"],te={class:"flex"},oe=["onUpdate:modelValue"],se={class:"flex justify-end"},ie=["onClick"],ne={class:"flex items-center justify-between border-t border-border pt-4"},le={class:"flex gap-2"},de=["disabled"],ue={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ae={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},xe={__name:"Screen",setup(ce){const{props:w}=$(),u=h(()=>w.service||{}),V=f(null),j=f(null),B=f(null),M=f(null),i=f({name:"",description:"",price:"",parent_id:""}),t=F({id:u.value.id,name:u.value.name||"",description:u.value.description||"",price:u.value.price||"",parent_id:u.value.parent_id||null,subCategories:u.value.subCategories||[]});t.processing=!1;const A=h(()=>(w.services||[]).filter(d=>d.id!==t.id)),U=()=>{t.subCategories.push({name:"",price:""})},z=d=>{t.subCategories.splice(d,1)},K=()=>{t.put(`/services/${t.id}`,{onError:d=>{d&&Object.keys(d).forEach(r=>{i.value.hasOwnProperty(r)&&(i.value[r]=d[r])})}})},R=()=>{confirm("Bu servisi silmek istediğinize emin misiniz?")&&t.delete(`/services/${t.id}`)};return(d,r)=>(n(),D(N,null,{default:_(()=>[k(O,{url:`/services/${o(t).id}`},null,8,["url"]),k(E,{title:"Servisi Düzenle"}),e("div",T,[e("div",I,[e("form",{onSubmit:v(K,["prevent"]),class:"space-y-6"},[e("div",q,[r[10]||(r[10]=e("h3",{class:"text-sm font-semibold text-foreground"},"Servis Bilgileri",-1)),e("div",{ref_key:"nameRef",ref:V},[r[4]||(r[4]=e("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Servis Adı",-1)),a(e("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>o(t).name=s),type:"text",placeholder:"Servis adı",class:x(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":i.value.name||o(t).errors.name}]),required:""},null,2),[[p,o(t).name]]),i.value.name||o(t).errors.name?(n(),l("p",G,c(i.value.name||o(t).errors.name),1)):b("",!0)],512),e("div",{ref_key:"descriptionRef",ref:j},[r[5]||(r[5]=e("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Servis Açıklaması",-1)),a(e("textarea",{"onUpdate:modelValue":r[1]||(r[1]=s=>o(t).description=s),rows:"4",placeholder:"Servis açıklaması",class:x(["flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":i.value.description||o(t).errors.description}])},null,2),[[p,o(t).description]]),i.value.description||o(t).errors.description?(n(),l("p",P,c(i.value.description||o(t).errors.description),1)):b("",!0)],512),e("div",{ref_key:"priceRef",ref:B},[r[7]||(r[7]=e("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Fiyat",-1)),e("div",Q,[a(e("input",{"onUpdate:modelValue":r[2]||(r[2]=s=>o(t).price=s),type:"number",placeholder:"Fiyat",class:x(["flex h-9 flex-1 rounded-l-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":i.value.price||o(t).errors.price}])},null,2),[[p,o(t).price]]),r[6]||(r[6]=e("span",{class:"inline-flex h-9 items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," USD ",-1))]),i.value.price||o(t).errors.price?(n(),l("p",Y,c(i.value.price||o(t).errors.price),1)):b("",!0)],512),e("div",{ref_key:"parentIdRef",ref:M},[r[9]||(r[9]=e("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Üst Kategori",-1)),a(e("select",{"onUpdate:modelValue":r[3]||(r[3]=s=>o(t).parent_id=s),class:x(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":i.value.parent_id||o(t).errors.parent_id}])},[r[8]||(r[8]=e("option",{value:null},"Yok",-1)),(n(!0),l(C,null,S(A.value,s=>(n(),l("option",{key:s.id,value:s.id},c(s.name),9,J))),128))],2),[[H,o(t).parent_id]]),i.value.parent_id||o(t).errors.parent_id?(n(),l("p",W,c(i.value.parent_id||o(t).errors.parent_id),1)):b("",!0)],512)]),e("div",X,[r[17]||(r[17]=e("h3",{class:"text-sm font-semibold text-foreground"},"Alt Kategoriler",-1)),o(t).subCategories.length===0?(n(),l("div",Z,[...r[11]||(r[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-5 w-5 shrink-0",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",null,'Henüz alt kategori bulunmamaktadır. "Alt Kategori Ekle" butonuyla ekleyebilirsiniz.',-1)])])):b("",!0),(n(!0),l(C,null,S(o(t).subCategories,(s,y)=>(n(),l("div",{key:y,class:"rounded-md border-l-4 border-l-primary border border-border bg-card p-4 shadow-sm"},[e("div",ee,[e("div",null,[r[12]||(r[12]=e("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Alt Kategori Adı",-1)),a(e("input",{"onUpdate:modelValue":g=>s.name=g,type:"text",placeholder:"Alt kategori adı",class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,8,re),[[p,s.name]])]),e("div",null,[r[14]||(r[14]=e("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Fiyat",-1)),e("div",te,[a(e("input",{"onUpdate:modelValue":g=>s.price=g,type:"number",placeholder:"Fiyat",class:"flex h-9 flex-1 rounded-l-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,8,oe),[[p,s.price]]),r[13]||(r[13]=e("span",{class:"inline-flex h-9 items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," USD ",-1))])]),e("div",se,[e("button",{onClick:v(g=>z(y),["prevent"]),type:"button",class:"inline-flex h-9 items-center justify-center gap-2 rounded-md border border-destructive bg-background px-4 text-sm font-medium text-destructive ring-offset-background transition-colors hover:bg-destructive hover:text-destructive-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[...r[15]||(r[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Kaldır ",-1)])],8,ie)])])]))),128)),e("button",{onClick:v(U,["prevent"]),type:"button",class:"inline-flex h-9 w-full items-center justify-center gap-2 rounded-md border border-input bg-background px-4 text-sm font-medium text-foreground ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[...r[16]||(r[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),m(" Alt Kategori Ekle ",-1)])])]),e("div",ne,[e("button",{onClick:v(R,["prevent"]),type:"button",class:"inline-flex h-9 items-center justify-center gap-2 rounded-md border border-destructive bg-background px-4 text-sm font-medium text-destructive ring-offset-background transition-colors hover:bg-destructive hover:text-destructive-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[...r[18]||(r[18]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Servisi Sil ",-1)])]),e("div",le,[k(o(L),{href:`/services/${o(t).id}`,class:"inline-flex h-9 items-center justify-center rounded-md border border-input bg-background px-4 text-sm font-medium text-foreground ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},{default:_(()=>[...r[19]||(r[19]=[m(" İptal ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",class:"inline-flex h-9 items-center justify-center gap-2 rounded-md bg-primary px-4 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",disabled:o(t).processing},[o(t).processing?(n(),l("svg",ue,[...r[20]||(r[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),l("svg",ae,[...r[21]||(r[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])),m(" "+c(o(t).processing?"Kaydediliyor...":"Kaydet"),1)],8,de)])])],32)])])]),_:1}))}};export{xe as default};
