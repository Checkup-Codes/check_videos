import{Q as U,p as k,e as u,T as F,j as $,w,b as g,a as s,l as h,k as p,c as l,h as c,n as b,u as t,v,o as n,t as a,F as z,g as A,i as L,f as _}from"./ssr-B00CJT2V.js";import{_ as N}from"./CheckScreen-ROXd1zxZ.js";import{_ as T}from"./TopScreen-n02w5c6V.js";import{_ as q}from"./GoBackButton-CBUnlu7k.js";import"./app-KO3EYfs6.js";/* empty css            */const I={class:"rounded-lg border border-border bg-card shadow-sm"},K={class:"p-6"},P={class:"space-y-4"},Q={key:0,class:"mt-1 text-xs text-destructive"},E={key:0,class:"mt-1 text-xs text-destructive"},H={key:0,class:"mt-1 text-xs text-destructive"},W={class:"flex"},Y={key:0,class:"mt-1 text-xs text-destructive"},G={class:"relative"},J={key:0,class:"absolute z-50 mt-1 max-h-60 w-full overflow-y-auto rounded-md border border-border bg-popover p-1 shadow-lg"},X=["onMousedown"],Z={key:0,class:"mt-1 text-xs text-destructive"},ee={class:"flex justify-end gap-2 border-t border-border pt-4"},re=["disabled"],se={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},te={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},fe={__name:"Screen",setup(oe){const{props:S}=U(),x=k(()=>S.services||[]),C=u(null),R=u(null),V=u(null),B=u(null),j=u(null),o=u({name:"",slug:"",description:"",price:"",parent_id:""}),r=F({name:"",slug:"",description:"",price:null,parent_id:null});r.processing=!1;const f=u(""),m=u(!1),y=k(()=>f.value?x.value.filter(d=>d.name.toLowerCase().includes(f.value.toLowerCase())):x.value),D=d=>{r.parent_id=d.id,f.value=d.name,m.value=!1},M=()=>{setTimeout(()=>{m.value=!1},200)},O=()=>{r.post("/services",{onError:d=>{d&&Object.keys(d).forEach(e=>{o.value.hasOwnProperty(e)&&(o.value[e]=d[e])})}})};return(d,e)=>(n(),$(N,null,{default:w(()=>[g(q,{url:"/services"}),g(T,{title:"Yeni Servis Oluştur"}),s("div",I,[s("div",K,[s("form",{onSubmit:h(O,["prevent"]),class:"space-y-6"},[s("div",P,[e[12]||(e[12]=s("h3",{class:"text-sm font-semibold text-foreground"},"Servis Bilgileri",-1)),s("div",{ref_key:"nameRef",ref:C},[e[6]||(e[6]=s("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Servis Adı",-1)),p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>t(r).name=i),type:"text",placeholder:"Servis adı",class:b(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.name||t(r).errors.name}]),required:""},null,2),[[v,t(r).name]]),o.value.name||t(r).errors.name?(n(),l("p",Q,a(o.value.name||t(r).errors.name),1)):c("",!0)],512),s("div",{ref_key:"slugRef",ref:R},[e[7]||(e[7]=s("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Servis Kısa Adı",-1)),p(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>t(r).slug=i),type:"text",placeholder:"Servis kısa adı",class:b(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.slug||t(r).errors.slug}]),required:""},null,2),[[v,t(r).slug]]),o.value.slug||t(r).errors.slug?(n(),l("p",E,a(o.value.slug||t(r).errors.slug),1)):c("",!0)],512),s("div",{ref_key:"descriptionRef",ref:V},[e[8]||(e[8]=s("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Servis Açıklaması",-1)),p(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=i=>t(r).description=i),rows:"4",placeholder:"Servis açıklaması",class:b(["flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.description||t(r).errors.description}]),required:""},null,2),[[v,t(r).description]]),o.value.description||t(r).errors.description?(n(),l("p",H,a(o.value.description||t(r).errors.description),1)):c("",!0)],512),s("div",{ref_key:"priceRef",ref:B},[e[10]||(e[10]=s("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Fiyat",-1)),s("div",W,[p(s("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>t(r).price=i),type:"number",placeholder:"Fiyat",class:b(["flex h-9 flex-1 rounded-l-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.price||t(r).errors.price}])},null,2),[[v,t(r).price]]),e[9]||(e[9]=s("span",{class:"inline-flex h-9 items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," USD ",-1))]),o.value.price||t(r).errors.price?(n(),l("p",Y,a(o.value.price||t(r).errors.price),1)):c("",!0)],512),s("div",{ref_key:"parentIdRef",ref:j},[e[11]||(e[11]=s("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Üst Kategori",-1)),s("div",G,[p(s("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>f.value=i),type:"text",placeholder:"Üst kategori arayın ve seçin",class:b(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.parent_id||t(r).errors.parent_id}]),onFocus:e[5]||(e[5]=i=>m.value=!0),onBlur:M},null,34),[[v,f.value]]),m.value&&y.value.length?(n(),l("ul",J,[(n(!0),l(z,null,A(y.value,i=>(n(),l("li",{key:i.id,onMousedown:h(ie=>D(i),["prevent"]),class:"cursor-pointer rounded-sm px-2 py-1.5 text-sm text-popover-foreground transition-colors hover:bg-accent hover:text-accent-foreground"},a(i.name),41,X))),128))])):c("",!0)]),o.value.parent_id||t(r).errors.parent_id?(n(),l("p",Z,a(o.value.parent_id||t(r).errors.parent_id),1)):c("",!0)],512)]),s("div",ee,[g(t(L),{href:"/services",class:"inline-flex h-9 items-center justify-center rounded-md border border-input bg-background px-4 text-sm font-medium text-foreground ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},{default:w(()=>[...e[13]||(e[13]=[_(" İptal ",-1)])]),_:1}),s("button",{type:"submit",class:"inline-flex h-9 items-center justify-center gap-2 rounded-md bg-primary px-4 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",disabled:t(r).processing},[t(r).processing?(n(),l("svg",se,[...e[14]||(e[14]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),l("svg",te,[...e[15]||(e[15]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])),_(" "+a(t(r).processing?"Oluşturuluyor...":"Servisi Oluştur"),1)],8,re)])],32)])])]),_:1}))}};export{fe as default};
