import{l as u,i as d,E as P,R as A,c as m,w as T,o as n,a as U,g as r,b as e,t as _,h as g,j as c,q as F,bJ as w,B as K,F as R,m as M,n as O,e as E,Q as I,p as N}from"./app-BM0qUes5.js";import{_ as Q}from"./CheckScreen-CpCONf3O.js";import{_ as Z}from"./TopScreen-BVIV2ijB.js";import W from"./MultipleChoice-DypZJIjD.js";import Y from"./TranslateWord-DcCP2pMH.js";import G from"./WordCompletion-CyrYqlZ8.js";import J from"./WordsTable-DZxS99jw.js";/* empty css            */const H={key:0,class:"mx-6 mt-6 rounded-md bg-red-50 p-4"},X={class:"flex"},ee=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),te={class:"ml-3"},oe={class:"text-sm font-medium text-red-800"},se={key:4},le={class:"p-6"},ae={class:"mb-6 flex items-center justify-between"},ne=e("h2",{class:"text-xl font-bold text-gray-800"},"Kelime Listesi",-1),ie={class:"text-sm text-gray-600"},re={class:"flex gap-2"},ue=["href"],de=["href"],ce={key:0,class:"mt-6 space-y-6"},me={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},ge=e("h3",{class:"mb-4 text-lg font-semibold text-gray-900"},"Oyun Ayarları",-1),fe={class:"grid gap-6 md:grid-cols-2"},pe={class:"space-y-4"},ve=e("label",{for:"questionCount",class:"mb-1 block text-sm font-medium text-gray-700"},"Soru Sayısı",-1),_e={class:"flex items-center gap-2"},ye={class:"text-sm font-medium text-gray-700"},he=e("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Kelime Başarı Durumuna Göre",-1),we={class:"space-y-2"},ke={class:"flex items-center"},be=e("label",{for:"random",class:"ml-2 block text-sm text-gray-700"},"Rastgele",-1),xe={class:"flex items-center"},Se=e("label",{for:"difficult",class:"ml-2 block text-sm text-gray-700"},"Zor Kelimeler",-1),Ce={class:"flex items-center"},Le=e("label",{for:"easy",class:"ml-2 block text-sm text-gray-700"},"Kolay Kelimeler",-1),qe={class:"space-y-4"},Te=e("label",{for:"difficulty",class:"mb-1 block text-sm font-medium text-gray-700"},"Zorluk Seviyesi",-1),Ue=e("option",{value:"all"},"Tüm Seviyeler",-1),Ke=e("option",{value:"1"},"Kolay",-1),Ve=e("option",{value:"2"},"Orta",-1),$e=e("option",{value:"3"},"Zor",-1),je=e("option",{value:"4"},"Çok Zor",-1),ze=[Ue,Ke,Ve,$e,je],Be=e("label",{for:"learningStatus",class:"mb-1 block text-sm font-medium text-gray-700"},"Öğrenme Durumu",-1),De=e("option",{value:"all"},"Tüm Durumlar",-1),Pe=e("option",{value:"0"},"Öğrenilmedi",-1),Ae=e("option",{value:"1"},"Öğreniliyor",-1),Fe=e("option",{value:"2"},"Öğrenildi",-1),Re=[De,Pe,Ae,Fe],Me={class:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-6"},Oe={key:1,class:"mt-6 rounded-md bg-yellow-100 p-4 text-sm text-yellow-800"},Ee={key:2,class:"mt-4 rounded-md bg-blue-50 p-4"},Ie={class:"text-blue-700"},Ne=["href"],tt={__name:"Screen",props:{words:Array,languagePacks:Array,screen:Object,pack:Object,error:String},setup(V){var S;const s=V,o=u({questionCount:10,wordSelection:"random",difficulty:"all",learningStatus:"all"}),k=d(()=>o.value.questionCount>=5&&o.value.questionCount<=20),y=u(!0),b=d(()=>I().props.auth),f=d(()=>b.value&&b.value.user),p=u(""),x=u("");u(((S=s.pack)==null?void 0:S.id)||"");const $=d(()=>s.words&&s.words.length>=5);P(()=>{const t=new URLSearchParams(window.location.search);t.get("questionCount")&&(o.value.questionCount=parseInt(t.get("questionCount"))),t.get("wordSelection")&&(o.value.wordSelection=t.get("wordSelection")),t.get("difficulty")&&(o.value.difficulty=t.get("difficulty")),t.get("learningStatus")&&(o.value.learningStatus=t.get("learningStatus")),setTimeout(()=>{y.value=!1},500),!s.words||s.words.length===0?console.warn("Kelime verileri yüklenmedi veya boş"):console.log(`${s.words.length} kelime yüklendi`)});const j=d(()=>s.words?s.words.filter(t=>{if(!t||typeof t!="object")return console.log("Invalid word object:",t),!1;const l=!p.value.trim()||t.word&&t.word.toLowerCase().includes(p.value.toLowerCase())||t.meaning&&t.meaning.toLowerCase().includes(p.value.toLowerCase()),v=!x.value||t.language&&t.language===x.value;return l&&v}):(console.log("props.words is null or undefined"),[])),z=u([{name:"Çoktan Seçmeli",route:"multiple-choice"},{name:"Boşluk Doldurma",route:"fill-in-the-blank"},{name:"Kelime Tamamlama",route:"word-completion"}]),B=t=>{if(!k.value){alert("Lütfen geçerli oyun ayarlarını seçiniz.");return}const l=new URLSearchParams(window.location.search);l.set("game",t),l.set("questionCount",o.value.questionCount),l.set("wordSelection",o.value.wordSelection),l.set("difficulty",o.value.difficulty),l.set("learningStatus",o.value.learningStatus),N.Inertia.visit(`${window.location.pathname}?${l.toString()}`,{method:"get",preserveState:!0,replace:!0})},h=()=>{const l=window.location.pathname.split("/");return l.length>=4?l[l.length-1]:null},i=d(()=>{const t=new URLSearchParams(window.location.search);return{game:t.get("game")||null,questionCount:t.get("questionCount")||o.value.questionCount,wordSelection:t.get("wordSelection")||o.value.wordSelection,difficulty:t.get("difficulty")||o.value.difficulty,learningStatus:t.get("learningStatus")||o.value.learningStatus}});return(t,l)=>{const v=A("Link");return n(),m(Q,null,{default:T(()=>{var C,L,q;return[U(Z,{title:"Kelimeler"}),s.error?(n(),r("div",H,[e("div",X,[ee,e("div",te,[e("h3",oe,_(s.error),1)])])])):g("",!0),!s.error&&i.value.game==="multiple-choice"?(n(),m(W,{key:1,gameType:i.value.game,packSlug:((C=s.pack)==null?void 0:C.slug)||h(),words:s.words,gameConfig:i.value},null,8,["gameType","packSlug","words","gameConfig"])):!s.error&&i.value.game==="fill-in-the-blank"?(n(),m(Y,{key:2,gameType:i.value.game,packSlug:((L=s.pack)==null?void 0:L.slug)||h(),words:s.words,gameConfig:i.value},null,8,["gameType","packSlug","words","gameConfig"])):!s.error&&i.value.game==="word-completion"?(n(),m(G,{key:3,gameType:i.value.game,packSlug:((q=s.pack)==null?void 0:q.slug)||h(),words:s.words,gameConfig:i.value},null,8,["gameType","packSlug","words","gameConfig"])):s.error?g("",!0):(n(),r("div",se,[e("div",le,[e("div",ae,[e("div",null,[ne,e("p",ie," Toplam Kelime Sayısı: "+_(y.value?"...":s.words?s.words.length:0),1)]),e("div",re,[f.value&&s.pack?(n(),r("a",{key:0,href:t.route("rendition.language-packs.edit",s.pack.id),class:"rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Paketi Düzenle ",8,ue)):g("",!0),f.value?(n(),r("a",{key:1,href:t.route("rendition.words.create"),class:"hover:bg-black-700 focus:ring-black-500 rounded-md bg-black px-3 py-2 text-sm text-white focus:outline-none focus:ring-2"}," Yeni Kelime Ekle ",8,de)):g("",!0)])]),$.value?(n(),r("div",ce,[e("div",me,[ge,e("div",fe,[e("div",pe,[e("div",null,[ve,e("div",_e,[c(e("input",{type:"range",id:"questionCount","onUpdate:modelValue":l[0]||(l[0]=a=>o.value.questionCount=a),min:"5",max:"20",class:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200"},null,512),[[F,o.value.questionCount]]),e("span",ye,_(o.value.questionCount),1)])]),e("div",null,[he,e("div",we,[e("div",ke,[c(e("input",{type:"radio",id:"random","onUpdate:modelValue":l[1]||(l[1]=a=>o.value.wordSelection=a),value:"random",class:"h-4 w-4 border-gray-300 text-black focus:ring-gray-500"},null,512),[[w,o.value.wordSelection]]),be]),e("div",xe,[c(e("input",{type:"radio",id:"difficult","onUpdate:modelValue":l[2]||(l[2]=a=>o.value.wordSelection=a),value:"difficult",class:"h-4 w-4 border-gray-300 text-black focus:ring-gray-500"},null,512),[[w,o.value.wordSelection]]),Se]),e("div",Ce,[c(e("input",{type:"radio",id:"easy","onUpdate:modelValue":l[3]||(l[3]=a=>o.value.wordSelection=a),value:"easy",class:"h-4 w-4 border-gray-300 text-black focus:ring-gray-500"},null,512),[[w,o.value.wordSelection]]),Le])])])]),e("div",qe,[e("div",null,[Te,c(e("select",{id:"difficulty","onUpdate:modelValue":l[4]||(l[4]=a=>o.value.difficulty=a),class:"w-full rounded-md border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-gray-500"},ze,512),[[K,o.value.difficulty]])]),e("div",null,[Be,c(e("select",{id:"learningStatus","onUpdate:modelValue":l[5]||(l[5]=a=>o.value.learningStatus=a),class:"w-full rounded-md border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-gray-500"},Re,512),[[K,o.value.learningStatus]])])])])]),e("div",Me,[(n(!0),r(R,null,M(z.value,(a,D)=>(n(),m(v,{key:D,onClick:Qe=>B(a.route),class:O(["flex cursor-pointer flex-col items-center justify-center rounded-lg border border-gray-200 bg-white p-3 text-center text-xs font-medium text-gray-700 shadow-sm transition-all hover:bg-gray-100 hover:shadow-md",{"cursor-not-allowed opacity-50":!k.value}])},{default:T(()=>[e("span",null,_(a.name),1)]),_:2},1032,["onClick","class"]))),128))])])):(n(),r("div",Oe," Oyunları başlatabilmek için en az 5 kelime eklemelisiniz. ")),U(J,{words:s.words,isLoading:y.value,showActions:f.value},null,8,["words","isLoading","showActions"]),p.value&&j.value.length===0&&f.value?(n(),r("div",Ee,[e("p",Ie,[E(" Aradığınız kelime bulunamadı. "),e("a",{href:t.route("rendition.words.create"),class:"font-medium underline"}," Yeni bir kelime eklemek ister misiniz? ",8,Ne)])])):g("",!0)])]))]}),_:1})}}};export{tt as default};
