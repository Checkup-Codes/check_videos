import{Q as V,r as b,p as $,m as W,J as z,y as G,N as Q,s as U,c as l,j as J,a as e,e as K,f as A,w as Y,h as w,o,F as O,t as x,n as y,u as X,g as D}from"./ssr-COd_82OS.js";import{_ as Z}from"./ExcalidrawComponent-DF1OgAbA.js";import{_ as ee}from"./CheckScreen-CksszvzW.js";import{_ as te}from"./app-udAvpmnU.js";import{S as se,u as P}from"./useGsapAnimation-B0TcPcEk.js";import{u as oe}from"./useProcessedQuillContent-w57uUIiP.js";import{g as ne}from"./index-CH_iu5NA.js";/* empty css            */const le={key:0,class:"relative h-screen w-full"},re={class:"mx-auto max-w-4xl"},ae={class:"bg-base-100 transition-all duration-200"},ie={class:"p-6 pt-12 sm:p-8 sm:pt-16"},ue={class:"mb-8"},ce={key:0,class:"space-y-3"},de={class:"mb-3 text-2xl font-bold text-base-content"},fe={class:"text-base-content/60 text-sm"},ve={key:0,class:"mb-6 flex items-center justify-between"},be={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},he={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},pe={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},ge={key:1,class:"space-y-3"},we={key:2},me={class:"content-container"},xe=["innerHTML"],ke={key:1,class:"content-placeholder"},ye={key:3,class:"text-base-content/60 mt-8 text-sm"},_e={class:"flex h-full flex-col"},Ce={class:"flex-1 overflow-y-auto p-4"},Me={key:0,class:"text-base-content/60 py-8 text-center text-sm"},Se={key:1,class:"space-y-1"},Te=["onClick"],Le={class:"text-base-content"},je={class:"rounded-lg bg-base-100 shadow-lg"},ze={class:"overflow-y-auto p-3",style:{"max-height":"calc(100vh - 220px)"}},Oe={key:0,class:"text-base-content/60 py-4 text-center text-xs"},Ie={key:1,class:"space-y-1"},Be=["onClick"],He={class:"text-base-content"},Ne=Object.assign({name:"ShowWriteScreen"},{__name:"Screen",setup(Re){ne.registerPlugin(se);const{props:I}=V(),c=b(I.write||{});I.auth;const h=b(null),a=b(!1),d=b(!1),i=b(!1),f=b([]),g=b(!1),S=b(null),_=b(!1),B=()=>{const s=window.innerWidth>=1536;_.value=s,s&&g.value&&f.value.length>0?i.value=!0:s||(i.value=!1)},v=$(()=>!c.value.title),T=oe(h,$(()=>d.value?c.value.content:"")),q=s=>{if(!s)return"";const t=new Date(s),n=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],r=t.getDate(),u=n[t.getMonth()],p=t.getFullYear();return`${r} ${u} ${p}`},F=s=>new Intl.NumberFormat("tr-TR").format(s),H=()=>{a.value=!a.value,!a.value&&!d.value&&(d.value=!0)};let m=null;const L=()=>{if(!h.value)return;m&&m.disconnect();const s=h.value.querySelectorAll("h1, h2, h3, h4, h5, h6");s.length!==0&&(m=new IntersectionObserver(t=>{const n=t.filter(r=>r.isIntersecting);if(n.length>0){n.sort((u,p)=>u.intersectionRatio!==p.intersectionRatio?p.intersectionRatio-u.intersectionRatio:u.boundingClientRect.top-p.boundingClientRect.top);const r=n[0];r.target.id&&(S.value=r.target.id)}},{rootMargin:"-20% 0px -70% 0px",threshold:[0,.25,.5,.75,1]}),s.forEach(t=>{t.id&&m.observe(t)}))},j=()=>{if(!h.value)return;const s=h.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),t=[];s.forEach((n,r)=>{n.id||(n.id=`heading-${r}`);const u=parseInt(n.tagName.charAt(1)),p=n.textContent.trim();p&&t.push({id:n.id,text:p,level:u})}),f.value=t,g.value=t.length>0},k=()=>{i.value=!i.value},N=s=>{const t=document.getElementById(s);t&&(S.value=s,t.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(i.value=!1))},R=s=>{switch(s){case 1:return"pl-0";case 2:return"pl-4 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2";case 3:return"pl-8 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 4:return"pl-12 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 5:return"pl-16 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 6:return"pl-20 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";default:return"pl-0"}},E=s=>S.value===s?"bg-base-content/10 text-base-content border-l-2 border-base-content":"";let C=null,M=null;return W(()=>{B(),M=()=>{B()},window.addEventListener("resize",M),d.value=!1;const s=document.querySelector(".content-placeholder");s?(C=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&!d.value&&(d.value=!0,z(()=>{P(h,{duration:.8}),setTimeout(()=>{j(),f.value.length>0&&(L(),_.value&&(i.value=!0))},100)}))})},{threshold:.1,rootMargin:"50px"}),C.observe(s)):(d.value=!0,z(()=>{P(h,{duration:.8}),setTimeout(()=>{j(),f.value.length>0&&(L(),_.value&&(i.value=!0))},100)}));const t=new URLSearchParams(window.location.search);if(a.value=t.has("draw"),c.value.content&&c.value.content.includes("<img")){const n=/<img[^>]+src="([^"]+)"/g;let r;for(;(r=n.exec(c.value.content))!==null;){const u=new Image;u.src=r[1]}}}),G(()=>{C&&C.disconnect(),m&&m.disconnect(),M&&window.removeEventListener("resize",M)}),Q.on("before",()=>{const s=document.querySelector(".write-list-container");s&&localStorage.setItem("writeListScrollPosition",s.scrollTop.toString())}),U(T,()=>{d.value&&T.value&&z(()=>{j(),f.value.length>0&&(L(),_.value&&(i.value=!0))})},{flush:"post"}),(s,t)=>a.value?(o(),l("div",le,[e("div",{class:"absolute left-4 top-[53px] z-10 lg:top-4"},[e("button",{onClick:H,class:"flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm text-base-content shadow-lg transition-all duration-200 hover:bg-base-200"},[...t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),A(" Metne Dön ",-1)])])]),K(Z,{write:c.value},null,8,["write"])])):(o(),J(ee,{key:1},{default:Y(()=>[e("div",re,[e("div",ae,[e("div",ie,[e("div",ue,[v.value?(o(),l("div",ce,[...t[1]||(t[1]=[e("div",{class:"skeleton h-8 w-3/4 rounded"},null,-1),e("div",{class:"skeleton h-4 w-24 rounded"},null,-1)])])):(o(),l(O,{key:1},[e("h1",de,x(c.value.title),1),e("div",fe,x(q(c.value.created_at)),1)],64))]),v.value?w("",!0):(o(),l("div",ve,[e("button",{onClick:H,class:y(["flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm transition-all duration-200 hover:bg-base-200",a.value?"border-primary bg-primary text-primary-content":"text-base-content"])},[(o(),l("svg",be,[a.value?(o(),l("path",he)):(o(),l("path",pe))])),A(" "+x(a.value?"Metni Göster":"Çizimi Göster"),1)],2)])),v.value?(o(),l("div",ge,[...t[2]||(t[2]=[e("div",{class:"skeleton h-4 w-full rounded"},null,-1),e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1),e("div",{class:"skeleton h-4 w-4/6 rounded"},null,-1),e("div",{class:"skeleton h-4 w-full rounded"},null,-1),e("div",{class:"skeleton h-4 w-3/4 rounded"},null,-1),e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1),e("div",{class:"skeleton h-32 w-full rounded"},null,-1),e("div",{class:"skeleton h-4 w-2/3 rounded"},null,-1),e("div",{class:"skeleton h-4 w-full rounded"},null,-1)])])):(o(),l("div",we,[e("div",me,[d.value?(o(),l("div",{key:0,class:"article-content ql-editor",ref_key:"contentRef",ref:h,innerHTML:X(T)},null,8,xe)):(o(),l("div",ke,[...t[3]||(t[3]=[e("div",{class:"space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-5/6 rounded"}),e("div",{class:"skeleton h-4 w-4/6 rounded"}),e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-3/4 rounded"})],-1)])]))])])),v.value?w("",!0):(o(),l("div",ye,x(F(c.value.views_count))+" görüntülenme ",1))])])]),!v.value&&g.value&&!a.value?(o(),l("button",{key:0,onClick:k,class:"fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:hidden"},[...t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])])):w("",!0),!v.value&&g.value&&!a.value?(o(),l("div",{key:1,class:y(["fixed right-0 top-12 z-40 h-[calc(100vh-3rem)] w-80 transform bg-base-100 shadow-2xl transition-transform duration-300 2xl:hidden",{"translate-x-full":!i.value}])},[e("div",_e,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-4"},[t[6]||(t[6]=e("h3",{class:"text-lg font-semibold text-base-content"},"İçindekiler",-1)),e("button",{onClick:k,class:"btn btn-ghost btn-sm"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Ce,[f.value.length===0?(o(),l("div",Me," İçindekiler bulunamadı ")):(o(),l("div",Se,[(o(!0),l(O,null,D(f.value,(n,r)=>(o(),l("div",{key:r,onClick:u=>N(n.id),class:y(["cursor-pointer rounded-lg p-2 text-sm transition-colors hover:bg-base-200",[R(n.level),E(n.id)]])},[e("span",Le,x(n.text),1)],10,Te))),128))]))])])],2)):w("",!0),!v.value&&g.value&&!a.value?(o(),l("button",{key:2,onClick:k,class:"fixed right-4 top-28 z-50 hidden h-10 w-10 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:flex"},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])])):w("",!0),!v.value&&g.value&&!a.value?(o(),l("div",{key:3,class:y(["fixed right-4 top-28 z-30 hidden w-64 transition-all duration-300 ease-in-out 2xl:block",i.value?"translate-x-0 opacity-100":"pointer-events-none translate-x-full opacity-0"])},[e("div",je,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-3"},[t[9]||(t[9]=e("h3",{class:"text-sm font-semibold text-base-content"},"İçindekiler",-1)),e("button",{onClick:k,class:"btn btn-ghost btn-xs"},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ze,[f.value.length===0?(o(),l("div",Oe," İçindekiler bulunamadı ")):(o(),l("div",Ie,[(o(!0),l(O,null,D(f.value,(n,r)=>(o(),l("div",{key:r,onClick:u=>N(n.id),class:y(["cursor-pointer rounded p-2 text-xs transition-colors hover:bg-base-200",[R(n.level),E(n.id)]])},[e("span",He,x(n.text),1)],10,Be))),128))]))])])],2)):w("",!0),!v.value&&g.value&&i.value&&!a.value?(o(),l("div",{key:4,onClick:k,class:"fixed inset-0 z-30 bg-black/20 2xl:hidden"})):w("",!0)]),_:1}))}}),We=te(Ne,[["__scopeId","data-v-d97bdc95"]]);export{We as default};
