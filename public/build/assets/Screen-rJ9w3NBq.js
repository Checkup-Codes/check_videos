import{Q as K,r as c,p as $,s as P,m as W,y as G,j as O,o as t,w as j,a as e,c as s,h as r,F as B,t as d,u as b,e as F,i as I,f as v,k as R,v as q,n as z,g as N,S as J,U as X,N as A}from"./ssr-DY-85ls2.js";import{_ as Z}from"./CheckScreen-DL8qLJnT.js";import{_ as ee}from"./app-Bi9TAgvo.js";/* empty css            */const l=x=>(J("data-v-706e02b5"),x=x(),X(),x),te={class:"p-6 pt-12 sm:p-8 sm:pt-16"},se={class:"mb-8"},oe={key:0,class:"space-y-3"},ne=l(()=>e("div",{class:"h-8 w-1/2 rounded bg-base-200"},null,-1)),ae=l(()=>e("div",{class:"h-4 w-24 rounded bg-base-200"},null,-1)),le=[ne,ae],ie={class:"mb-6"},re={class:"text-2xl font-semibold text-base-content sm:text-3xl"},ce={class:"text-base-content/60 mt-2 flex items-center gap-3 text-sm"},de={key:0,class:"text-base-content/40"},ue={key:1,class:"text-base-content/40"},he={key:0,class:"flex gap-2"},ve=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),me=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),_e={key:0,class:"mb-8"},pe={class:"flex flex-col gap-4"},we={class:"relative"},ge=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"text-base-content/50 absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)),ke={class:"flex flex-wrap gap-2"},be={class:"mt-4 flex items-center justify-between"},xe={class:"text-base-content/60 text-sm"},fe={key:0,class:"text-base-content/40"},ye=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Ce={key:1,class:"space-y-3"},ze=l(()=>e("div",{class:"flex items-center gap-3"},[e("div",{class:"h-8 w-8 rounded bg-base-200"}),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-4 w-3/4 rounded bg-base-200"}),e("div",{class:"h-3 w-1/2 rounded bg-base-200"})]),e("div",{class:"h-6 w-16 rounded bg-base-200"})],-1)),Me=[ze],Le={key:2},je={class:"space-y-1"},Be={class:"flex items-center gap-3"},Se={class:"bg-primary/10 flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-primary"},Ve={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Te=l(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)),He=[Te],De={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},$e=l(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"},null,-1)),Fe=[$e],Ie={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ne=l(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)),Ae=[Ne],Ee={class:"min-w-0 flex-1"},Ye={class:"text-sm font-medium text-base-content"},Qe={key:0,class:"text-base-content/60 mt-1 text-xs"},Ue={class:"text-base-content/50 mt-2 flex items-center gap-3 text-xs"},Ke={class:"flex items-center gap-1"},Pe=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"h-3 w-3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),We={class:"flex items-center gap-1"},Ge=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"h-3 w-3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Oe={key:0,class:"flex justify-center py-6"},Re={key:0,class:"text-base-content/60 flex items-center gap-2 text-sm"},qe=l(()=>e("div",{class:"loading loading-spinner loading-sm"},null,-1)),Je=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})],-1)),Xe={key:0,class:"py-12 text-center"},Ze=l(()=>e("div",{class:"text-base-content/40 mb-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mx-auto h-12 w-12"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),et={class:"text-base-content/60 text-sm"},tt={key:0},st={key:1},ot={key:1,class:"py-6 text-center"},nt=l(()=>e("p",{class:"text-base-content/40 text-sm"},"Tüm yazılar yüklendi",-1)),at=[nt],S=10,lt=Object.assign({name:"ShowCategoryScreen"},{__name:"Screen",setup(x){var D;const{props:f}=K(),u=c(f.category||{}),V=c(f.writes||[]),M=f.auth,T=c((D=f.flash)==null?void 0:D.success),g=c(!0),y=c(""),h=c(""),i=c("all"),_=c(1),k=c(!1),m=c(!0);let C=null;const E=()=>{clearTimeout(C),C=setTimeout(()=>{h.value=y.value,_.value=1,m.value=!0},300)},p=$(()=>{let a=V.value||[];return h.value&&(a=a.filter(o=>o.title.toLowerCase().includes(h.value.toLowerCase()))),i.value!=="all"&&(a=a.filter(o=>o.status===i.value)),a}),L=$(()=>p.value.slice(0,_.value*S)),H=async()=>{if(k.value||!m.value)return;k.value=!0,await new Promise(w=>setTimeout(w,500)),_.value++;const a=p.value.length;_.value*S>=a&&(m.value=!1),k.value=!1};P([h,i],()=>{_.value=1,m.value=!0});const Y=()=>{y.value="",h.value="",i.value="all",_.value=1,m.value=!0},Q=a=>a?new Date(a).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric"}):"",U=a=>{confirm(`"${u.value.name}" kategorisini silmek istediğinizden emin misiniz?`)&&A.delete(route("categories.destroy",a),{onSuccess:()=>{A.visit(route("categories.index"))},onError:o=>{console.error("Kategori silinirken hata oluştu:",o),alert("Kategori silinirken bir hata oluştu.")}})};return W(()=>{setTimeout(()=>{g.value=!1},300);const a=()=>{const o=window.scrollY,w=window.innerHeight,n=document.documentElement.scrollHeight;o+w>=n-100&&H()};window.addEventListener("scroll",a),T.value&&setTimeout(()=>{T.value=null},3e3),G(()=>{window.removeEventListener("scroll",a),C&&clearTimeout(C)})}),(a,o)=>(t(),O(Z,null,{default:j(()=>{var w;return[e("div",te,[e("div",se,[g.value?(t(),s("div",oe,le)):(t(),s(B,{key:1},[e("div",ie,[e("h1",re,d(u.value.name),1),e("div",ce,[e("span",null,d(((w=p.value)==null?void 0:w.length)||0)+" yazı",1),u.value.description?(t(),s("span",de,"•")):r("",!0),u.value.description?(t(),s("span",ue,d(u.value.description),1)):r("",!0)])]),b(M).user&&!g.value?(t(),s("div",he,[F(b(I),{href:a.route("categories.edit",u.value.id),class:"btn btn-ghost btn-sm"},{default:j(()=>[ve,v(" Düzenle ")]),_:1},8,["href"]),e("button",{onClick:o[0]||(o[0]=n=>U(u.value.id)),class:"btn btn-ghost btn-sm text-error"},[me,v(" Sil ")])])):r("",!0)],64))]),g.value?r("",!0):(t(),s("div",_e,[e("div",pe,[e("div",we,[R(e("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>y.value=n),type:"text",class:"input-bordered input w-full pl-10",placeholder:"Yazı başlığı ara...",onInput:E},null,544),[[q,y.value]]),ge]),e("div",ke,[e("button",{onClick:o[2]||(o[2]=n=>i.value="all"),class:z(["btn btn-sm",i.value==="all"?"btn-primary":"btn-ghost"])}," Tümü ",2),e("button",{onClick:o[3]||(o[3]=n=>i.value="published"),class:z(["btn btn-sm",i.value==="published"?"btn-primary":"btn-ghost"])}," Yayında ",2),b(M).user?(t(),s("button",{key:0,onClick:o[4]||(o[4]=n=>i.value="private"),class:z(["btn btn-sm",i.value==="private"?"btn-primary":"btn-ghost"])}," Gizli ",2)):r("",!0),b(M).user?(t(),s("button",{key:1,onClick:o[5]||(o[5]=n=>i.value="link_only"),class:z(["btn btn-sm",i.value==="link_only"?"btn-primary":"btn-ghost"])}," Sadece Link ",2)):r("",!0)])]),e("div",be,[e("div",xe,[v(d(L.value.length)+" / "+d(p.value.length||0)+" yazı ",1),h.value||i.value!=="all"?(t(),s("span",fe," ("+d(V.value.length||0)+" toplam) ",1)):r("",!0)]),h.value||i.value!=="all"?(t(),s("button",{key:0,onClick:Y,class:"btn btn-ghost btn-sm"},[ye,v(" Temizle ")])):r("",!0)])])),g.value?(t(),s("div",Ce,[(t(),s(B,null,N(3,n=>e("div",{key:n,class:"rounded-lg bg-base-100 p-4"},Me)),64))])):(t(),s("div",Le,[e("div",je,[(t(!0),s(B,null,N(L.value,n=>(t(),s("div",{key:n.id,class:"rounded-lg bg-base-100 p-4 transition-all duration-200 hover:shadow-sm"},[e("div",Be,[e("div",Se,[n.status==="private"?(t(),s("svg",Ve,He)):n.status==="link_only"?(t(),s("svg",De,Fe)):(t(),s("svg",Ie,Ae))]),e("div",Ee,[F(b(I),{href:a.route("categories.showByCategory",{category:u.value.slug,slug:n.slug}),class:"block"},{default:j(()=>[e("h3",Ye,d(n.title),1)]),_:2},1032,["href"]),n.summary?(t(),s("p",Qe,d(n.summary),1)):r("",!0),e("div",Ue,[e("span",Ke,[Pe,v(" "+d(n.views_count)+" görüntülenme ",1)]),e("span",We,[Ge,v(" "+d(Q(n.created_at)),1)])])])])]))),128)),(m.value||k.value)&&p.value.length>S?(t(),s("div",Oe,[k.value?(t(),s("div",Re,[qe,v(" Yükleniyor... ")])):(t(),s("button",{key:1,onClick:H,class:"btn btn-ghost btn-sm"},[Je,v(" Daha Fazla ")]))])):r("",!0)]),p.value.length===0?(t(),s("div",Xe,[Ze,e("p",et,[h.value||i.value!=="all"?(t(),s("span",tt," Arama kriterlerinize uygun yazı bulunamadı. ")):(t(),s("span",st,"Bu kategoride henüz yazı bulunmuyor."))])])):!m.value&&L.value.length>0?(t(),s("div",ot,at)):r("",!0)]))])]}),_:1}))}}),ut=ee(lt,[["__scopeId","data-v-706e02b5"]]);export{ut as default};
