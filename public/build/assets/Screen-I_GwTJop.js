import{b as G,Q as R,g as k,T as Q,y as Y,e as M,w as B,a as e,c as i,j as u,n as C,k as c,o as r,t as p,F as h,l as w,u as l,p as W,h as E,i as x,m as v,v as T,G as K,f as I,N as J,H as X,D as ee}from"./ssr-AmW-FCLL.js";import{_ as te}from"./CheckScreen-BrF7qB4E.js";import oe from"./BulkImportTab-DySoz3jd.js";const se={class:"space-y-6 py-6"},ne={class:"flex gap-2 border-b border-border"},re={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},le={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},ie={key:0},ae={key:0,class:"rounded-lg border border-yellow-500/30 bg-yellow-500/10 p-4"},de={class:"flex items-start gap-3"},ue={class:"flex-1"},pe={class:"font-medium text-yellow-800 dark:text-yellow-200"},ce={key:0,class:"mt-4 space-y-2"},me={class:"font-medium text-foreground"},ge={class:"ml-2 text-xs text-muted-foreground"},xe={key:0,class:"ml-2 text-xs text-muted-foreground"},fe={class:"flex items-center gap-2 text-xs text-muted-foreground"},ve={key:0,class:"text-xs text-center text-muted-foreground pt-2"},ye={class:"rounded-xl bg-card p-6 ring-1 ring-border/50"},be={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ke={class:"space-y-2"},he={key:0,class:"text-xs text-destructive"},we={key:1,class:"text-xs text-muted-foreground"},_e={key:2,class:"rounded-lg border border-destructive/30 bg-destructive/10 p-3"},Ce={class:"flex items-start gap-2"},je={class:"flex-1"},Me={class:"text-xs font-medium text-destructive"},Be={class:"space-y-2"},Ee={class:"rounded-xl bg-card p-6 ring-1 ring-border/50"},Te={class:"space-y-3"},Se=["onUpdate:modelValue","placeholder","onKeydown"],Ve={class:"flex cursor-pointer items-center gap-1.5 text-xs text-muted-foreground"},We=["checked","onChange"],Ke=["onClick"],Ue={class:"group rounded-xl bg-card ring-1 ring-border/50"},$e={class:"space-y-6 border-t border-border p-6"},De={class:"space-y-2"},Ae={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ze={class:"space-y-2"},Le={class:"space-y-2"},Pe={key:0,class:"space-y-3"},Fe={class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3"},Ne=["onClick"],Ze={class:"text-xs opacity-70"},Oe={class:"space-y-3"},He=["onUpdate:modelValue"],qe=["onUpdate:modelValue"],Ge=["onClick"],Re={class:"space-y-3"},Qe={class:"flex flex-wrap gap-2"},Ye=["onClick"],Ie={class:"flex gap-2"},Je=["onKeydown"],Xe={class:"flex items-center justify-end gap-3"},et=["disabled"],nt={__name:"Screen",props:{languagePacks:{type:Array,default:()=>[]},incompleteWords:{type:Array,default:()=>[]},incompleteWordsCount:{type:Number,default:0},error:String,screen:Object},setup(f){const j=G(()=>R().props.errors),y=k(!1),b=k(""),_=k(!1),g=k("single"),o=Q({word:"",definition:"",meanings:[{meaning:"",is_primary:!0}],type:"",language:"en",difficulty_level:2,learning_status:0,flag:!1,language_pack_ids:[],example_sentences:[],example_translations:[],synonyms:[]}),d=k({checking:!1,exists:!1,existingWord:null,message:""});let S=null;const U=async()=>{if(!o.word||!o.language){d.value={checking:!1,exists:!1,existingWord:null,message:""};return}d.value.checking=!0;try{const n=await ee.post(route("rendition.words.check-duplicate"),{word:o.word,language:o.language,type:o.type||null});n.data.exists?d.value={checking:!1,exists:!0,existingWord:n.data.word,message:n.data.message}:d.value={checking:!1,exists:!1,existingWord:null,message:""}}catch(n){console.error("Duplicate check error:",n),d.value.checking=!1}},$=()=>{clearTimeout(S),S=setTimeout(()=>{U()},500)};Y([()=>o.word,()=>o.language,()=>o.type],()=>{$()});const D=()=>{d.value.existingWord&&J.visit(d.value.existingWord.edit_url)},A=n=>({noun:"İsim",verb:"Fiil",adjective:"Sıfat",adverb:"Zarf",pronoun:"Zamir",preposition:"Edat",conjunction:"Bağlaç",interjection:"Ünlem",phrase:"Deyim"})[n]||n,z=n=>{const t=o.language_pack_ids.indexOf(n);t>-1?o.language_pack_ids.splice(t,1):o.language_pack_ids.push(n)},L=()=>{o.meanings.push({meaning:"",is_primary:!1})},P=async n=>{o.meanings.push({meaning:"",is_primary:!1}),await X();const t=document.querySelectorAll('input[placeholder*="anlam"]');t[n+1]&&t[n+1].focus()},F=n=>{o.meanings.splice(n,1)},N=n=>{o.meanings.forEach((t,s)=>{t.is_primary=s===n})},Z=()=>{o.example_sentences.push(""),o.example_translations.push("")},O=n=>{o.example_sentences.splice(n,1),o.example_translations.splice(n,1)},V=()=>{b.value.trim()&&(o.synonyms.push(b.value.trim()),b.value="")},H=n=>{o.synonyms.splice(n,1)},q=()=>{if(!o.word.trim())return;y.value=!0;const n=[],t=[];o.example_sentences.forEach((s,a)=>{s.trim()&&(n.push(s),t.push(o.example_translations[a]||""))}),o.example_sentences=n,o.example_translations=t,o.post(route("rendition.words.store"),{onSuccess:()=>{y.value=!1},onError:()=>{y.value=!1}})};return(n,t)=>(r(),M(te,null,{default:B(()=>[e("div",se,[t[40]||(t[40]=e("div",null,[e("h1",{class:"text-2xl font-bold text-foreground"},"Yeni Kelime"),e("p",{class:"mt-1 text-sm text-muted-foreground"},"Tek kelime veya toplu olarak ekleyebilirsiniz")],-1)),e("div",ne,[e("button",{onClick:t[0]||(t[0]=s=>g.value="single"),class:C(["relative px-4 py-2 text-sm font-medium transition-colors",g.value==="single"?"text-primary":"text-muted-foreground hover:text-foreground"])},[t[10]||(t[10]=c(" Tek Kelime ",-1)),g.value==="single"?(r(),i("div",re)):u("",!0)],2),e("button",{onClick:t[1]||(t[1]=s=>g.value="bulk"),class:C(["relative px-4 py-2 text-sm font-medium transition-colors",g.value==="bulk"?"text-primary":"text-muted-foreground hover:text-foreground"])},[t[11]||(t[11]=c(" Toplu Ekleme ",-1)),g.value==="bulk"?(r(),i("div",le)):u("",!0)],2)]),g.value==="single"?(r(),i("div",ie,[f.incompleteWordsCount>0?(r(),i("div",ae,[e("div",de,[t[13]||(t[13]=e("svg",{class:"mt-0.5 h-5 w-5 flex-shrink-0 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("div",ue,[e("h3",pe,p(f.incompleteWordsCount)+" yarım kalan kelime var ",1),t[12]||(t[12]=e("p",{class:"mt-1 text-sm text-yellow-700 dark:text-yellow-300"}," Bu kelimelerin anlamları henüz girilmemiş. ",-1)),e("button",{onClick:t[2]||(t[2]=s=>_.value=!_.value),class:"mt-2 text-sm font-medium text-yellow-800 underline hover:no-underline dark:text-yellow-200"},p(_.value?"Gizle":"Tamamla"),1)])]),_.value?(r(),i("div",ce,[(r(!0),i(h,null,w(f.incompleteWords,s=>(r(),M(l(W),{key:s.id,href:`/rendition/words/${s.id}/edit`,class:"flex items-center justify-between rounded-md border border-yellow-500/20 bg-background p-3 transition-colors hover:bg-accent"},{default:B(()=>[e("div",null,[e("span",me,p(s.word),1),e("span",ge,p(s.language.toUpperCase()),1),s.type?(r(),i("span",xe,"("+p(A(s.type))+")",1)):u("",!0)]),e("div",fe,[e("span",null,p(s.created_at),1),t[14]||(t[14]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])]),_:2},1032,["href"]))),128)),f.incompleteWordsCount>20?(r(),i("p",ve," ... ve "+p(f.incompleteWordsCount-20)+" kelime daha ",1)):u("",!0)])):u("",!0)])):u("",!0),e("form",{onSubmit:E(q,["prevent"]),class:"space-y-6"},[e("div",ye,[t[21]||(t[21]=e("h2",{class:"mb-4 text-lg font-semibold text-foreground"},"Temel Bilgiler",-1)),e("div",be,[e("div",ke,[t[18]||(t[18]=e("label",{class:"text-sm font-medium text-foreground"},[c(" Kelime "),e("span",{class:"text-destructive"},"*")],-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l(o).word=s),type:"text",placeholder:"Kelimeyi girin...",class:C(["w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",{"border-destructive":j.value.word||d.value.exists}]),required:""},null,2),[[v,l(o).word]]),j.value.word?(r(),i("p",he,p(j.value.word),1)):u("",!0),d.value.checking?(r(),i("p",we,[...t[15]||(t[15]=[e("span",{class:"inline-block animate-spin"},"⏳",-1),c(" Kontrol ediliyor... ",-1)])])):u("",!0),d.value.exists?(r(),i("div",_e,[e("div",Ce,[t[17]||(t[17]=e("svg",{class:"mt-0.5 h-4 w-4 flex-shrink-0 text-destructive",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("div",je,[e("p",Me,p(d.value.message),1),e("button",{type:"button",onClick:D,class:"mt-2 inline-flex items-center gap-1 text-xs font-medium text-destructive underline hover:no-underline"},[...t[16]||(t[16]=[c(" Mevcut kelimeyi düzenle ",-1),e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])])])])):u("",!0)]),e("div",Be,[t[20]||(t[20]=e("label",{class:"text-sm font-medium text-foreground"},[c(" Dil "),e("span",{class:"text-destructive"},"*")],-1)),x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l(o).language=s),class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},[...t[19]||(t[19]=[e("option",{value:"en"},"İngilizce (EN)",-1),e("option",{value:"tr"},"Türkçe (TR)",-1),e("option",{value:"de"},"Almanca (DE)",-1),e("option",{value:"fr"},"Fransızca (FR)",-1),e("option",{value:"es"},"İspanyolca (ES)",-1)])],512),[[T,l(o).language]])])])]),e("div",Ee,[t[25]||(t[25]=e("div",{class:"mb-4 flex items-center justify-between"},[e("div",null,[e("h2",{class:"text-lg font-semibold text-foreground"},"Anlam"),e("p",{class:"text-xs text-muted-foreground"},'Boş bırakırsanız "yarım kalan" olarak kaydedilir')])],-1)),e("div",Te,[(r(!0),i(h,null,w(l(o).meanings,(s,a)=>(r(),i("div",{key:a,class:"flex items-center gap-3"},[x(e("input",{"onUpdate:modelValue":m=>s.meaning=m,type:"text",placeholder:`${a+1}. anlam`,class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",onKeydown:K(E(m=>P(a),["prevent"]),["enter"])},null,40,Se),[[v,s.meaning]]),e("label",Ve,[e("input",{type:"radio",name:"primaryMeaning",checked:s.is_primary,onChange:m=>N(a),class:"h-3.5 w-3.5"},null,40,We),t[22]||(t[22]=c(" Birincil ",-1))]),l(o).meanings.length>1?(r(),i("button",{key:0,type:"button",onClick:m=>F(a),class:"rounded-lg p-2 text-destructive hover:bg-destructive/10"},[...t[23]||(t[23]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ke)):u("",!0)]))),128)),e("button",{type:"button",onClick:L,class:"inline-flex items-center gap-2 rounded-lg border border-dashed border-border px-3 py-2 text-sm text-muted-foreground transition-colors hover:border-primary hover:text-primary"},[...t[24]||(t[24]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Anlam Ekle ",-1)])])])]),e("details",Ue,[t[38]||(t[38]=e("summary",{class:"flex cursor-pointer items-center justify-between p-6 font-semibold text-foreground"},[e("span",null,"Detaylar (Opsiyonel)"),e("svg",{class:"h-5 w-5 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1)),e("div",$e,[e("div",De,[t[26]||(t[26]=e("label",{class:"text-sm font-medium text-foreground"}," Definition (Öğrenilen Dilde Tanım) ",-1)),x(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>l(o).definition=s),rows:"3",placeholder:"Enter the definition in the learning language (e.g., 'A vehicle with four wheels')",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[v,l(o).definition]]),t[27]||(t[27]=e("p",{class:"text-xs text-muted-foreground"},' Kelimenin öğrenilen dildeki tanımını girin (örn: "Car" için "A vehicle with four wheels") ',-1))]),e("div",Ae,[e("div",ze,[t[29]||(t[29]=e("label",{class:"text-sm font-medium text-foreground"},"Tür",-1)),x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>l(o).type=s),class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},[...t[28]||(t[28]=[e("option",{value:""},"Seçiniz",-1),e("option",{value:"noun"},"İsim (Noun)",-1),e("option",{value:"verb"},"Fiil (Verb)",-1),e("option",{value:"adjective"},"Sıfat (Adjective)",-1),e("option",{value:"adverb"},"Zarf (Adverb)",-1),e("option",{value:"pronoun"},"Zamir (Pronoun)",-1),e("option",{value:"preposition"},"Edat (Preposition)",-1),e("option",{value:"conjunction"},"Bağlaç (Conjunction)",-1),e("option",{value:"interjection"},"Ünlem (Interjection)",-1),e("option",{value:"phrase"},"Deyim (Phrase)",-1)])],512),[[T,l(o).type]])]),e("div",Le,[t[31]||(t[31]=e("label",{class:"text-sm font-medium text-foreground"},"Zorluk",-1)),x(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>l(o).difficulty_level=s),class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},[...t[30]||(t[30]=[e("option",{value:1},"Kolay",-1),e("option",{value:2},"Orta",-1),e("option",{value:3},"Zor",-1),e("option",{value:4},"Çok Zor",-1)])],512),[[T,l(o).difficulty_level]])])]),f.languagePacks.length>0?(r(),i("div",Pe,[t[32]||(t[32]=e("label",{class:"text-sm font-medium text-foreground"},"Dil Paketleri",-1)),e("div",Fe,[(r(!0),i(h,null,w(f.languagePacks,s=>(r(),i("button",{key:s.id,type:"button",onClick:a=>z(s.id),class:C(["flex items-center justify-between rounded-lg border p-3 text-left text-sm transition-colors",l(o).language_pack_ids.includes(s.id)?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"])},[e("span",null,p(s.name),1),e("span",Ze,p(s.language.toUpperCase()),1)],10,Ne))),128))])])):u("",!0),e("div",Oe,[t[35]||(t[35]=e("label",{class:"text-sm font-medium text-foreground"},"Örnek Cümleler",-1)),(r(!0),i(h,null,w(l(o).example_sentences,(s,a)=>(r(),i("div",{key:a,class:"flex gap-2"},[x(e("input",{"onUpdate:modelValue":m=>l(o).example_sentences[a]=m,type:"text",placeholder:"Örnek cümle...",class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},null,8,He),[[v,l(o).example_sentences[a]]]),x(e("input",{"onUpdate:modelValue":m=>l(o).example_translations[a]=m,type:"text",placeholder:"Çeviri...",class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},null,8,qe),[[v,l(o).example_translations[a]]]),e("button",{type:"button",onClick:m=>O(a),class:"rounded-lg p-2 text-destructive hover:bg-destructive/10"},[...t[33]||(t[33]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ge)]))),128)),e("button",{type:"button",onClick:Z,class:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-primary"},[...t[34]||(t[34]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Örnek Cümle Ekle ",-1)])])]),e("div",Re,[t[37]||(t[37]=e("label",{class:"text-sm font-medium text-foreground"},"Eş Anlamlılar",-1)),e("div",Qe,[(r(!0),i(h,null,w(l(o).synonyms,(s,a)=>(r(),i("span",{key:a,class:"inline-flex items-center gap-1 rounded-full bg-muted px-3 py-1 text-sm"},[c(p(s)+" ",1),e("button",{type:"button",onClick:m=>H(a),class:"ml-1 text-muted-foreground hover:text-destructive"},[...t[36]||(t[36]=[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ye)]))),128))]),e("div",Ie,[x(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>b.value=s),type:"text",placeholder:"Eş anlamlı kelime...",class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",onKeydown:K(E(V,["prevent"]),["enter"])},null,40,Je),[[v,b.value]]),e("button",{type:"button",onClick:V,class:"rounded-lg border border-input px-3 py-2 text-sm hover:bg-accent"}," Ekle ")])])])]),e("div",Xe,[I(l(W),{href:"/rendition/words",class:"rounded-lg border border-border px-4 py-2 text-sm font-medium text-foreground hover:bg-accent"},{default:B(()=>[...t[39]||(t[39]=[c(" İptal ",-1)])]),_:1}),e("button",{type:"submit",disabled:y.value||!l(o).word.trim()||d.value.exists||d.value.checking,class:"rounded-lg bg-primary px-6 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 disabled:opacity-50"},p(y.value?"Kaydediliyor...":"Kaydet"),9,et)])],32)])):u("",!0),g.value==="bulk"?(r(),M(oe,{key:1,"language-packs":f.languagePacks,onCancel:t[9]||(t[9]=s=>g.value="single")},null,8,["language-packs"])):u("",!0)])]),_:1}))}};export{nt as default};
