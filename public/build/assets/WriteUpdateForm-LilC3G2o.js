import{Q as f,l as g,T as x,L as z,c as U,o as d,w as c,a as i,u as e,b as t,j as p,g as m,h as y,n as b,F as D,m as S,t as _,D as w,v as B,N as C}from"./app-bzSXT2H4.js";import j from"./Form-CmBh1zsU.js";import F from"./RichTextEditor-CELz3emE.js";import u from"./TextField-CIDH9GTA.js";import K from"./KeyboardShortcutDisabler-Ds-pn_1w.js";/* empty css            */import"./Card-Bi_zJmfE.js";import"./Button-CLA9W97u.js";import"./quill.snow-Bbpb3l1m.js";/* empty css                                                       */const L=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),N={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},$={class:"md:col-span-2"},E={class:"md:col-span-2"},G={class:"md:col-span-2"},Y=t("label",{class:"label"},[t("span",{class:"label-text"},"Kategori")],-1),M=t("option",{value:"",disabled:""},"Kategori seç",-1),H=["value"],O={key:0,class:"label"},R={class:"label-text-alt text-error"},T=t("label",{class:"label"},[t("span",{class:"label-text"},"Durumu")],-1),W=t("option",{value:"draft"},"Şablon",-1),A=t("option",{value:"published"},"Yayında",-1),Q=t("option",{value:"private"},"Gizli",-1),q=[W,A,Q],I={key:0,class:"label"},J={class:"label-text-alt text-error"},P={class:"flex items-center space-x-2"},X={class:"label cursor-pointer justify-start gap-2"},Z=t("span",{class:"label-text"},"Çizim İçerir",-1),me={__name:"WriteUpdateForm",setup(ee){const{props:v}=f(),a=v.write,h=g(v.categories),l=x({title:a.title,slug:a.slug,content:a.content,summary:a.summary,status:a.status,category_id:a.category_id,cover_image:a.cover_image,seo_keywords:a.seo_keywords,tags:a.tags,views_count:a.views_count,hasDraw:!!a.hasDraw}),r=g({title:"",slug:"",content:"",summary:"",category_id:"",status:"",cover_image:"",seo_keywords:"",tags:"",views_count:"",hasDraw:""}),k=()=>{r.value.title=l.title?"":"Başlık zorunludur.",r.value.slug=l.slug?"":"Slug zorunludur.",r.value.content=l.content?"":"İçerik zorunludur.",r.value.summary=l.summary?"":"Özet zorunludur.",r.value.category_id=l.category_id?"":"Kategori seçilmelidir.",r.value.status=l.status?"":"Durum seçilmelidir."},V=()=>{k(),Object.values(r.value).some(n=>n!=="")||l.put(route("writes.update",a.id),{onSuccess:()=>{C.visit(route("dashboard"))},onError:n=>{console.error("Form submission errors:",n)}})};return z(()=>l.title,n=>{l.slug=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}),(n,s)=>(d(),U(e(K),null,{default:c(()=>[i(e(j),{title:"Yazıyı Güncelle",submitText:"Güncelle",loading:e(l).processing,onSubmit:V},{icon:c(()=>[L]),default:c(()=>[t("div",N,[t("div",$,[i(e(u),{modelValue:e(l).title,"onUpdate:modelValue":s[0]||(s[0]=o=>e(l).title=o),label:"Başlık",placeholder:"Yazının başlığını girin",error:r.value.title||e(l).errors.title},null,8,["modelValue","error"])]),t("div",null,[i(e(u),{modelValue:e(l).slug,"onUpdate:modelValue":s[1]||(s[1]=o=>e(l).slug=o),label:"Slug",placeholder:"örnek-yazı-slug",error:r.value.slug||e(l).errors.slug},null,8,["modelValue","error"])]),t("div",E,[i(e(u),{modelValue:e(l).summary,"onUpdate:modelValue":s[2]||(s[2]=o=>e(l).summary=o),label:"Özet",type:"textarea",rows:"3",placeholder:"Yazının kısa özeti",error:r.value.summary||e(l).errors.summary},null,8,["modelValue","error"])]),t("div",G,[i(e(F),{modelValue:e(l).content,"onUpdate:modelValue":s[3]||(s[3]=o=>e(l).content=o),label:"İçerik",height:"400px",error:r.value.content||e(l).errors.content},null,8,["modelValue","error"])]),t("div",null,[Y,p(t("select",{"onUpdate:modelValue":s[4]||(s[4]=o=>e(l).category_id=o),class:b(["select select-bordered w-full",{"select-error":r.value.category_id||e(l).errors.category_id}])},[M,(d(!0),m(D,null,S(h.value,o=>(d(),m("option",{key:o.id,value:o.id},_(o.name),9,H))),128))],2),[[w,e(l).category_id]]),r.value.category_id||e(l).errors.category_id?(d(),m("label",O,[t("span",R,_(r.value.category_id||e(l).errors.category_id),1)])):y("",!0)]),t("div",null,[T,p(t("select",{"onUpdate:modelValue":s[5]||(s[5]=o=>e(l).status=o),class:b(["select select-bordered w-full",{"select-error":r.value.status||e(l).errors.status}])},q,2),[[w,e(l).status]]),r.value.status||e(l).errors.status?(d(),m("label",I,[t("span",J,_(r.value.status||e(l).errors.status),1)])):y("",!0)]),t("div",null,[i(e(u),{modelValue:e(l).cover_image,"onUpdate:modelValue":s[6]||(s[6]=o=>e(l).cover_image=o),label:"Kapak Resmi URL",placeholder:"https://example.com/image.jpg",error:r.value.cover_image||e(l).errors.cover_image},null,8,["modelValue","error"])]),t("div",null,[i(e(u),{modelValue:e(l).tags,"onUpdate:modelValue":s[7]||(s[7]=o=>e(l).tags=o),label:"Etiketler",placeholder:"etiket1, etiket2, etiket3",error:r.value.tags||e(l).errors.tags},null,8,["modelValue","error"])]),t("div",null,[i(e(u),{modelValue:e(l).seo_keywords,"onUpdate:modelValue":s[8]||(s[8]=o=>e(l).seo_keywords=o),label:"SEO Anahtar Kelimeleri",placeholder:"anahtar1, anahtar2, anahtar3",error:r.value.seo_keywords||e(l).errors.seo_keywords},null,8,["modelValue","error"])]),t("div",null,[i(e(u),{modelValue:e(l).views_count,"onUpdate:modelValue":s[9]||(s[9]=o=>e(l).views_count=o),label:"Görüntülenme Sayısı",type:"number",readonly:""},null,8,["modelValue"])]),t("div",P,[t("label",X,[p(t("input",{type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=o=>e(l).hasDraw=o),class:"checkbox checkbox-primary"},null,512),[[B,e(l).hasDraw]]),Z])])])]),_:1},8,["loading"])]),_:1}))}};export{me as default};
