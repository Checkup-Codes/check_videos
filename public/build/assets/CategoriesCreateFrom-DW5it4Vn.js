import{o as r,g as l,r as y,n as w,l as f,T as C,i as k,J as V,b as i,a as n,w as c,e as b,u as d,j as S,q as $,F as z,m as F,t as K}from"./app-RTnT3r-p.js";import{_ as L,a as x}from"./Form-DZuzxiHj.js";import{_ as j}from"./Button-Cu4Iv_wZ.js";/* empty css            */const B={__name:"FromDesc",props:{infoClass:{type:String,default:"mb-6 border-l-4 border-gray-300 pl-4 text-sm text-gray-700"}},setup(m){return(p,u)=>(r(),l("p",{class:w(m.infoClass)},[y(p.$slots,"default")],2))}},D={class:"bg-screen-bg mx-auto mt-10 w-full max-w-full overflow-auto px-5 lg:mt-0"},N={class:"container mx-auto p-4"},T=i("h1",{class:"mb-4 text-2xl font-bold"},"Kategori Oluştur",-1),U={class:"mt-4"},A=i("label",{for:"parent_id_input",class:"block text-sm font-medium text-gray-700"},"Üst Kategori",-1),O={key:0,class:"mt-2 max-h-40 overflow-y-auto rounded-md border border-gray-300 bg-white shadow-sm"},q=["onClick"],E={key:1,class:"mt-2 text-sm text-gray-500"},I={__name:"CategoriesCreateFrom",props:{categories:Array},setup(m){const u=f(m.categories),e=C({name:"",slug:"",parent_id:""}),o=f(""),g=k(()=>o.value?u.value.filter(a=>a.name.toLowerCase().includes(o.value.toLowerCase())):u.value),h=a=>{e.parent_id=a.id,o.value=a.name};V(()=>e.name,a=>{e.slug=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")});const _=async()=>{const s=await(await fetch(route("categories.index"),{headers:{Accept:"application/json"}})).json();u.value=s.categories||[]},v=()=>{e.post(route("categories.store")).then(()=>{e.reset(),o.value="",_()})};return _(),(a,s)=>(r(),l("div",D,[i("div",N,[T,n(B,null,{default:c(()=>[b("Kategorileriniz için kategoriler oluşturun. İsterseniz bir üst kategori seçebilirsiniz.")]),_:1}),n(L,{onSubmit:v},{default:c(()=>[n(x,{modelValue:d(e).name,"onUpdate:modelValue":s[0]||(s[0]=t=>d(e).name=t),id:"name",label:"İsim"},null,8,["modelValue"]),n(x,{modelValue:d(e).slug,"onUpdate:modelValue":s[1]||(s[1]=t=>d(e).slug=t),id:"slug",label:"Slug"},null,8,["modelValue"]),i("div",U,[A,S(i("input",{type:"text",id:"parent_id_input","onUpdate:modelValue":s[2]||(s[2]=t=>o.value=t),placeholder:"Üst kategori arayın",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[$,o.value]]),g.value.length?(r(),l("ul",O,[(r(!0),l(z,null,F(g.value,t=>(r(),l("li",{key:t.id,onClick:J=>h(t),class:"cursor-pointer px-4 py-2 hover:bg-gray-100"},K(t.name),9,q))),128))])):(r(),l("p",E,"Sonuç bulunamadı."))]),n(j,{type:"submit",class:"mt-4"},{default:c(()=>[b("Kategori Oluştur")]),_:1})]),_:1})])]))}};export{I as default};
