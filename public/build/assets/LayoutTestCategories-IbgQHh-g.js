import{Q as W,e as l,y as M,s as z,p as s,m as O,x as U,c as j,b as C,u as V,w as y,a as A,n as D,r as H,j as S,h as I,o as f,L as K,$ as Q,F as q,M as _}from"./ssr-DE0PqSHa.js";import{_ as G,a as J}from"./FlashMessage-Bh9h9ace.js";import R from"./SidebarLayoutTest-BUCfScnR.js";import X from"./SidebarLayoutCategory-CwsVi53o.js";import{u as Y}from"./useSidebar-CpHu8Nug.js";import"./TestList-DGv6f-Uj.js";import"./app-Vsdp8_Ja.js";/* empty css            */import"./SubSidebarScreen-BkpxDIs3.js";import"./IconMenu-DOaveBXy.js";import"./IconFolder-C6MBbnWN.js";import"./CategoryTree-Ch7eRKVe.js";import"./IconChevronDown-BZkQlt0u.js";function Z(){var r;const{props:u}=W(),n=l(((r=u.flash)==null?void 0:r.success)||"");return M(()=>{var t;return(t=u.flash)==null?void 0:t.success},t=>{t?n.value=t:n.value=""}),{flashMessage:n}}const pe=Object.assign({name:"LayoutTestCategories"},{__name:"LayoutTestCategories",setup(u){const{isCollapsed:n}=Y(),{flashMessage:r}=Z(),t=z(),k=()=>{r.value=""},o=W(),d=s(()=>{var e;return((e=o.props.screen)==null?void 0:e.name)||"tests"}),L={tests:R,test_categories:X};s(()=>!!(o.props.auth&&o.props.auth.user));const c=l(typeof window<"u"?window.innerWidth:1024),m=s(()=>c.value<1024),g=()=>{typeof window<"u"&&(c.value=window.innerWidth)},p=s(()=>{const e=o.url||"",b=e.startsWith("/tests/")&&e!=="/tests"&&!e.includes("/tests/create")&&!e.includes("/tests/edit")&&!e.includes("/tests/take")&&!e.includes("/tests/result"),P=e==="/tests/create"||e.includes("/tests/edit"),F=e.startsWith("/test-categories/")&&e!=="/test-categories"&&!e.includes("/test-categories/create")&&!e.includes("/test-categories/edit"),$=e==="/test-categories/create"||e.includes("/test-categories/edit");return b||P||F||$}),a=s(()=>{const e=o.url;return e.includes("/take")||e.includes("/result")}),v=s(()=>m.value?!p.value:!0),h=s(()=>m.value?p.value:!0),x=s(()=>n.value&&d.value&&!a.value&&v.value&&L[d.value]||null),i=l(t.getters["Writes/isCollapsed"]);M(()=>t.getters["Writes/isCollapsed"],e=>{i.value=e},{immediate:!0});const N=s(()=>{const e={"transition-all duration-300":!0,"lg:ml-[-200px]":i.value&&!a.value,"lg:ml-[00px]":!i.value&&!a.value,"lg:ml-0":a.value};return m.value&&p.value&&(e["w-full"]=!0),e}),T=e=>{i.value=e},w=l(!1);O(()=>{w.value=!0,document.body.style.overflow="hidden",typeof window<"u"&&(c.value=window.innerWidth,window.addEventListener("resize",g))}),U(()=>{document.body.style.overflow="",typeof window<"u"&&window.removeEventListener("resize",g)});const B=s(()=>o.props.categories||[]),E=s(()=>o.props.tests||[]);return _("categories",B),_("tests",E),(e,b)=>(f(),j(q,null,[C(G,{message:V(r),onClose:k},null,8,["message"]),C(J,{isCollapsed:!a.value,"show-sidebar-on-mobile":v.value,"show-main-content-on-mobile":h.value},{sidebar:y(()=>[!a.value&&w.value&&v.value?(f(),S(K,{key:0,max:5,include:["SidebarLayoutTest","SidebarLayoutCategory"]},[(f(),S(Q(x.value),{key:d.value,"onUpdate:isNarrow":T},null,32))],1024)):I("",!0)]),default:y(()=>[A("div",{class:D([h.value?"block":"hidden lg:block",N.value])},[H(e.$slots,"screen")],2)]),_:3},8,["isCollapsed","show-sidebar-on-mobile","show-main-content-on-mobile"])],64))}});export{pe as default};
