import{_ as v}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-CwxdrDgB.js";import{d as _,r as w,m as z,c as o,e as l,u as i,Z as C,w as g,a as t,t as d,i as c,f as u,h as y,o as n,F as h,g as f,n as Y}from"./ssr-COd_82OS.js";const S={class:"py-6"},T={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},j={class:"mb-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},B={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},E={class:"px-4 py-5 sm:p-6"},D={class:"mt-1 text-3xl font-semibold text-blue-600 dark:text-blue-400"},M={class:"bg-gray-50 px-4 py-3 dark:bg-gray-700"},N={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},A={class:"px-4 py-5 sm:p-6"},K={class:"mt-1 text-3xl font-semibold text-green-600 dark:text-green-400"},V={class:"bg-gray-50 px-4 py-3 dark:bg-gray-700"},W={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},H={class:"px-4 py-5 sm:p-6"},G={class:"mt-1 text-3xl font-semibold text-purple-600 dark:text-purple-400"},L={class:"bg-gray-50 px-4 py-3 dark:bg-gray-700"},O={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},F={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},R={class:"px-4 py-5 sm:p-6"},Z={class:"mt-1 text-3xl font-semibold text-amber-600 dark:text-amber-400"},I={class:"bg-gray-50 px-4 py-3 dark:bg-gray-700"},P={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},$={class:"mb-8 grid grid-cols-1 gap-6 lg:grid-cols-3"},q={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 lg:col-span-2"},J={class:"bg-white dark:bg-gray-800"},Q={class:"divide-y divide-gray-200 dark:divide-gray-700"},U={class:"flex items-center justify-between"},X={class:"truncate text-sm font-medium text-blue-600 dark:text-blue-400"},tt={class:"ml-2 flex flex-shrink-0"},et={class:"flex justify-between"},st={class:"text-sm text-gray-500 dark:text-gray-400"},at={class:"text-xs text-gray-500 dark:text-gray-400"},rt={key:0,class:"px-4 py-4 text-gray-500 dark:text-gray-400 sm:px-6"},dt={class:"bg-gray-50 px-4 py-3 text-right dark:bg-gray-700"},ot={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},lt={class:"bg-white dark:bg-gray-800"},it={class:"divide-y divide-gray-200 dark:divide-gray-700"},nt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},gt={class:"ml-2 flex flex-shrink-0"},ct={class:"inline-flex rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold leading-5 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},ut={key:0,class:"px-4 py-4 text-gray-500 dark:text-gray-400 sm:px-6"},xt={class:"bg-gray-50 px-4 py-3 text-right dark:bg-gray-700"},mt={class:"rounded-lg bg-white p-6 shadow dark:bg-gray-800"},yt={class:"h-80"},ht={key:0,class:"flex h-full items-center justify-center"},pt=_({__name:"Dashboard",props:{stats:{},recentWrites:{},popularCategories:{},monthlyStats:{},allWrites:{}},setup(s){const x=s;let m=w(!1);z(()=>{if(window.Chart&&x.monthlyStats)b(),m.value=!0;else{const a=document.createElement("script");a.src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js",a.onload=()=>{b(),m.value=!0},document.head.appendChild(a)}});function b(){const a=document.getElementById("monthlyStatsChart");if(!a)return;const e=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],r=Object.keys(x.monthlyStats).map(k=>x.monthlyStats[k]);new window.Chart(a,{type:"line",data:{labels:e,datasets:[{label:"Yazı Sayısı",data:r,backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,tension:.3,pointBackgroundColor:"rgba(59, 130, 246, 1)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}})}function p(a){return new Date(a).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}return(a,e)=>(n(),o(h,null,[l(i(C),{title:"Dashboard"}),l(v,null,{default:g(()=>[t("div",S,[t("div",T,[t("div",j,[t("div",B,[t("div",E,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Toplam Kategori",-1)),t("dd",D,d(s.stats.categories_count),1)])]),t("div",M,[l(i(c),{href:a.route("categories.index"),class:"text-sm font-medium text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"},{default:g(()=>[...e[1]||(e[1]=[u(" Tüm Kategorileri Gör → ",-1)])]),_:1},8,["href"])])]),t("div",N,[t("div",A,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Toplam Yazı",-1)),t("dd",K,d(s.stats.writes_count),1)])]),t("div",V,[l(i(c),{href:a.route("writes.index"),class:"text-sm font-medium text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"},{default:g(()=>[...e[3]||(e[3]=[u(" Tüm Yazıları Gör → ",-1)])]),_:1},8,["href"])])]),t("div",W,[t("div",H,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Yayında Olan Yazılar",-1)),t("dd",G,d(s.stats.public_writes_count),1)])]),t("div",L,[t("div",O," Toplam Yazıların "+d(s.stats.writes_count>0?Math.round(s.stats.public_writes_count/s.stats.writes_count*100):0)+"%'si ",1)])]),t("div",F,[t("div",R,[t("dl",null,[e[5]||(e[5]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Özel Yazılar",-1)),t("dd",Z,d(s.stats.private_writes_count),1)])]),t("div",I,[t("div",P," Toplam Yazıların "+d(s.stats.writes_count>0?Math.round(s.stats.private_writes_count/s.stats.writes_count*100):0)+"%'si ",1)])])]),t("div",$,[t("div",q,[e[7]||(e[7]=t("div",{class:"border-b border-gray-200 px-4 py-5 dark:border-gray-700 sm:px-6"},[t("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"},"Son Yazılarınız")],-1)),t("div",J,[t("ul",Q,[(n(!0),o(h,null,f(s.recentWrites,r=>(n(),o("li",{key:r.id,class:"px-4 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 sm:px-6"},[l(i(c),{href:a.route("writes.show",r.id),class:"flex flex-col space-y-2"},{default:g(()=>[t("div",U,[t("p",X,d(r.title),1),t("div",tt,[t("p",{class:Y(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",r.status==="public"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"])},d(r.status==="public"?"Yayında":"Özel"),3)])]),t("div",et,[t("p",st,d(r.excerpt?r.excerpt.substring(0,80)+"...":"İçerik yok"),1)]),t("div",at," Güncellenme: "+d(p(r.updated_at)),1)]),_:2},1032,["href"])]))),128)),s.recentWrites.length===0?(n(),o("li",rt," Henüz yazı eklenmemiş. ")):y("",!0)]),t("div",dt,[l(i(c),{href:a.route("writes.create"),class:"inline-flex items-center rounded-md border border-transparent bg-blue-600 px-3 py-2 text-sm font-medium leading-4 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"},{default:g(()=>[...e[6]||(e[6]=[u(" Yeni Yazı Ekle ",-1)])]),_:1},8,["href"])])])]),t("div",ot,[e[9]||(e[9]=t("div",{class:"border-b border-gray-200 px-4 py-5 dark:border-gray-700 sm:px-6"},[t("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"},"Popüler Kategorileriniz")],-1)),t("div",lt,[t("ul",it,[(n(!0),o(h,null,f(s.popularCategories,r=>(n(),o("li",{key:r.id,class:"px-4 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 sm:px-6"},[l(i(c),{href:a.route("categories.show",r.id),class:"flex items-center justify-between"},{default:g(()=>[t("p",nt,d(r.name),1),t("div",gt,[t("p",ct,d(r.writes_count)+" Yazı ",1)])]),_:2},1032,["href"])]))),128)),s.popularCategories.length===0?(n(),o("li",ut," Henüz kategori eklenmemiş. ")):y("",!0)]),t("div",xt,[l(i(c),{href:a.route("categories.create"),class:"inline-flex items-center rounded-md border border-transparent bg-green-600 px-3 py-2 text-sm font-medium leading-4 text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"},{default:g(()=>[...e[8]||(e[8]=[u(" Yeni Kategori Ekle ",-1)])]),_:1},8,["href"])])])])]),t("div",mt,[e[12]||(e[12]=t("h3",{class:"mb-4 text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"}," Bu Yılki Yazı İstatistikleri ",-1)),t("div",yt,[e[11]||(e[11]=t("canvas",{id:"monthlyStatsChart"},null,-1)),i(m)?y("",!0):(n(),o("div",ht,[...e[10]||(e[10]=[t("svg",{class:"h-8 w-8 animate-spin text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])]))])])])])]),_:1})],64))}});export{pt as default};
