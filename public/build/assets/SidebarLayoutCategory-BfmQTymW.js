import{Q as T,l,E as D,c as F,w as i,o as r,a as c,b as h,j as R,J as j,g as o,m as p,e as g,t as f,n as _,u as v,k as y,F as k,h as C}from"./app-Odm2mtG0.js";import{_ as z}from"./CheckSubsidebar-DZf-HXsL.js";import{_ as A,a as G}from"./TopSubsidebar-C1VLWo0H.js";/* empty css            */const J={ref:"scrollContainer",class:"h-[calc(100vh-7rem)] overflow-y-auto overscroll-contain lg:h-[calc(100vh-5rem)]"},K={class:"min-h-full"},M={key:0,class:"pl-4"},O={key:0,class:"border-gray-300 pl-4"},U={__name:"SidebarLayoutCategory",emits:["update:isCollapsed"],setup(Q,{emit:w}){const{props:x,url:E}=T(),u=l(x.categories||[]),$=l(x.writes||[]),b=l([]),B=l(!0),d=l(!0),L=w,N=()=>{d.value=!d.value,L("update:isCollapsed",d.value)},m=e=>E===e?"px-4 border-l-4 text-theme-text border-primary-500 bg-primary-100 shadow-inner hover:bg-primary-100":"px-4 bg-theme-background text-theme-text",S=()=>{const e={};$.value.forEach(t=>{t.category_id&&(e[t.category_id]=(e[t.category_id]||0)+1)}),u.value.forEach(t=>{t.writeCount=e[t.id]||0})},V=()=>{const e={},t=[];u.value.forEach(s=>{e[s.id]={...s,children:[]}}),u.value.forEach(s=>{var a;s.parent_id?(a=e[s.parent_id])==null||a.children.push(e[s.id]):t.push(e[s.id])}),b.value=t};return D(()=>{S(),V()}),(e,t)=>(r(),F(z,null,{default:i(()=>[c(A,{isCollapsed:!1,toggle:N}),c(G,{title:"KATEGORÄ°LER",href:"/categories/create"}),h("div",J,[R(h("div",K,[h("ul",null,[(r(!0),o(k,null,p(b.value,s=>(r(),o("li",{key:s.id,class:"mb-2"},[c(v(y),{href:e.route("categories.show",{category:s.slug}),class:_([m(`/categories/${s.slug}`),"block py-2 text-base font-medium text-gray-700"])},{default:i(()=>[g(f(s.name),1)]),_:2},1032,["href","class"]),s.children.length?(r(),o("ul",M,[(r(!0),o(k,null,p(s.children,a=>(r(),o("li",{key:a.id,class:"mt-1"},[c(v(y),{href:e.route("categories.show",{category:a.slug}),class:_([m(`/categories/${a.slug}`),"block py-1 text-sm text-gray-600"])},{default:i(()=>[g(f(a.name),1)]),_:2},1032,["href","class"]),a.children.length?(r(),o("ul",O,[(r(!0),o(k,null,p(a.children,n=>(r(),o("li",{key:n.id,class:"mt-1"},[c(v(y),{href:e.route("categories.show",{category:n.slug}),class:_([m(`/categories/${n.slug}`),"block py-1 text-xs text-gray-500"])},{default:i(()=>[g(f(n.name),1)]),_:2},1032,["href","class"])]))),128))])):C("",!0)]))),128))])):C("",!0)]))),128))])],512),[[j,B.value]])],512)]),_:1}))}};export{U as default};
