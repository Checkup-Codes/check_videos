import{_ as w}from"./CheckSubsidebar-D9N14EX4.js";import{_ as E}from"./SubSidebarScreen-CHTR3gAs.js";import T from"./CategoryTree-DE3TY-Vs.js";import k from"./PerformanceMonitorButton-CijN7DW3.js";import{_ as b}from"./TopSubsidebar-CL2y901l.js";import{u as L}from"./useSidebar-DnI7-H3p.js";import{Q as A,r as o,x as N,_ as y,C as S,c as m,o as _,w as g,a as h,u as t,h as x}from"./app-DJc-plSn.js";/* empty css            */function B(){const{props:C,url:c}=A(),r=o(C.categories||[]),s=o([]),n=o(!0),i=()=>{if(!r.value||!r.value.length){s.value=[];return}const a={},l=[];r.value.forEach(e=>{e&&e.id&&(a[e.id]={...e,children:[]})}),r.value.forEach(e=>{var u;e&&(e.parent_id&&a[e.parent_id]?(u=a[e.parent_id])==null||u.children.push(a[e.id]):e.parent_id||l.push(a[e.id]))}),s.value=l},p=a=>c===a?"font-medium !text-primary":"",f=()=>{n.value=!n.value};return N(()=>{i()}),{categories:r,parentCategories:s,areAllCategoriesExpanded:n,getLinkClasses:p,toggleAllCategories:f}}const R=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(C,{emit:c}){const{shouldShowPerformanceMonitor:r,performanceData:s}=L(),{parentCategories:n,areAllCategoriesExpanded:i,getLinkClasses:p,toggleAllCategories:f}=B(),a=o(!0),l=o(null),e=o(!1),u=c,v=d=>{e.value=d};return S(e,d=>{u("update:isNarrow",d)}),(d,M)=>(_(),m(w,{isNarrow:e.value},{default:g(()=>[h(b,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:t(i),onToggleExpand:t(f),onToggleWidth:v,class:"border-base-200"},{actions:g(()=>[t(r)?(_(),m(k,{key:0,performance:t(s)},null,8,["performance"])):x("",!0)]),_:1},8,["isExpanded","onToggleExpand"]),h(E,null,{default:g(()=>[a.value?(_(),m(T,{key:0,ref_key:"categoryTreeRef",ref:l,parentCategories:t(n),getLinkClasses:t(p),expandAll:t(i)},null,8,["parentCategories","getLinkClasses","expandAll"])):x("",!0)]),_:1})]),_:1},8,["isNarrow"]))}}),I=y(R,[["__scopeId","data-v-94d54f5e"]]);export{I as default};
