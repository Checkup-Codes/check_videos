import{L as q,r as b,p as M,Q as J,C as R,c as n,o,a as e,h as u,k as j,v as X,u as f,n as d,F as z,g as B,S as Y,U as Z,e as S,w as V,t as _,l as N,i as $,q as Q}from"./ssr-CjiXWBsh.js";import{_ as ee}from"./app-DpRIMUCa.js";/* empty css            */const r=w=>(Y("data-v-7b6d3f39"),w=w(),Z(),w),te={class:"mb-3"},se={key:0,class:"mb-3"},ne={class:"hidden gap-2 sm:flex"},oe={key:0},le=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),ie=[le],re={key:1},ae={key:0},de=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),ce=[de],ue={key:1},he={key:0},ve=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),pe=[ve],_e={key:1},we={key:0},be=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),me=[be],ge={key:1},ke={class:"relative inline-block sm:hidden"},fe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)),xe=[fe],ye={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},Ce={class:"flex flex-col gap-1 py-1"},Me=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),je=[Me],ze=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),Be=[ze],Se=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),Ve=[Se],$e=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),He=[$e],Ae={class:"space-y-2"},Le={class:"flex items-center justify-between"},Te={class:"flex items-center gap-2"},Ie={key:0,class:"text-warning",title:"Gizli kategori"},Fe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),Ge=[Fe],Oe={key:1,class:"text-info",title:"Sadece link yazıları"},qe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),Ne=[qe],Qe=["title"],De={class:"flex items-center gap-2"},Ee=["onClick"],Ue=r(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),We=[Ue],Ke={class:"badge badge-sm"},Pe={key:0,class:"relative px-3 pb-3"},Je=r(()=>e("div",{class:"absolute left-6 top-0 h-full w-px bg-base-300"},null,-1)),Re={class:"space-y-1"},Xe=r(()=>e("div",{class:"absolute left-6 top-3 h-px w-4 bg-base-300"},null,-1)),Ye={class:"ml-8"},Ze={class:"flex items-center justify-between"},et={class:"flex items-center gap-2"},tt={key:0,class:"text-warning",title:"Gizli kategori"},st=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),nt=[st],ot=["title"],lt={class:"flex items-center gap-2"},it=["onClick"],rt=r(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),at=[rt],dt={class:"badge badge-xs"},ct={key:0,class:"relative mt-1"},ut=r(()=>e("div",{class:"absolute left-4 top-0 h-full w-px bg-base-300"},null,-1)),ht=r(()=>e("div",{class:"absolute left-4 top-3 h-px w-4 bg-base-300"},null,-1)),vt={class:"ml-8"},pt={class:"flex items-center justify-between"},_t={class:"flex items-center gap-2"},wt={key:0,class:"text-warning",title:"Gizli kategori"},bt=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),mt=[bt],gt=["title"],kt={class:"badge badge-xs"},ft={key:0,class:"flex h-32 items-center justify-center text-center opacity-50"},xt=r(()=>e("div",null,"Henüz kategori bulunmuyor",-1)),yt=[xt],Ct=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(w,{expose:D,emit:Mt}){const m=w,E=q("categories",[]),H=q("isAdmin",!1),x=b(""),A=b(""),a=b("all"),p=b(!1);function L(l,s,t){return l.map(i=>{const h=L(i.children||[],s,t),c=i.name.toLowerCase().includes(s.toLowerCase());let k=!0;return H&&t!=="all"&&(t==="public"?k=i.status!=="hidden"&&i.status!=="link_only":k=i.status===t),c&&k||h.length>0?{...i,children:h}:null}).filter(Boolean).sort((i,h)=>v(h)-v(i))}const U=M(()=>E.filter(l=>!l.parent_id||l.parent_id===null||l.parent_id==="null"||l.parent_id===0).sort((l,s)=>v(s)-v(l)));let T=null;const W=()=>{clearTimeout(T),T=setTimeout(()=>{A.value=x.value},300)},I=M(()=>L(U.value,A.value,a.value)),K=J(),y=M(()=>K.url),F=b(null),C=R(),v=l=>{let s=l.writes_count||0;return l.children&&l.children.length&&l.children.forEach(t=>{s+=v(t)}),s},P=(l=!0)=>{C.dispatch("CategorySidebar/expandAllCategories",l)},G=l=>{C.dispatch("CategorySidebar/toggleCollapse",l)},g=l=>C.getters["CategorySidebar/isCollapsed"](l),O=l=>{var t,i;return((t=l.writes)==null?void 0:t.some(h=>h.status==="link_only"))?!0:(i=l.children)!=null&&i.length?l.children.some(h=>O(h)):!1};return D({expandAllCategories:P,scrollContainer:F}),(l,s)=>(o(),n("div",{ref_key:"scrollContainer",ref:F,class:"category-tree-container space-y-1 overflow-y-auto p-3"},[e("div",te,[j(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>x.value=t),type:"text",class:"input-bordered input w-full",placeholder:"Kategori ara...",onInput:W},null,544),[[X,x.value]])]),f(H)?(o(),n("div",se,[e("div",ne,[e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":a.value==="all"}]),onClick:s[1]||(s[1]=t=>a.value="all")},[m.isCollapsed?(o(),n("span",oe,ie)):(o(),n("span",re,"Tümü"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":a.value==="public"}]),onClick:s[2]||(s[2]=t=>a.value="public")},[m.isCollapsed?(o(),n("span",ae,ce)):(o(),n("span",ue,"Herkese Açık"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":a.value==="link_only"}]),onClick:s[3]||(s[3]=t=>a.value="link_only")},[m.isCollapsed?(o(),n("span",he,pe)):(o(),n("span",_e,"Sadece Link"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":a.value==="hidden"}]),onClick:s[4]||(s[4]=t=>a.value="hidden")},[m.isCollapsed?(o(),n("span",we,me)):(o(),n("span",ge,"Gizli"))],2)]),e("div",ke,[e("button",{onClick:s[5]||(s[5]=t=>p.value=!p.value),class:"btn btn-ghost btn-xs"},xe),p.value?(o(),n("div",ye,[e("div",Ce,[e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":a.value==="all"}]),onClick:s[6]||(s[6]=t=>{a.value="all",p.value=!1})},je,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":a.value==="public"}]),onClick:s[7]||(s[7]=t=>{a.value="public",p.value=!1})},Be,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":a.value==="link_only"}]),onClick:s[8]||(s[8]=t=>{a.value="link_only",p.value=!1})},Ve,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":a.value==="hidden"}]),onClick:s[9]||(s[9]=t=>{a.value="hidden",p.value=!1})},He,2)])])):u("",!0)])])):u("",!0),e("div",Ae,[(o(!0),n(z,null,B(I.value,t=>(o(),n("div",{key:t.id},[e("div",{class:d(["rounded-lg bg-base-100 transition-all duration-200 hover:shadow-sm",y.value===`/categories/${t.slug}`?"bg-primary/10 border-primary/20 border text-primary shadow-md":"hover:bg-base-200"])},[S(f($),{href:l.route("categories.show",{category:t.slug}),class:"block p-3"},{default:V(()=>[e("div",Le,[e("div",Te,[t.status==="hidden"?(o(),n("span",Ie,Ge)):u("",!0),O(t)?(o(),n("span",Oe,Ne)):u("",!0),e("h3",{class:"max-w-[120px] truncate text-sm font-medium leading-tight text-base-content",title:t.name},_(t.name),9,Qe)]),e("div",De,[t.children.length?(o(),n("button",{key:0,onClick:N(i=>G(t.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-3 w-3 transition-transform",{"rotate-180":!g(t.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},We,2))],8,Ee)):u("",!0),e("div",Ke,_(v(t)),1)])])]),_:2},1032,["href"]),t.children.length?j((o(),n("div",Pe,[Je,e("div",Re,[(o(!0),n(z,null,B(t.children,(i,h)=>(o(),n("div",{key:i.id,class:"relative"},[Xe,e("div",Ye,[S(f($),{href:l.route("categories.show",{category:i.slug}),class:d(["block rounded-md p-2 transition-all duration-200",y.value===`/categories/${i.slug}`?"bg-primary/10 border-primary/20 border text-primary":"hover:bg-base-200"])},{default:V(()=>[e("div",Ze,[e("div",et,[i.status==="hidden"||i.parent_hidden?(o(),n("span",tt,nt)):u("",!0),e("span",{class:"max-w-[100px] truncate text-sm font-medium text-base-content",title:i.name},_(i.name),9,ot)]),e("div",lt,[i.children.length?(o(),n("button",{key:0,onClick:N(c=>G(i.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-3 w-3 transition-transform",{"rotate-180":!g(i.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},at,2))],8,it)):u("",!0),e("div",dt,_(v(i)),1)])])]),_:2},1032,["href","class"]),i.children.length?j((o(),n("div",ct,[ut,(o(!0),n(z,null,B(i.children,(c,k)=>(o(),n("div",{key:c.id,class:"relative"},[ht,e("div",vt,[S(f($),{href:l.route("categories.show",{category:c.slug}),class:d(["block rounded-md p-2 transition-all duration-200",y.value===`/categories/${c.slug}`?"bg-primary/10 border-primary/20 border text-primary":"hover:bg-base-200"])},{default:V(()=>[e("div",pt,[e("div",_t,[c.status==="hidden"||c.parent_hidden?(o(),n("span",wt,mt)):u("",!0),e("span",{class:"max-w-[80px] truncate text-xs font-medium text-base-content",title:c.name},_(c.name),9,gt)]),e("div",kt,_(v(c)),1)])]),_:2},1032,["href","class"])])]))),128))],512)),[[Q,!g(i.id)]]):u("",!0)])]))),128))])],512)),[[Q,!g(t.id)]]):u("",!0)],2)]))),128)),I.value.length===0?(o(),n("div",ft,yt)):u("",!0)])],512))}}),St=ee(Ct,[["__scopeId","data-v-7b6d3f39"]]);export{St as default};
