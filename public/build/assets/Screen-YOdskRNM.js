import{_ as re,l as u,i as v,Q as ue,L as ce,x as de,c as b,o,w as S,b as e,g as l,h as m,a as J,f as z,t as c,u as I,k as U,j as T,O as me,q as R,D as Y,B as _e,v as ge,F as H,m as X,n as G,J as ve,K as he}from"./app-DQVzeCX6.js";import{_ as pe}from"./CheckScreen-jL90K63y.js";import fe from"./MultipleChoice-CUpJO3kv.js";import be from"./TranslateWord-CpKRAfOm.js";import ke from"./WordCompletion-CcB9wApb.js";/* empty css            */const n=k=>(ve("data-v-48c2dbfa"),k=k(),he(),k),ye={class:"card border border-gray-200 bg-white shadow-lg transition-all duration-200 dark:border-gray-700 dark:bg-base-100"},we={class:"card-body p-6"},xe={class:"mb-4 flex items-center justify-between"},Ce={class:"flex-1"},Se={class:"text-2xl font-bold"},Te={class:"badge badge-outline ml-2"},Le={class:"flex gap-2"},je=n(()=>e("div",{class:"divider my-2"},null,-1)),Be={key:0,class:"mb-4 flex flex-wrap gap-3"},ze={class:"form-control min-w-[200px] flex-1"},Me={class:"input-group"},De=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Ke=[De],Pe=n(()=>e("option",{value:""},"Tüm Türler",-1)),Ve=n(()=>e("option",{value:"noun"},"İsim",-1)),$e=n(()=>e("option",{value:"verb"},"Fiil",-1)),qe=n(()=>e("option",{value:"adjective"},"Sıfat",-1)),Ie=n(()=>e("option",{value:"adverb"},"Zarf",-1)),Ue=[Pe,Ve,$e,qe,Ie],Ge=n(()=>e("option",{value:""},"Tüm Durumlar",-1)),Ne=n(()=>e("option",{value:"0"},"Öğrenilmedi",-1)),Oe=n(()=>e("option",{value:"1"},"Öğreniliyor",-1)),We=n(()=>e("option",{value:"2"},"Öğrenildi",-1)),Fe=[Ge,Ne,Oe,We],Ze={key:"game"},Ae={key:0,class:"flex h-60 items-center justify-center"},Ee=n(()=>e("span",{class:"loading loading-spinner loading-lg"},null,-1)),Qe=[Ee],Je={key:"wordList"},Re={key:0,class:"mb-6 rounded-lg border border-base-300 bg-base-100 p-4"},Ye={class:"flex flex-wrap items-center gap-4"},He={class:"form-control"},Xe={class:"label cursor-pointer gap-2"},et={class:"label-text"},tt={class:"form-control"},st={class:"label cursor-pointer"},nt=n(()=>e("span",{class:"label-text mr-2"},"Öğrenilmemiş Kelimelere Öncelik Ver",-1)),at=n(()=>e("div",{class:"divider divider-horizontal"},null,-1)),ot={class:"grid grid-cols-3 gap-2"},lt=["onClick"],it={class:"overflow-x-auto"},rt={class:"table table-zebra"},ut=n(()=>e("th",null,"Kelime",-1)),ct=n(()=>e("th",null,"Anlam",-1)),dt=n(()=>e("th",null,"Tür",-1)),mt=n(()=>e("th",null,"Durum",-1)),_t=n(()=>e("th",null,"Zorluk",-1)),gt={key:0},vt={key:0},ht=n(()=>e("td",{colspan:"6",class:"text-center"},[e("span",{class:"loading loading-spinner loading-md"})],-1)),pt=[ht],ft={key:1},bt=n(()=>e("td",{colspan:"6",class:"text-center"},"Sonuç bulunamadı",-1)),kt=[bt],yt={class:"font-medium"},wt={class:"badge"},xt={key:0},Ct={key:1,class:"mt-4 flex justify-between"},St={class:"text-sm opacity-70"},Tt={class:"join"},Lt=["disabled"],jt={class:"btn btn-sm join-item"},Bt=["disabled"],zt={key:2,class:"alert alert-info mt-6"},Mt=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-6 w-6 shrink-0 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Dt=n(()=>e("span",null,"Bu pakette kelime bulunmamaktadır.",-1)),Kt=[Mt,Dt],Pt={key:3,class:"alert alert-warning mt-6"},Vt=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-6 w-6 shrink-0 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),$t=n(()=>e("span",null,"Oyunları başlatabilmek için en az 5 kelime gerekiyor.",-1)),qt=[Vt,$t],It={__name:"Screen",props:{words:Array,pack:Object,error:String,screen:Object},setup(k){const i=k,M=u(!1),L=v(()=>{var t;return!!((t=ue().props.auth)!=null&&t.user)}),j=u(!1),d=u(""),D=u(!1),K=u(!0),h=u(""),y=u(""),w=u(""),_=u(1),f=u(10),P=()=>{const s=window.location.pathname.split("/");return s[s.length-1]},ee=[{name:"Çoktan Seçmeli",route:"multiple-choice"},{name:"Boşluk Doldurma",route:"fill-in-the-blank"},{name:"Kelime Tamamlama",route:"word-completion"}],p=u({questionCount:10}),x=v(()=>{if(!i.words)return[];let t=[...i.words];if(h.value.trim()){const s=h.value.toLowerCase().trim();t=t.filter(r=>r.word.toLowerCase().includes(s)||r.meaning.toLowerCase().includes(s))}if(y.value&&(t=t.filter(s=>s.type===y.value)),w.value!==""){const s=parseInt(w.value);t=t.filter(r=>r.learning_status===s)}return t}),N=v(()=>{const t=(_.value-1)*f.value;return x.value.slice(t,t+f.value)}),O=v(()=>Math.ceil(x.value.length/f.value)),te=v(()=>{const t=(_.value-1)*f.value+1,s=Math.min(t+f.value-1,x.value.length);return`${t}-${s} / ${x.value.length}`}),W=t=>{t<1||t>O.value||(_.value=t)},C=()=>{M.value=!0,_.value=1,setTimeout(()=>{M.value=!1},300)},V=v(()=>{if(!i.words)return[];let t=[...i.words];return K.value&&t.sort((s,r)=>(s.learning_status||0)-(r.learning_status||0)),t.slice(0,p.value.questionCount)}),B=v(()=>i.words&&i.words.length>=5),F=t=>{B.value&&(D.value=!0,d.value=t,j.value=!0,setTimeout(()=>{D.value=!1},500))},$=()=>{j.value=!1,d.value=""},se=v(()=>({game:new URLSearchParams(window.location.search).get("game")||null})),q=(t,s)=>t?t.length>s?t.substring(0,s)+"...":t:"",ne=t=>{switch(Number(t)){case 1:return"badge-success";case 2:return"badge-info";case 3:return"badge-warning";case 4:return"badge-error";default:return"badge-ghost"}},ae=t=>{switch(Number(t)){case 1:return"Kolay";case 2:return"Orta";case 3:return"Zor";case 4:return"Çok Zor";default:return"Belirsiz"}},oe=t=>{switch(Number(t)){case 0:return"badge-ghost";case 1:return"badge-warning";case 2:return"badge-success";default:return"badge-ghost"}},le=t=>{switch(Number(t)){case 0:return"Öğrenilmedi";case 1:return"Öğreniliyor";case 2:return"Öğrenildi";default:return"Belirsiz"}};ce([h,y,w],()=>{(h.value.length>2||h.value.length===0)&&C()}),de(()=>{const t=se.value.game;t&&B.value&&F(t)});const ie=t=>{if(t.meanings&&t.meanings.length>0){const s=t.meanings.find(r=>r.is_primary);return q(s?s.meaning:t.meanings[0].meaning,50)}return t.meaning?q(t.meaning,50):""};return(t,s)=>(o(),b(pe,null,{default:S(()=>{var r,Z;return[e("div",ye,[e("div",we,[e("div",xe,[e("div",Ce,[e("h1",Se,[z(c(((r=i.pack)==null?void 0:r.name)||"Kelimeler")+" ",1),e("span",Te,c(((Z=i.words)==null?void 0:Z.length)||0)+" kelime",1)])]),e("div",Le,[L.value&&i.pack?(o(),b(I(U),{key:0,href:t.route("rendition.language-packs.edit",i.pack.id),class:"btn btn-outline btn-sm"},{default:S(()=>[z(" Paketi Düzenle ")]),_:1},8,["href"])):m("",!0),L.value?(o(),b(I(U),{key:1,href:t.route("rendition.words.create"),class:"btn btn-primary btn-sm"},{default:S(()=>[z(" Yeni Kelime ")]),_:1},8,["href"])):m("",!0)])]),je,j.value?m("",!0):(o(),l("div",Be,[e("div",ze,[e("div",Me,[T(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=g=>h.value=g),placeholder:"Kelime ara...",class:"input-bordered input input-sm w-full",onKeyup:me(C,["enter"])},null,544),[[R,h.value]]),e("button",{class:"btn btn-sm btn-square",onClick:C},Ke)])]),T(e("select",{"onUpdate:modelValue":s[1]||(s[1]=g=>y.value=g),class:"select-bordered select select-sm min-w-[150px] flex-1",onChange:C},Ue,544),[[Y,y.value]]),T(e("select",{"onUpdate:modelValue":s[2]||(s[2]=g=>w.value=g),class:"select-bordered select select-sm min-w-[150px] flex-1",onChange:C},Fe,544),[[Y,w.value]])])),J(_e,{name:"game-transition",mode:"out-in"},{default:S(()=>{var g,A,E,Q;return[j.value?(o(),l("div",Ze,[D.value?(o(),l("div",Ae,Qe)):d.value==="multiple-choice"?(o(),b(fe,{key:1,gameType:d.value,packSlug:((g=i.pack)==null?void 0:g.slug)||P(),words:V.value,gameConfig:p.value,onGameCompleted:$},null,8,["gameType","packSlug","words","gameConfig"])):d.value==="fill-in-the-blank"?(o(),b(be,{key:2,gameType:d.value,packSlug:((A=i.pack)==null?void 0:A.slug)||P(),words:V.value,gameConfig:p.value,onGameCompleted:$},null,8,["gameType","packSlug","words","gameConfig"])):d.value==="word-completion"?(o(),b(ke,{key:3,gameType:d.value,packSlug:((E=i.pack)==null?void 0:E.slug)||P(),words:V.value,gameConfig:p.value,onGameCompleted:$},null,8,["gameType","packSlug","words","gameConfig"])):m("",!0)])):(o(),l("div",Je,[B.value?(o(),l("div",Re,[e("div",Ye,[e("div",He,[e("label",Xe,[e("span",et,"Soru Sayısı: "+c(p.value.questionCount),1),T(e("input",{type:"range",min:"5",max:"20","onUpdate:modelValue":s[3]||(s[3]=a=>p.value.questionCount=a),class:"range range-primary range-xs"},null,512),[[R,p.value.questionCount]])])]),e("div",tt,[e("label",st,[nt,T(e("input",{type:"checkbox",class:"toggle toggle-sm","onUpdate:modelValue":s[4]||(s[4]=a=>K.value=a)},null,512),[[ge,K.value]])])]),at,e("div",ot,[(o(),l(H,null,X(ee,a=>e("button",{key:a.route,onClick:Ut=>F(a.route),class:G(["btn btn-sm",{"btn-primary":d.value===a.route,"btn-outline":d.value!==a.route}])},c(a.name),11,lt)),64))])])])):m("",!0),e("div",it,[e("table",rt,[e("thead",null,[e("tr",null,[ut,ct,dt,mt,_t,L.value?(o(),l("th",gt)):m("",!0)])]),e("tbody",null,[M.value?(o(),l("tr",vt,pt)):N.value.length===0?(o(),l("tr",ft,kt)):m("",!0),(o(!0),l(H,null,X(N.value,a=>(o(),l("tr",{key:a.id},[e("td",yt,c(a.word),1),e("td",null,c(ie(a)),1),e("td",null,[e("div",wt,c(a.type),1)]),e("td",null,[e("div",{class:G(["badge badge-sm",oe(a.learning_status)])},c(le(a.learning_status)),3)]),e("td",null,[e("div",{class:G(["badge badge-sm",ne(a.difficulty_level)])},c(ae(a.difficulty_level)),3)]),L.value?(o(),l("td",xt,[J(I(U),{href:t.route("rendition.words.edit",a.id),class:"btn btn-ghost btn-xs"},{default:S(()=>[z(" Düzenle ")]),_:2},1032,["href"])])):m("",!0)]))),128))])])]),x.value.length>f.value?(o(),l("div",Ct,[e("div",null,[e("span",St,c(te.value),1)]),e("div",Tt,[e("button",{class:"btn btn-sm join-item",disabled:_.value<=1,onClick:s[5]||(s[5]=a=>W(_.value-1))}," « ",8,Lt),e("button",jt,c(_.value),1),e("button",{class:"btn btn-sm join-item",disabled:_.value>=O.value,onClick:s[6]||(s[6]=a=>W(_.value+1))}," » ",8,Bt)])])):m("",!0),((Q=i.words)==null?void 0:Q.length)===0?(o(),l("div",zt,Kt)):B.value?m("",!0):(o(),l("div",Pt,qt))]))]}),_:1})])])]}),_:1}))}},At=re(It,[["__scopeId","data-v-48c2dbfa"]]);export{At as default};
