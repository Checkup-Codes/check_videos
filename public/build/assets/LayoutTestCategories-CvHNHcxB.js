import{Q as W,g as l,y as M,B as $,b as s,s as O,z as U,c as j,f as C,u as V,w as y,a as A,n as D,r as H,e as S,j as I,o as f,L as K,$ as Q,F as q,M as _}from"./ssr-ig3NHSec.js";import{_ as G}from"./CheckLayout-BMfdLN4X.js";import J from"./SidebarLayoutTest-CU0KpiLW.js";import R from"./SidebarLayoutCategory-Dy1Qa58P.js";import{_ as X}from"./FlashMessage-CfURZB1K.js";import{u as Y}from"./useSidebar-N9YLn-Wo.js";import"./TestList-B0ogvUxd.js";import"./app-BD4itwoa.js";/* empty css            */import"./SubSidebarScreen-D78j-fFx.js";import"./IconMenu-DkEU2uQZ.js";import"./IconFolder-DRyTOA5S.js";import"./CategoryTree-CKYk2c8F.js";import"./IconChevronDown-DJLoyA59.js";function Z(){var r;const{props:u}=W(),n=l(((r=u.flash)==null?void 0:r.success)||"");return M(()=>{var t;return(t=u.flash)==null?void 0:t.success},t=>{t?n.value=t:n.value=""}),{flashMessage:n}}const ve=Object.assign({name:"LayoutTestCategories"},{__name:"LayoutTestCategories",setup(u){const{isCollapsed:n}=Y(),{flashMessage:r}=Z(),t=$(),k=()=>{r.value=""},o=W(),d=s(()=>{var e;return((e=o.props.screen)==null?void 0:e.name)||"tests"}),L={tests:J,test_categories:R};s(()=>!!(o.props.auth&&o.props.auth.user));const c=l(typeof window<"u"?window.innerWidth:1024),m=s(()=>c.value<1024),g=()=>{typeof window<"u"&&(c.value=window.innerWidth)},p=s(()=>{const e=o.url||"",b=e.startsWith("/tests/")&&e!=="/tests"&&!e.includes("/tests/create")&&!e.includes("/tests/edit")&&!e.includes("/tests/take")&&!e.includes("/tests/result"),P=e==="/tests/create"||e.includes("/tests/edit"),z=e.startsWith("/test-categories/")&&e!=="/test-categories"&&!e.includes("/test-categories/create")&&!e.includes("/test-categories/edit"),F=e==="/test-categories/create"||e.includes("/test-categories/edit");return b||P||z||F}),a=s(()=>{const e=o.url;return e.includes("/take")||e.includes("/result")}),v=s(()=>m.value?!p.value:!0),w=s(()=>m.value?p.value:!0),N=s(()=>n.value&&d.value&&!a.value&&v.value&&L[d.value]||null),i=l(t.getters["Writes/isCollapsed"]);M(()=>t.getters["Writes/isCollapsed"],e=>{i.value=e},{immediate:!0});const x=s(()=>{const e={"transition-all duration-300":!0,"lg:ml-[-200px]":i.value&&!a.value,"lg:ml-[00px]":!i.value&&!a.value,"lg:ml-0":a.value};return m.value&&p.value&&(e["w-full"]=!0),e}),B=e=>{i.value=e},h=l(!1);O(()=>{h.value=!0,document.body.style.overflow="hidden",typeof window<"u"&&(c.value=window.innerWidth,window.addEventListener("resize",g))}),U(()=>{document.body.style.overflow="",typeof window<"u"&&window.removeEventListener("resize",g)});const T=s(()=>o.props.categories||[]),E=s(()=>o.props.tests||[]);return _("categories",T),_("tests",E),(e,b)=>(f(),j(q,null,[C(X,{message:V(r),onClose:k},null,8,["message"]),C(G,{isCollapsed:!a.value,"show-sidebar-on-mobile":v.value,"show-main-content-on-mobile":w.value},{sidebar:y(()=>[!a.value&&h.value&&v.value?(f(),S(K,{key:0,max:5,include:["SidebarLayoutTest","SidebarLayoutCategory"]},[(f(),S(Q(N.value),{key:d.value,"onUpdate:isNarrow":B},null,32))],1024)):I("",!0)]),default:y(()=>[A("div",{class:D([w.value?"block":"hidden lg:block",x.value])},[H(e.$slots,"screen")],2)]),_:3},8,["isCollapsed","show-sidebar-on-mobile","show-main-content-on-mobile"])],64))}});export{ve as default};
