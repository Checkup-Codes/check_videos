import{J as E,Q as V,r as f,p as W,W as F,X as H,s as b,m as N,H as D,z as P,c as a,o as i,a as e,h as g,k as T,v as J,u as z,n as c,F as O,g as Q,R,S as U,j as G,w as K,t as y,f as X,i as Y}from"./ssr-DbEERuPG.js";import{_ as Z}from"./app-BN7Hnb9U.js";const r=w=>(R("data-v-f53ea5fc"),w=w(),U(),w),q={class:"mb-3"},ee={key:0,class:"mb-3"},te={class:"hidden gap-2 sm:flex"},se={key:0},ne=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),oe=[ne],le={key:1},ie={key:0},ae=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),re=[ae],ce={key:1},de={key:0},ue=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),ve=[ue],pe={key:1},he={key:0},we=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),fe=[we],ge={key:1},_e={class:"relative inline-block sm:hidden"},ke=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)),me=[ke],be={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},ye={class:"flex flex-col gap-1 py-1"},xe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),Ce=[xe],Se=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),Me=[Se],je=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),Le=[je],Be=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),ze=[Be],$e={class:"mb-1 flex items-center gap-2"},Ae={key:0},Ie=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),Ee=[Ie],Ve=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),We=[Ve],Fe={class:"text-base-content/70 flex justify-between text-xs"},He={class:"flex items-center gap-1"},Ne=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-[14px] w-[14px]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1)),De={key:1,class:"flex h-32 items-center justify-center text-center opacity-50"},Pe=r(()=>e("div",null,"Henüz yazı bulunmuyor",-1)),Te=[Pe],Je=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(w,{expose:$}){const p=w,x=p.writes.length?p.writes:E("writes",[]),C=V().props.isAdmin||!1,d=f(null);let h=!1;const k=f(""),u=f(""),o=f("all"),v=f(!1),A=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return route("categories.showByCategory",{category:l,slug:s.slug})}}return route("writes.show",{write:s.slug})},S=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return`/categories/${l}/${s.slug}`}}return`/writes/${s.slug}`},m=W(()=>{let s=x;return u.value&&(s=s.filter(t=>t.title.toLowerCase().includes(u.value.toLowerCase()))),C?(o.value==="published"?s=s.filter(t=>t.status==="published"):o.value==="link_only"?s=s.filter(t=>t.status==="link_only"):o.value==="private"&&(s=s.filter(t=>t.status==="private")),s):(s=s.filter(t=>t.status!=="private"),s)});$({filteredWrites:m,scrollContainer:d}),F(()=>{h=!0,_()}),H(()=>{h=!1}),b(()=>x,(s,t)=>{JSON.stringify(s),JSON.stringify(t)},{deep:!0});const _=()=>{k.value=window.location.pathname},M=()=>`writeListScroll_${o.value}_${u.value}`,j=s=>{localStorage.setItem(M(),s.target.scrollTop)};N(()=>{h=!0;const s=localStorage.getItem("writeListFilter");s&&(o.value=s);const t=localStorage.getItem("writeListSearch");t&&(u.value=t),_(),D(()=>{if(d.value){d.value.addEventListener("scroll",j);const B=localStorage.getItem(M());B&&(d.value.scrollTop=parseInt(B,10))}});const n=()=>{h&&_()},l=()=>{},L=()=>{h&&_()};window.addEventListener("popstate",n),window.addEventListener("inertia:start",l),window.addEventListener("inertia:finish",L),P(()=>{h=!1,d.value&&d.value.removeEventListener("scroll",j),window.removeEventListener("popstate",n),window.removeEventListener("inertia:start",l),window.removeEventListener("inertia:finish",L)})});const I=s=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(s).toLocaleDateString(void 0,t)};return b(o,s=>{localStorage.setItem("writeListFilter",s)}),b(u,s=>{localStorage.setItem("writeListSearch",s)}),(s,t)=>(i(),a("div",{ref_key:"scrollContainer",ref:d,class:"write-list-container space-y-1 overflow-y-auto p-3"},[e("div",q,[T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>u.value=n),type:"text",class:"input-bordered input w-full",placeholder:"Yazı başlığı ara..."},null,512),[[J,u.value]])]),z(C)?(i(),a("div",ee,[e("div",te,[e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="all"}]),onClick:t[1]||(t[1]=n=>o.value="all")},[p.isCollapsed?(i(),a("span",se,oe)):(i(),a("span",le,"Tümü"))],2),e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="published"}]),onClick:t[2]||(t[2]=n=>o.value="published")},[p.isCollapsed?(i(),a("span",ie,re)):(i(),a("span",ce,"Herkese Açık"))],2),e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="link_only"}]),onClick:t[3]||(t[3]=n=>o.value="link_only")},[p.isCollapsed?(i(),a("span",de,ve)):(i(),a("span",pe,"Sadece Link"))],2),e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="private"}]),onClick:t[4]||(t[4]=n=>o.value="private")},[p.isCollapsed?(i(),a("span",he,fe)):(i(),a("span",ge,"Gizli"))],2)]),e("div",_e,[e("button",{onClick:t[5]||(t[5]=n=>v.value=!v.value),class:"btn btn-ghost btn-xs"},me),v.value?(i(),a("div",be,[e("div",ye,[e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="all"}]),onClick:t[6]||(t[6]=n=>{o.value="all",v.value=!1})},Ce,2),e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="published"}]),onClick:t[7]||(t[7]=n=>{o.value="published",v.value=!1})},Me,2),e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="link_only"}]),onClick:t[8]||(t[8]=n=>{o.value="link_only",v.value=!1})},Le,2),e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="private"}]),onClick:t[9]||(t[9]=n=>{o.value="private",v.value=!1})},ze,2)])])):g("",!0)])])):g("",!0),(i(!0),a(O,null,Q(m.value,n=>(i(),G(z(Y),{key:n.id,href:A(n),class:c(["block items-center justify-between rounded-lg border px-1 py-2 backdrop-blur-md transition-all duration-200",k.value===S(n)?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"])},{default:K(()=>[e("div",$e,[n.status==="private"?(i(),a("span",Ae,Ee)):g("",!0),n.status==="link_only"?(i(),a("span",{key:1,class:c([k.value===S(n)?"text-primary-content":"text-primary"])},We,2)):g("",!0),e("span",null,y(n.title),1)]),e("div",Fe,[e("span",null,y(I(n.created_at)),1),e("span",He,[Ne,X(" "+y(n.views_count),1)])])]),_:2},1032,["href","class"]))),128)),m.value.length===0?(i(),a("div",De,Te)):g("",!0)],512))}}),Ue=Z(Je,[["__scopeId","data-v-f53ea5fc"]]);export{Ue as default};
