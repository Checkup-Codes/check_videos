import{_ as b}from"./CheckSubsidebar-BqVdFFhE.js";import{_ as w}from"./SubSidebarScreen-BwiCtMqb.js";import E from"./CategoryTree-DXy5orgs.js";import{_ as A}from"./TopSubsidebar-C9TynWSs.js";import{u as L}from"./useSidebar-Bq8sruOJ.js";import{_ as v,Y as T,a2 as k,i as d,r as i,D as N,k as c,c as p,o as u,w as g,a as _,h as W}from"./app-Bzk6KU4a.js";/* empty css            */const R=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(B,{emit:m}){L();const a=T(),r=k("categories",[]);d(()=>r.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0));const l=d(()=>a.getters["CategorySidebar/collapsedSet"].size===0),f=()=>"",C=i(!0),h=i(null),t=i(a.getters["Writes/isCollapsed"]),y=m,x=e=>{t.value=e,a.commit("Writes/SET_COLLAPSED",e)};N(t,e=>{y("update:isNarrow",e)}),c(()=>{t.value=a.getters["Writes/isCollapsed"]});const n=e=>{let s=[];return e.forEach(o=>{s.push(o.id),o.children&&o.children.length>0&&(s=s.concat(n(o.children)))}),s},S=()=>{if(l.value){const e=n(r);a.dispatch("CategorySidebar/collapseAll",e)}else a.dispatch("CategorySidebar/expandAll")};return c(()=>{console.log("SidebarLayoutCategory categories:",r)}),(e,s)=>(u(),p(b,{isNarrow:t.value},{default:g(()=>[_(A,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:l.value,onToggleExpand:S,onToggleWidth:x,class:"border-base-200"},null,8,["isExpanded"]),_(w,null,{default:g(()=>[C.value?(u(),p(E,{key:0,ref_key:"categoryTreeRef",ref:h,getLinkClasses:f,expandAll:l.value,isCollapsed:t.value},null,8,["expandAll","isCollapsed"])):W("",!0)]),_:1})]),_:1},8,["isNarrow"]))}}),G=v(R,[["__scopeId","data-v-8e0ca94e"]]);export{G as default};
