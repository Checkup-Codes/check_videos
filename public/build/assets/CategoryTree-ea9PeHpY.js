import{W as A,b as g,g as B,Q as q,B as H,c as r,j as a,F as x,l as v,a as n,o as i,f as c,i as z,w as y,n as u,t as p,h as L,u as b,p as k,q as O}from"./ssr-BEZ_aUjz.js";import w from"./IconLock-Bi5JzZ7n.js";import I from"./IconLink-vkzQxYsY.js";import T from"./IconChevronDown-Du40N1wK.js";import{_ as M}from"./app-BF2dvNsD.js";/* empty css            */const P={class:"space-y-1 p-3"},Q={class:"flex items-center justify-between"},J={class:"flex min-w-0 flex-1 items-center gap-2"},K={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},R={key:1,class:"shrink-0 text-primary",title:"Sadece link yazıları"},U=["title"],X={class:"flex shrink-0 items-center gap-2"},Y=["onClick"],Z={class:"inline-flex items-center rounded-full border border-border bg-secondary px-2 py-0.5 text-xs font-semibold text-secondary-foreground"},ee={key:0,class:"pb-1"},te={class:"space-y-0.5 pl-4"},se={class:"flex items-center justify-between"},ne={class:"flex min-w-0 flex-1 items-center gap-2"},oe={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},re=["title"],ie={class:"flex shrink-0 items-center gap-2"},le=["onClick"],ae={class:"inline-flex items-center rounded-full border border-border bg-secondary px-1.5 py-0.5 text-[10px] font-semibold text-secondary-foreground"},ce={key:0,class:"pb-1"},de={class:"space-y-0.5 pl-4"},ue={class:"flex items-center justify-between"},fe={class:"flex min-w-0 flex-1 items-center gap-2"},pe={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},he=["title"],me={class:"inline-flex shrink-0 items-center rounded-full border border-border bg-secondary px-1.5 py-0.5 text-[10px] font-semibold text-secondary-foreground"},ge={key:0,class:"flex h-32 items-center justify-center text-center text-muted-foreground opacity-50"},_e=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1},expandAll:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(xe,{expose:V,emit:ve}){const h=A("categories",[]),F=g(()=>{const e=(h==null?void 0:h.value)??h;return Array.isArray(e)?e:[]}),G=A("isAdmin",!1),N=B("all");B(!1);const W=q();function C(e,l){return e.map(t=>{const s=C(t.children||[],l);let o=!0;return G&&l!=="all"&&(l==="public"?o=t.status!=="hidden"&&t.status!=="link_only":o=t.status===l),o||s.length>0?{...t,children:s}:null}).filter(Boolean).sort((t,s)=>d(s)-d(t))}const D=g(()=>F.value.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0).sort((e,l)=>d(l)-d(e))),S=g(()=>C(D.value,N.value)),f=g(()=>W.url),_=H(),d=e=>{let l=e.writes_count||0;return e.children&&e.children.length&&e.children.forEach(t=>{l+=d(t)}),l},E=(e=!0)=>{_.dispatch("CategorySidebar/expandAllCategories",e)},$=e=>{_.dispatch("CategorySidebar/toggleCollapse",e)},m=e=>_.getters["CategorySidebar/isCollapsed"](e),j=e=>{var t,s;return((t=e.writes)==null?void 0:t.some(o=>o.status==="link_only"))?!0:(s=e.children)!=null&&s.length?e.children.some(o=>j(o)):!1};return V({expandAllCategories:E}),(e,l)=>(i(),r("div",P,[(i(!0),r(x,null,v(S.value,t=>(i(),r("div",{key:t.id},[n("div",{class:u(["group rounded-md transition-colors",f.value===`/categories/${t.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[c(b(k),{href:e.route("categories.show",{category:t.slug}),class:"block px-3 py-2"},{default:y(()=>[n("div",Q,[n("div",J,[t.status==="hidden"?(i(),r("span",K,[c(w,{class:"h-3 w-3"})])):a("",!0),j(t)?(i(),r("span",R,[c(I,{class:"h-3 w-3"})])):a("",!0),n("h3",{class:u(["truncate text-[10px] font-normal",f.value===`/categories/${t.slug}`?"text-accent-foreground":"text-foreground"]),title:t.name,style:{"font-family":"'Satoshi', system-ui, sans-serif","font-weight":"400"}},p(t.name),11,U)]),n("div",X,[t.children.length?(i(),r("button",{key:0,onClick:L(s=>$(t.id),["prevent","stop"]),class:"inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},[c(T,{class:u(["h-3 w-3 transition-transform duration-200",{"rotate-180":!m(t.id)}])},null,8,["class"])],8,Y)):a("",!0),n("div",Z,p(d(t)),1)])])]),_:2},1032,["href"]),t.children.length?z((i(),r("div",ee,[n("div",te,[(i(!0),r(x,null,v(t.children,s=>(i(),r("div",{key:s.id},[n("div",{class:u(["group rounded-md transition-colors",f.value===`/categories/${s.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[c(b(k),{href:e.route("categories.show",{category:s.slug}),class:"block px-3 py-1.5"},{default:y(()=>[n("div",se,[n("div",ne,[s.status==="hidden"||s.parent_hidden?(i(),r("span",oe,[c(w,{class:"h-3 w-3"})])):a("",!0),n("span",{class:u(["truncate text-[10px] font-normal",f.value===`/categories/${s.slug}`?"text-accent-foreground":"text-foreground"]),title:s.name,style:{"font-family":"'Satoshi', system-ui, sans-serif","font-weight":"400"}},p(s.name),11,re)]),n("div",ie,[s.children.length?(i(),r("button",{key:0,onClick:L(o=>$(s.id),["prevent","stop"]),class:"inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},[c(T,{class:u(["h-3 w-3 transition-transform duration-200",{"rotate-180":!m(s.id)}])},null,8,["class"])],8,le)):a("",!0),n("div",ae,p(d(s)),1)])])]),_:2},1032,["href"]),s.children.length?z((i(),r("div",ce,[n("div",de,[(i(!0),r(x,null,v(s.children,o=>(i(),r("div",{key:o.id},[n("div",{class:u(["group rounded-md transition-colors",f.value===`/categories/${o.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[c(b(k),{href:e.route("categories.show",{category:o.slug}),class:"block px-3 py-1.5"},{default:y(()=>[n("div",ue,[n("div",fe,[o.status==="hidden"||o.parent_hidden?(i(),r("span",pe,[c(w,{class:"h-3 w-3"})])):a("",!0),n("span",{class:u(["truncate text-[9px] font-normal",f.value===`/categories/${o.slug}`?"text-accent-foreground":"text-foreground"]),title:o.name,style:{"font-family":"'Satoshi', system-ui, sans-serif","font-weight":"400"}},p(o.name),11,he)]),n("div",me,p(d(o)),1)])]),_:2},1032,["href"])],2)]))),128))])],512)),[[O,!m(s.id)]]):a("",!0)],2)]))),128))])],512)),[[O,!m(t.id)]]):a("",!0)],2)]))),128)),S.value.length===0?(i(),r("div",ge,[...l[0]||(l[0]=[n("div",null,"Henüz kategori bulunmuyor",-1)])])):a("",!0)]))}}),$e=M(_e,[["__scopeId","data-v-f96d9353"]]);export{$e as default};
