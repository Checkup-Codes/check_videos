import{g as b,s as j,x as B,b as E,c as l,a as e,n as w,k as S,j as x,t as u,P as v,F as _,l as k,o as a}from"./ssr-BOUwjHOF.js";const V={class:"space-y-6"},I={class:"flex gap-2 border-b border-border"},P={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},R={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},$={class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},F={class:"rounded-lg border border-border bg-card p-4"},H={class:"text-2xl font-bold text-foreground"},N={class:"text-xs text-muted-foreground"},O={class:"rounded-lg border border-border bg-card p-4"},G={class:"text-2xl font-bold text-foreground"},K={class:"rounded-lg border border-border bg-card p-4"},U={class:"text-2xl font-bold text-foreground"},Y={class:"rounded-lg border border-border bg-card p-4"},q={class:"text-2xl font-bold text-foreground"},J={class:"rounded-xl border border-border bg-card p-3 sm:p-6"},Q={class:"mb-3 flex flex-col gap-2 sm:mb-4 sm:flex-row sm:items-center sm:justify-between"},X={class:"text-sm font-medium text-foreground"},Z={class:"flex items-center gap-2 text-xs text-muted-foreground"},ee={class:"flex gap-0.5 sm:gap-1"},te={class:"w-full overflow-x-auto"},se={class:"inline-flex min-w-full flex-col gap-0.5 sm:gap-1"},oe={class:"flex gap-0.5 pl-4 sm:gap-1 sm:pl-8"},re={class:"flex gap-0.5 sm:gap-1"},de={class:"flex gap-0.5 sm:gap-1"},ne=["onMouseenter","onTouchstart"],le={key:0,class:"absolute inset-0 hidden items-center justify-center sm:flex"},ae={key:1,class:"pointer-events-none absolute bottom-full left-1/2 z-50 mb-2 -translate-x-1/2 whitespace-nowrap rounded-lg border border-border bg-popover px-3 py-2 text-xs shadow-lg"},ie={class:"font-medium text-foreground"},ue={class:"text-muted-foreground"},ce={__name:"ActivityHeatmap",props:{stats:{type:Object,required:!0}},setup(m){const y=m,d=b("added"),g=b({show:!1,day:null}),C=b(typeof window<"u"?window.innerWidth:1024),D=()=>{C.value=window.innerWidth};j(()=>{typeof window<"u"&&window.addEventListener("resize",D)}),B(()=>{typeof window<"u"&&window.removeEventListener("resize",D)});const h=E(()=>{const o=y.stats.data||[],t=[];let r=[];return o.forEach((n,s)=>{const i=new Date(n.date).getDay(),p=i===0?6:i-1;if(s===0&&p>0)for(let z=0;z<p;z++)r.push(null);if(r.push(n),p===6||s===o.length-1){for(;r.length<7;)r.push(null);t.push(r),r=[]}}),t}),A=E(()=>{y.stats.data;const o=[];let t=null,r=0;return h.value.forEach(n=>{const s=n.find(c=>c!==null);if(s){const i=new Date(s.date).toLocaleDateString("tr-TR",{month:"short"});i!==t&&(o.push({label:i,width:12,weekIndex:r}),t=i)}r++}),o.forEach((n,s)=>{const c=s+1<o.length?o[s+1].weekIndex:h.value.length,i=C.value<640?10:16;n.width=(c-n.weekIndex)*i}),o}),f=o=>o===0?"rgb(var(--muted) / 0.3)":o<=2?"rgb(34, 197, 94, 0.3)":o<=5?"rgb(34, 197, 94, 0.5)":o<=10?"rgb(34, 197, 94, 0.7)":"rgb(34, 197, 94, 1)",L=o=>{if(!o)return"transparent";if(o.is_future)return"rgb(var(--muted) / 0.15)";const t=d.value==="added"?o.added:o.reviewed;return f(t)},T=(o,t)=>{o&&(g.value={show:!0,day:o})},W=()=>{g.value.show=!1},M=o=>new Date(o).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"});return(o,t)=>(a(),l("div",V,[e("div",I,[e("button",{onClick:t[0]||(t[0]=r=>d.value="added"),class:w(["relative px-4 py-2 text-sm font-medium transition-colors",d.value==="added"?"text-primary":"text-muted-foreground hover:text-foreground"])},[t[2]||(t[2]=S(" Eklenen Kelimeler ",-1)),d.value==="added"?(a(),l("div",P)):x("",!0)],2),e("button",{onClick:t[1]||(t[1]=r=>d.value="reviewed"),class:w(["relative px-4 py-2 text-sm font-medium transition-colors",d.value==="reviewed"?"text-primary":"text-muted-foreground hover:text-foreground"])},[t[3]||(t[3]=S(" Çalışılan Kelimeler ",-1)),d.value==="reviewed"?(a(),l("div",R)):x("",!0)],2)]),e("div",$,[e("div",F,[e("div",H,u(d.value==="added"?m.stats.summary.totalWordsAdded:m.stats.summary.totalWordsReviewed),1),e("div",N,u(d.value==="added"?"Toplam Eklenen":"Toplam Çalışılan"),1)]),e("div",O,[e("div",G,u(d.value==="added"?m.stats.summary.avgWordsAddedPerDay:m.stats.summary.avgWordsReviewedPerDay),1),t[4]||(t[4]=e("div",{class:"text-xs text-muted-foreground"},"Günlük Ortalama",-1))]),e("div",K,[e("div",U,u(m.stats.summary.currentStreak),1),t[5]||(t[5]=e("div",{class:"text-xs text-muted-foreground"},"Güncel Seri",-1))]),e("div",Y,[e("div",q,u(m.stats.summary.longestStreak),1),t[6]||(t[6]=e("div",{class:"text-xs text-muted-foreground"},"En Uzun Seri",-1))])]),e("div",J,[e("div",Q,[e("h3",X,u(new Date().getFullYear())+" Yılı Aktivitesi",1),e("div",Z,[t[7]||(t[7]=e("span",{class:"hidden sm:inline"},"Az",-1)),e("div",ee,[e("div",{class:"h-2 w-2 rounded-sm sm:h-3 sm:w-3",style:v({backgroundColor:f(0)})},null,4),e("div",{class:"h-2 w-2 rounded-sm sm:h-3 sm:w-3",style:v({backgroundColor:f(1)})},null,4),e("div",{class:"h-2 w-2 rounded-sm sm:h-3 sm:w-3",style:v({backgroundColor:f(5)})},null,4),e("div",{class:"h-2 w-2 rounded-sm sm:h-3 sm:w-3",style:v({backgroundColor:f(10)})},null,4),e("div",{class:"h-2 w-2 rounded-sm sm:h-3 sm:w-3",style:v({backgroundColor:f(20)})},null,4)]),t[8]||(t[8]=e("span",{class:"hidden sm:inline"},"Çok",-1))])]),e("div",te,[e("div",se,[e("div",oe,[(a(!0),l(_,null,k(A.value,(r,n)=>(a(),l("div",{key:n,class:"text-[10px] text-muted-foreground sm:text-xs",style:v({width:r.width+"px",textAlign:"left"})},u(r.label),5))),128))]),e("div",re,[t[10]||(t[10]=e("div",{class:"flex flex-col justify-around text-[10px] text-muted-foreground sm:text-xs"},[e("div",null,"Pzt"),e("div",{class:"hidden sm:block"},"Çar"),e("div",null,"Cum")],-1)),e("div",de,[(a(!0),l(_,null,k(h.value,(r,n)=>(a(),l("div",{key:n,class:"flex flex-col gap-0.5 sm:gap-1"},[(a(!0),l(_,null,k(r,(s,c)=>(a(),l("div",{key:c,class:w(["group relative h-2 w-2 rounded-[2px] transition-all sm:h-3 sm:w-3 sm:rounded-sm",s&&!s.is_future?"hover:ring-1 hover:ring-primary sm:hover:ring-2 cursor-pointer":s!=null&&s.is_future?"cursor-not-allowed opacity-60":""]),style:v({backgroundColor:L(s)}),onMouseenter:i=>s&&!s.is_future?T(s):null,onMouseleave:W,onTouchstart:i=>s&&!s.is_future?T(s):null,onTouchend:W},[s!=null&&s.is_future?(a(),l("div",le,[...t[9]||(t[9]=[e("svg",{class:"h-1.5 w-1.5 text-muted-foreground/40",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):x("",!0),!(s!=null&&s.is_future)&&g.value.show&&g.value.day===s?(a(),l("div",ae,[e("div",ie,u(M(s.date)),1),e("div",ue,u(d.value==="added"?s.added:s.reviewed)+" kelime "+u(d.value==="added"?"eklendi":"çalışıldı"),1)])):x("",!0)],46,ne))),128))]))),128))])])])])])]))}};export{ce as default};
