import{T as M,e as U,j,w as m,a as e,b as x,u as l,i as v,f as u,l as B,c as a,h as f,o as i,F as y,g as k,t as g,k as p,D as w,v as b}from"./ssr-CVKOEYhR.js";import{_ as z}from"./CheckScreen-BYm6Ecw3.js";const D={class:"mx-auto max-w-4xl py-8"},L={class:"mb-8"},A={class:"relative"},E={key:0,class:"mt-3 grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},F=["src"],N=["onClick"],P={key:1,class:"mt-1 text-sm text-destructive"},R={class:"flex gap-4"},T={class:"flex cursor-pointer items-center gap-2"},H={class:"flex cursor-pointer items-center gap-2"},S={class:"rounded-lg border border-border bg-card p-6"},I={key:0,class:"py-8 text-center text-sm text-muted-foreground"},K={key:1,class:"space-y-4"},Y={class:"mb-4 flex items-center justify-between"},q={class:"text-sm font-medium text-foreground"},G=["onClick"],O={class:"space-y-4"},W=["for"],J=["id","onUpdate:modelValue"],Q=["for"],X=["id","onUpdate:modelValue"],Z=["for"],ee=["id","onUpdate:modelValue"],te={class:"flex items-center gap-3 pt-4"},re=["disabled"],oe={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ie={__name:"CreateWorkspace",setup(se){const o=M({images:[],status:"published",products:[]}),c=U([]),h=s=>{const t=Array.from(s.target.files);o.images=t,c.value=t.map(r=>URL.createObjectURL(r))},_=s=>{o.images.splice(s,1),c.value.splice(s,1)},C=()=>{o.products.push({name:"",features:"",link:""})},V=s=>{o.products.splice(s,1)},$=()=>{const s=new FormData;o.images.forEach((t,r)=>{s.append(`images[${r}]`,t)}),s.append("status",o.status),o.products.forEach((t,r)=>{s.append(`products[${r}][name]`,t.name),t.features&&s.append(`products[${r}][features]`,t.features),t.link&&s.append(`products[${r}][link]`,t.link)}),o.transform(()=>s).post("/workspace",{forceFormData:!0})};return(s,t)=>(i(),j(z,null,{default:m(()=>[e("div",D,[e("div",L,[x(l(v),{href:"/workspace",class:"mb-4 inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground"},{default:m(()=>[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),u(" Geri ",-1)])]),_:1}),t[3]||(t[3]=e("h1",{class:"text-3xl font-bold tracking-tight text-foreground"},"Yeni Çalışma Alanı",-1)),t[4]||(t[4]=e("p",{class:"mt-2 text-muted-foreground"},"Çalışma alanınızı ve ürünlerinizi ekleyin.",-1))]),e("form",{onSubmit:B($,["prevent"]),class:"space-y-6"},[e("div",null,[t[6]||(t[6]=e("label",{for:"images",class:"mb-2 block text-sm font-medium text-foreground"}," Resimler ",-1)),e("div",A,[e("input",{id:"images",type:"file",accept:"image/*",multiple:"",onChange:h,class:"w-full cursor-pointer rounded-lg border border-input bg-background px-4 py-2.5 text-foreground file:mr-4 file:rounded-md file:border-0 file:bg-primary file:px-4 file:py-1 file:text-sm file:font-medium file:text-primary-foreground hover:file:bg-primary/90"},null,32)]),c.value.length>0?(i(),a("div",E,[(i(!0),a(y,null,k(c.value,(r,n)=>(i(),a("div",{key:n,class:"relative group"},[e("img",{src:r,alt:"Preview",class:"h-32 w-full rounded-lg border border-border object-cover"},null,8,F),e("button",{type:"button",onClick:d=>_(n),class:"absolute right-2 top-2 rounded-full bg-destructive p-1.5 text-white opacity-0 transition-opacity group-hover:opacity-100"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,N)]))),128))])):f("",!0),l(o).errors.images?(i(),a("p",P,g(l(o).errors.images),1)):f("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Durum",-1)),e("div",R,[e("label",T,[p(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=r=>l(o).status=r),value:"published",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[w,l(o).status]]),t[7]||(t[7]=e("span",{class:"text-sm text-foreground"},"Yayınla",-1))]),e("label",H,[p(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=r=>l(o).status=r),value:"draft",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[w,l(o).status]]),t[8]||(t[8]=e("span",{class:"text-sm text-foreground"},"Taslak",-1))])])]),e("div",S,[e("div",{class:"mb-4 flex items-center justify-between"},[t[11]||(t[11]=e("h2",{class:"text-lg font-semibold text-foreground"},"Ürünler",-1)),e("button",{type:"button",onClick:C,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" Ürün Ekle ",-1)])])]),l(o).products.length===0?(i(),a("div",I," Henüz ürün eklenmedi. ")):(i(),a("div",K,[(i(!0),a(y,null,k(l(o).products,(r,n)=>(i(),a("div",{key:n,class:"rounded-lg border border-border bg-background p-4"},[e("div",Y,[e("h3",q,"Ürün "+g(n+1),1),e("button",{type:"button",onClick:d=>V(n),class:"rounded-lg p-1.5 text-destructive transition-colors hover:bg-destructive/10"},[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,G)]),e("div",O,[e("div",null,[e("label",{for:`product-name-${n}`,class:"mb-1 block text-xs font-medium text-foreground"},[...t[13]||(t[13]=[u(" İsim ",-1),e("span",{class:"text-destructive"},"*",-1)])],8,W),p(e("input",{id:`product-name-${n}`,"onUpdate:modelValue":d=>r.name=d,type:"text",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Ürün adı",required:""},null,8,J),[[b,r.name]])]),e("div",null,[e("label",{for:`product-features-${n}`,class:"mb-1 block text-xs font-medium text-foreground"}," Özellikler ",8,Q),p(e("textarea",{id:`product-features-${n}`,"onUpdate:modelValue":d=>r.features=d,rows:"3",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Ürün özelliklerini buraya yazın..."},null,8,X),[[b,r.features]])]),e("div",null,[e("label",{for:`product-link-${n}`,class:"mb-1 block text-xs font-medium text-foreground"}," Satın Alma Linki ",8,Z),p(e("input",{id:`product-link-${n}`,"onUpdate:modelValue":d=>r.link=d,type:"url",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"https://..."},null,8,ee),[[b,r.link]])])])]))),128))]))]),e("div",te,[e("button",{type:"submit",disabled:l(o).processing,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-2.5 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50"},[l(o).processing?(i(),a("svg",oe,[...t[14]||(t[14]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):f("",!0),u(" "+g(l(o).processing?"Kaydediliyor...":"Kaydet"),1)],8,re),x(l(v),{href:"/workspace",class:"inline-flex items-center gap-2 rounded-lg border border-border bg-card px-6 py-2.5 text-sm font-medium text-foreground transition-colors hover:bg-accent"},{default:m(()=>[...t[15]||(t[15]=[u(" İptal ",-1)])]),_:1})])],32)])]),_:1}))}};export{ie as default};
