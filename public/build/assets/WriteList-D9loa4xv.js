import{C as z,W as B,b as f,Q as C,g as F,X as P,Y as j,z as D,I as M,x as V,y as I,c as l,j as y,F as O,l as T,a as r,o,e as H,w as R,n as v,t as x,f as d,u as Y,p as G}from"./ssr-CQ9FUimx.js";import K from"./IconCalendar-Lv6CSHrS.js";import Q from"./IconEye-Dzr_n83j.js";import U from"./IconLock-D_t5GBUp.js";import X from"./IconLink-qBS699xU.js";import{_ as q}from"./app-BdvGTFnm.js";/* empty css            */const J={class:"space-y-1 p-2"},Z={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},tt={class:"flex items-center gap-1"},et={class:"truncate"},st={class:"flex items-center gap-1"},at={class:"truncate"},rt={class:"flex items-center gap-1 self-start sm:self-center"},nt={key:0,class:"text-yellow-500 dark:text-yellow-400",title:"Gizli yazı"},ot={key:1,class:"text-blue-500 dark:text-blue-400",title:"Sadece link"},it={key:0,class:"flex h-32 items-center justify-center text-center text-muted-foreground"},lt=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(w,{expose:b}){const k=z(),m=w,c=B("writes",[]),A=f(()=>{if(m.writes&&m.writes.length>0)return m.writes;const t=(c==null?void 0:c.value)??c;return t&&Array.isArray(t)&&t.length>0?t:[]}),p=C(),W=p.props.isAdmin||!1;let n=!1;const u=F(""),g=f(()=>k.getters["Writes/filter"]);f(()=>{const t=p.url;return t.startsWith("/writes")&&!t.startsWith("/categories")});const $=t=>{const e=window.location.pathname;if(e.includes("/categories/")){const s=e.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return route("categories.showByCategory",{category:a,slug:t.slug})}}return route("writes.show",{write:t.slug})},h=t=>{const e=window.location.pathname;if(e.includes("/categories/")){const s=e.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return`/categories/${a}/${t.slug}`}}return`/writes/${t.slug}`},_=f(()=>{let t=A.value;return W?(g.value==="published"?t=t.filter(e=>e.status==="published"):g.value==="link_only"?t=t.filter(e=>e.status==="link_only"):g.value==="private"&&(t=t.filter(e=>e.status==="private")),t):(t=t.filter(e=>e.status!=="private"),t)});b({filteredWrites:_}),P(()=>{n=!0,i()}),j(()=>{n=!1}),D(()=>p.url,()=>{M(()=>{i()})});const i=()=>{u.value=window.location.pathname};V(()=>{n=!0,i();const t=()=>{n&&i()},e=()=>{n&&i()};window.addEventListener("popstate",t),window.addEventListener("inertia:finish",e),I(()=>{n=!1,window.removeEventListener("popstate",t),window.removeEventListener("inertia:finish",e)})});const E=t=>{const e=new Date(t),s=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],a=e.getDate(),N=s[e.getMonth()],S=e.getFullYear();return`${a} ${N} ${S}`},L=t=>new Intl.NumberFormat("tr-TR").format(t);return(t,e)=>(o(),l("div",J,[(o(!0),l(O,null,T(_.value,s=>(o(),H(Y(G),{key:s.id,href:$(s),class:v(["block rounded-lg border border-transparent p-3",[u.value===h(s)?"bg-primary text-primary-foreground":"border-border bg-card hover:bg-accent"]])},{default:R(()=>[r("h3",{class:v(["line-clamp-2 text-[10px] leading-tight",u.value===h(s)?"text-primary-foreground font-normal":"text-foreground font-normal"]),style:{"font-family":"'Satoshi', system-ui, sans-serif","font-weight":"400"}},x(s.title),3),r("div",{class:v(["flex flex-col gap-1 text-[9px] sm:flex-row sm:items-center sm:justify-between",u.value===h(s)?"text-primary-foreground/70":"text-muted-foreground"]),style:{"font-family":"'Satoshi', system-ui, sans-serif","font-weight":"400"}},[r("div",Z,[r("span",tt,[d(K,{class:"h-3 w-3 flex-shrink-0"}),r("span",et,x(E(s.created_at)),1)]),r("span",st,[d(Q,{class:"h-3 w-3 flex-shrink-0"}),r("span",at,x(L(s.views_count))+" görüntülenme",1)])]),r("div",rt,[s.status==="private"?(o(),l("span",nt,[d(U,{class:"h-3 w-3"})])):y("",!0),s.status==="link_only"?(o(),l("span",ot,[d(X,{class:"h-3 w-3"})])):y("",!0)])],2)]),_:2},1032,["href","class"]))),128)),_.value.length===0?(o(),l("div",it,[...e[0]||(e[0]=[r("div",null,"Henüz yazı bulunmuyor",-1)])])):y("",!0)]))}}),ht=q(lt,[["__scopeId","data-v-448dd22c"]]);export{ht as default};
