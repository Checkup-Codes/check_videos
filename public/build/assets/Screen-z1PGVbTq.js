import{Q as z,b as k,g as b,T as M,e as D,w as g,a as t,f as h,u as s,p as _,k as x,h as C,i as f,c as d,j as c,n as v,m,o as n,t as u,F as O,l as A}from"./ssr-Dzsw7L2j.js";import{_ as F}from"./CheckScreen-CRdgYlHR.js";const L={class:"mx-auto max-w-4xl"},N={class:"mb-6"},T={class:"rounded-lg border border-border bg-card p-6 shadow-sm"},U={class:"space-y-5"},$={key:0,class:"mt-1.5 text-xs text-destructive"},P={key:0,class:"mt-1.5 text-xs text-destructive"},Q={class:"grid grid-cols-1 gap-5 sm:grid-cols-2"},W={class:"relative"},Y={key:0,class:"mt-1.5 text-xs text-destructive"},q={class:"relative"},E={key:0,class:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md border border-border bg-popover p-1 shadow-lg"},G=["onMousedown"],H={key:0,class:"mt-1.5 text-xs text-destructive"},K={class:"flex items-center justify-end gap-3"},I=["disabled"],J={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},R={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},re={__name:"Screen",setup(X){const{props:V}=z(),w=k(()=>V.services||[]),o=b({name:"",slug:"",description:"",price:"",parent_id:""}),r=M({name:"",description:"",price:null,parent_id:null});r.processing=!1;const a=b(""),p=b(!1),y=k(()=>a.value?w.value.filter(l=>l.name.toLowerCase().includes(a.value.toLowerCase())):w.value),B=l=>{r.parent_id=l.id,a.value=l.name,p.value=!1},S=()=>{setTimeout(()=>{p.value=!1},200)},j=()=>{r.post("/services",{onError:l=>{l&&Object.keys(l).forEach(e=>{o.value.hasOwnProperty(e)&&(o.value[e]=l[e])})}})};return(l,e)=>(n(),D(F,null,{default:g(()=>[t("div",L,[t("div",N,[h(s(_),{href:"/services",class:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground"},{default:g(()=>[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),x(" Servislere Dön ",-1)])]),_:1}),e[6]||(e[6]=t("h1",{class:"mt-4 text-2xl font-semibold text-foreground"},"Yeni Servis",-1)),e[7]||(e[7]=t("p",{class:"mt-1 text-sm text-muted-foreground"},"Yeni bir servis oluşturun",-1))]),t("form",{onSubmit:C(j,["prevent"]),class:"space-y-6"},[t("div",T,[t("div",U,[t("div",null,[e[8]||(e[8]=t("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Servis Adı",-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>s(r).name=i),type:"text",placeholder:"Örn: Web Geliştirme",class:v(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.name||s(r).errors.name}]),required:""},null,2),[[m,s(r).name]]),o.value.name||s(r).errors.name?(n(),d("p",$,u(o.value.name||s(r).errors.name),1)):c("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Açıklama",-1)),f(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=i=>s(r).description=i),rows:"8",placeholder:"Servis hakkında detaylı açıklama yazabilirsiniz...",class:v(["flex min-h-[200px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y",{"border-destructive focus-visible:ring-destructive":o.value.description||s(r).errors.description}])},null,2),[[m,s(r).description]]),o.value.description||s(r).errors.description?(n(),d("p",P,u(o.value.description||s(r).errors.description),1)):c("",!0)]),t("div",Q,[t("div",null,[e[11]||(e[11]=t("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Fiyat",-1)),t("div",W,[f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>s(r).price=i),type:"number",step:"0.01",placeholder:"0.00",class:v(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 pr-12 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.price||s(r).errors.price}])},null,2),[[m,s(r).price]]),e[10]||(e[10]=t("span",{class:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground"},"₺",-1))]),o.value.price||s(r).errors.price?(n(),d("p",Y,u(o.value.price||s(r).errors.price),1)):c("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Üst Kategori",-1)),t("div",q,[f(t("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>a.value=i),type:"text",placeholder:"Ara ve seç...",class:v(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":o.value.parent_id||s(r).errors.parent_id}]),onFocus:e[4]||(e[4]=i=>p.value=!0),onBlur:S},null,34),[[m,a.value]]),p.value&&y.value.length?(n(),d("ul",E,[(n(!0),d(O,null,A(y.value,i=>(n(),d("li",{key:i.id,onMousedown:C(Z=>B(i),["prevent"]),class:"cursor-pointer rounded-sm px-2 py-1.5 text-sm text-popover-foreground transition-colors hover:bg-accent hover:text-accent-foreground"},u(i.name),41,G))),128))])):c("",!0)]),o.value.parent_id||s(r).errors.parent_id?(n(),d("p",H,u(o.value.parent_id||s(r).errors.parent_id),1)):c("",!0)])])])]),t("div",K,[h(s(_),{href:"/services",class:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 text-sm font-medium text-foreground ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},{default:g(()=>[...e[13]||(e[13]=[x(" İptal ",-1)])]),_:1}),t("button",{type:"submit",class:"inline-flex h-10 items-center justify-center gap-2 rounded-md bg-primary px-6 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",disabled:s(r).processing},[s(r).processing?(n(),d("svg",J,[...e[14]||(e[14]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),d("svg",R,[...e[15]||(e[15]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])),x(" "+u(s(r).processing?"Oluşturuluyor...":"Oluştur"),1)],8,I)])],32)])]),_:1}))}};export{re as default};
