import{L as T,r as x,p as k,Q as U,C as W,c as l,o,a as e,h as i,k as y,v as G,u as b,n as d,F as C,g as S,S as K,U as P,e as z,w as B,t as p,l as I,i as V,q as O}from"./ssr-BrVJZCuA.js";import{_ as J}from"./app-pz2SwoKx.js";/* empty css            */const u=h=>(K("data-v-fe67b738"),h=h(),P(),h),R={class:"mb-3"},X={key:0,class:"mb-3 flex gap-2"},Y={class:""},Z={class:"flex w-full items-center"},ee={class:"flex items-center justify-between"},te={class:"flex items-center gap-2"},se={key:0,class:"opacity-70"},ne=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),le=[ne],oe=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),re=[oe],ae={class:"font-medium"},ie=["onClick"],de=u(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),ce=[de],ue={class:"flex items-center gap-2"},pe={class:"badge badge-sm"},he={key:0,class:"mt-1 pl-4"},_e={class:"flex w-full items-center"},ve={class:"flex items-center justify-between"},me={class:"flex items-center gap-2"},be={key:0,class:"opacity-70"},ge=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),fe=[ge],we=["onClick"],xe=u(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),ke=[xe],ye={class:"badge badge-xs"},Ce={key:0,class:"mt-1 pl-3"},Se={class:"flex w-full items-center"},ze={class:"flex items-center justify-between"},Be={class:"flex items-center gap-2"},Ve={key:0,class:"opacity-70"},$e=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),je=[$e],He={class:"badge badge-xs"},Le={key:1,class:"flex h-32 items-center justify-center text-center opacity-50"},Me=u(()=>e("div",null,"Henüz kategori bulunmuyor",-1)),Ae=[Me],Te=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(h,{expose:q,emit:Ie}){const F=T("categories",[]),$=T("isAdmin",!1),g=x(""),c=x("all");function j(s,r,t){return s.map(n=>{const a=j(n.children||[],r,t),Q=n.name.toLowerCase().includes(r.toLowerCase());let w=!0;return $&&t!=="all"&&(t==="public"?w=n.status!=="hidden"&&n.status!=="link_only":w=n.status===t),Q&&w||a.length>0?{...n,children:a}:null}).filter(Boolean)}const H=k(()=>F.filter(s=>!s.parent_id||s.parent_id===null||s.parent_id==="null"||s.parent_id===0)),N=k(()=>j(H.value,g.value,c.value)),D=U(),_=k(()=>D.url),L=x(null),f=W(),v=s=>{let r=s.writes_count||0;return s.children&&s.children.length&&s.children.forEach(t=>{r+=v(t)}),r},E=(s=!0)=>{f.dispatch("CategorySidebar/expandAllCategories",s)},M=s=>{f.dispatch("CategorySidebar/toggleCollapse",s)},m=s=>f.getters["CategorySidebar/isCollapsed"](s),A=s=>{var t,n;return((t=s.writes)==null?void 0:t.some(a=>a.status==="link_only"))?!0:(n=s.children)!=null&&n.length?s.children.some(a=>A(a)):!1};return q({expandAllCategories:E,scrollContainer:L}),(s,r)=>(o(),l("div",{ref_key:"scrollContainer",ref:L,class:"space-y-1 p-3"},[e("div",R,[y(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>g.value=t),type:"text",class:"input-bordered input w-full",placeholder:"Kategori ara..."},null,512),[[G,g.value]])]),b($)?(o(),l("div",X,[e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="all"}]),onClick:r[1]||(r[1]=t=>c.value="all")}," Tümü ",2),e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="public"}]),onClick:r[2]||(r[2]=t=>c.value="public")}," Herkese Açık ",2),e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="link_only"}]),onClick:r[3]||(r[3]=t=>c.value="link_only")}," Sadece Link ",2),e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="hidden"}]),onClick:r[4]||(r[4]=t=>c.value="hidden")}," Gizli ",2)])):i("",!0),e("ul",Y,[(o(!0),l(C,null,S(N.value,t=>(o(),l("li",{key:t.id,class:"mb-1"},[e("div",Z,[z(b(V),{href:s.route("categories.show",{category:t.slug}),class:d(["block flex-grow items-center rounded-lg border px-3 py-2 backdrop-blur-md transition-all duration-200",_.value===`/categories/${t.slug}`?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"])},{default:B(()=>[e("div",ee,[e("div",te,[t.status==="hidden"?(o(),l("span",se,le)):i("",!0),A(t)?(o(),l("span",{key:1,class:d([_.value===`/categories/${t.slug}`?"text-primary-content":"text-primary"])},re,2)):i("",!0),e("span",ae,p(t.name),1),t.children.length?(o(),l("button",{key:2,onClick:I(n=>M(t.id),["prevent","stop"]),class:"btn btn-ghost btn-sm btn-square"},[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-4 w-4 transition-transform",{"rotate-180":!m(t.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ce,2))],8,ie)):i("",!0)]),e("div",ue,[e("div",pe,p(v(t)),1)])])]),_:2},1032,["href","class"])]),t.children.length?y((o(),l("ul",he,[(o(!0),l(C,null,S(t.children,n=>(o(),l("li",{key:n.id,class:"mb-1"},[e("div",_e,[z(b(V),{href:s.route("categories.show",{category:n.slug}),class:d(["block flex-grow items-center rounded-lg border px-3 py-2 backdrop-blur-md transition-all duration-200",_.value===`/categories/${n.slug}`?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"])},{default:B(()=>[e("div",ve,[e("div",me,[n.status==="hidden"||n.parent_hidden?(o(),l("span",be,fe)):i("",!0),e("span",null,p(n.name),1),n.children.length?(o(),l("button",{key:1,onClick:I(a=>M(n.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-3 w-3 transition-transform",{"rotate-180":!m(n.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ke,2))],8,we)):i("",!0)]),e("div",ye,p(v(n)),1)])]),_:2},1032,["href","class"])]),n.children.length?y((o(),l("ul",Ce,[(o(!0),l(C,null,S(n.children,a=>(o(),l("li",{key:a.id,class:"mt-1"},[e("div",Se,[z(b(V),{href:s.route("categories.show",{category:a.slug}),class:d(["block flex-grow items-center rounded-lg border px-3 py-1.5 text-xs backdrop-blur-md transition-all duration-200",_.value===`/categories/${a.slug}`?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"])},{default:B(()=>[e("div",ze,[e("div",Be,[a.status==="hidden"||a.parent_hidden?(o(),l("span",Ve,je)):i("",!0),e("span",null,p(a.name),1)]),e("div",He,p(v(a)),1)])]),_:2},1032,["href","class"])])]))),128))],512)),[[O,!m(n.id)]]):i("",!0)]))),128))],512)),[[O,!m(t.id)]]):i("",!0)]))),128))]),H.value.length===0?(o(),l("div",Le,Ae)):i("",!0)],512))}}),Ne=J(Te,[["__scopeId","data-v-fe67b738"]]);export{Ne as default};
