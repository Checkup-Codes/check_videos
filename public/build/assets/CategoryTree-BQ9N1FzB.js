import{_ as j,Q as F,l as B,L as N,g as l,o,b as t,F as m,m as g,j as L,h as f,a as p,w,t as d,n as u,u as v,k as x,y as S,J as T,K as V}from"./app-bzSXT2H4.js";/* empty css            */const A=a=>(T("data-v-4b5e3e5e"),a=a(),V(),a),q={class:"min-h-full"},y={class:"menu bg-base-100 rounded-box w-full"},D={class:"flex w-full items-center"},I={class:"text-base"},M={class:"flex items-center"},z=["onClick"],J=A(()=>t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),K=[J],Q={class:"badge badge-sm badge-outline"},W={key:0,class:"menu-sm pl-4"},G={class:"flex w-full items-center"},H={class:"text-sm"},O={class:"flex items-center"},P=["onClick"],R=A(()=>t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),U=[R],X={class:"badge badge-sm badge-outline"},Y={key:0,class:"menu-xs pl-3"},Z={class:"flex w-full items-center"},ee={class:"text-xs"},se={class:"badge badge-sm badge-outline"},te={__name:"CategoryTree",props:{parentCategories:{type:Array,required:!0},getLinkClasses:{type:Function,required:!0},expandAll:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(a,{expose:E,emit:ne}){const k=a,{url:le}=F(),$=B(null),r=B(new Set),_=e=>{let i=e.writes_count||0;return e.children&&e.children.length&&e.children.forEach(s=>{i+=_(s)}),i},b=(e=!0)=>{r.value.clear(),e||k.parentCategories.forEach(i=>{r.value.add(i.id),i.children&&i.children.length&&i.children.forEach(s=>{r.value.add(s.id),s.children&&s.children.length&&s.children.forEach(n=>{r.value.add(n.id)})})})},C=e=>{r.value.has(e)?r.value.delete(e):r.value.add(e)},h=e=>r.value.has(e);return N(()=>k.expandAll,e=>{b(e)},{immediate:!0}),E({expandAllCategories:b}),(e,i)=>(o(),l("div",{ref_key:"scrollContainer",ref:$,class:"w-full overflow-y-auto"},[t("div",q,[t("ul",y,[(o(!0),l(m,null,g(a.parentCategories,s=>(o(),l("li",{key:s.id,class:"mb-1"},[t("div",D,[p(v(x),{href:e.route("categories.show",{category:s.slug}),class:u([a.getLinkClasses(`/categories/${s.slug}`),"flex flex-grow items-center font-medium"])},{default:w(()=>[t("span",I,d(s.name),1)]),_:2},1032,["href","class"]),t("div",M,[s.children.length?(o(),l("button",{key:0,onClick:n=>C(s.id),class:"btn btn-ghost btn-xs mr-1 px-1"},[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:u(["h-4 w-4 transition-transform",{"rotate-180":!h(s.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},K,2))],8,z)):f("",!0),t("div",Q,d(_(s)),1)])]),s.children.length?L((o(),l("ul",W,[(o(!0),l(m,null,g(s.children,n=>(o(),l("li",{key:n.id,class:"mt-1"},[t("div",G,[p(v(x),{href:e.route("categories.show",{category:n.slug}),class:u([a.getLinkClasses(`/categories/${n.slug}`),"flex flex-grow items-center"])},{default:w(()=>[t("span",H,d(n.name),1)]),_:2},1032,["href","class"]),t("div",O,[n.children.length?(o(),l("button",{key:0,onClick:c=>C(n.id),class:"btn btn-ghost btn-xs mr-1 px-1"},[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:u(["h-3 w-3 transition-transform",{"rotate-180":!h(n.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},U,2))],8,P)):f("",!0),t("div",X,d(_(n)),1)])]),n.children.length?L((o(),l("ul",Y,[(o(!0),l(m,null,g(n.children,c=>(o(),l("li",{key:c.id,class:"mt-1"},[t("div",Z,[p(v(x),{href:e.route("categories.show",{category:c.slug}),class:u([a.getLinkClasses(`/categories/${c.slug}`),"flex flex-grow items-center"])},{default:w(()=>[t("span",ee,d(c.name),1)]),_:2},1032,["href","class"]),t("div",se,d(c.writes_count||0),1)])]))),128))],512)),[[S,!h(n.id)]]):f("",!0)]))),128))],512)),[[S,!h(s.id)]]):f("",!0)]))),128))])])],512))}},re=j(te,[["__scopeId","data-v-4b5e3e5e"]]);export{re as default};
