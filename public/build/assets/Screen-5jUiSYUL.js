import{Q as G,r as c,p as O,m as Q,J as j,y as U,N as $,s as J,c as o,j as K,a as e,e as A,f as E,w as D,h as v,o as s,F as L,t as m,n as x,u as S,i as Y,g as P}from"./ssr-CUNQhKJF.js";import{_ as X}from"./ExcalidrawComponent-sTNp8X6a.js";import{_ as Z}from"./CheckScreen-C-DygF_a.js";import{_ as ee}from"./app-D4kanwHI.js";import{S as te,u as V}from"./useGsapAnimation-CTPlqKGA.js";import{u as se}from"./useProcessedQuillContent-DFPoKMfg.js";import{g as oe}from"./index-CH_iu5NA.js";/* empty css            */const ne={key:0,class:"relative h-screen w-full"},le={class:"mx-auto max-w-4xl"},re={class:"bg-base-100 transition-all duration-200"},ae={class:"p-6 pt-12 sm:p-8 sm:pt-16"},ie={class:"mb-8"},ue={key:0,class:"space-y-3"},de={class:"mb-3 text-2xl font-bold text-base-content"},ce={class:"text-base-content/60 text-sm"},fe={key:0,class:"mb-6 flex items-center justify-between"},ve={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},be={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},he={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},we={key:0,class:"flex items-center gap-2"},pe={key:1,class:"space-y-3"},me={key:2},ge={class:"content-container"},xe=["innerHTML"],ke={key:1,class:"content-placeholder"},ye={key:3,class:"text-base-content/60 mt-8 text-sm"},_e={class:"flex h-full flex-col"},Ce={class:"flex-1 overflow-y-auto p-4"},Me={key:0,class:"text-base-content/60 py-8 text-center text-sm"},je={key:1,class:"space-y-1"},Le=["onClick"],Se={class:"text-base-content"},Te={class:"rounded-lg bg-base-100 shadow-lg"},ze={class:"overflow-y-auto p-3",style:{"max-height":"calc(100vh - 120px)"}},Be={key:0,class:"text-base-content/60 py-4 text-center text-xs"},Ne={key:1,class:"space-y-1"},He=["onClick"],Ie={class:"text-base-content"},Oe=Object.assign({name:"ShowWriteScreen"},{__name:"Screen",setup($e){oe.registerPlugin(te);const{props:T}=G(),i=c(T.write||{}),F=T.auth,w=c(null),r=c(!1),u=c(!1),f=c(!1),b=c([]),p=c(!1),z=c(null),_=c(!1),d=O(()=>!i.value.title),C=se(w,O(()=>u.value?i.value.content:"")),R=n=>{if(!n)return"";const t=new Date(n),l=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],a=t.getDate(),h=l[t.getMonth()],y=t.getFullYear();return`${a} ${h} ${y}`},W=n=>new Intl.NumberFormat("tr-TR").format(n),B=()=>{r.value=!r.value,!r.value&&!u.value&&(u.value=!0)},q=async n=>{if(confirm("Bu yazıyı silmek istediğinizden emin misiniz?"))try{await $.delete(route("writes.destroy",{write:n}))}catch(t){console.error("Error deleting write:",t)}},M=()=>{if(!w.value)return;const n=w.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),t=[];n.forEach((l,a)=>{l.id||(l.id=`heading-${a}`);const h=parseInt(l.tagName.charAt(1)),y=l.textContent.trim();y&&t.push({id:l.id,text:y,level:h})}),b.value=t,p.value=t.length>0},g=()=>{f.value=!f.value},N=n=>{const t=document.getElementById(n);t&&(z.value=n,t.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(f.value=!1))},H=n=>{switch(n){case 1:return"pl-0";case 2:return"pl-4 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2";case 3:return"pl-8 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 4:return"pl-12 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 5:return"pl-16 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 6:return"pl-20 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";default:return"pl-0"}},I=n=>z.value===n?"bg-base-content/10 text-base-content border-l-2 border-base-content":"";let k=null;return Q(()=>{_.value=window.innerWidth>=1536,u.value=!1;const n=document.querySelector(".content-placeholder");n?(k=new IntersectionObserver(l=>{l.forEach(a=>{a.isIntersecting&&!u.value&&(u.value=!0,j(()=>{V(w,{duration:.8}),setTimeout(()=>{M(),_.value&&b.value.length>0&&(f.value=!0)},100)}))})},{threshold:.1,rootMargin:"50px"}),k.observe(n)):(u.value=!0,j(()=>{V(w,{duration:.8}),setTimeout(()=>{M(),_.value&&b.value.length>0&&(f.value=!0)},100)}));const t=new URLSearchParams(window.location.search);if(r.value=t.has("draw"),i.value.content&&i.value.content.includes("<img")){const l=/<img[^>]+src="([^"]+)"/g;let a;for(;(a=l.exec(i.value.content))!==null;){const h=new Image;h.src=a[1]}}}),U(()=>{k&&k.disconnect()}),$.on("before",()=>{const n=document.querySelector(".write-list-container");n&&localStorage.setItem("writeListScrollPosition",n.scrollTop.toString())}),J(C,()=>{u.value&&C.value&&j(()=>{M()})},{flush:"post"}),(n,t)=>r.value?(s(),o("div",ne,[e("div",{class:"absolute left-4 top-4 z-10"},[e("button",{onClick:B,class:"flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm text-base-content shadow-lg transition-all duration-200 hover:bg-base-200"},[...t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),E(" Metne Dön ",-1)])])]),A(X,{write:i.value},null,8,["write"])])):(s(),K(Z,{key:1},{default:D(()=>[e("div",le,[e("div",re,[e("div",ae,[e("div",ie,[d.value?(s(),o("div",ue,[...t[2]||(t[2]=[e("div",{class:"skeleton h-8 w-3/4 rounded"},null,-1),e("div",{class:"skeleton h-4 w-24 rounded"},null,-1)])])):(s(),o(L,{key:1},[e("h1",de,m(i.value.title),1),e("div",ce,m(R(i.value.created_at)),1)],64))]),d.value?v("",!0):(s(),o("div",fe,[e("button",{onClick:B,class:x(["flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm transition-all duration-200 hover:bg-base-200",r.value?"border-primary bg-primary text-primary-content":"text-base-content"])},[(s(),o("svg",ve,[r.value?(s(),o("path",be)):(s(),o("path",he))])),E(" "+m(r.value?"Metni Göster":"Çizimi Göster"),1)],2),S(F).user?(s(),o("div",we,[A(S(Y),{href:n.route("writes.edit",i.value.id),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300",title:"Düzenle"},{default:D(()=>[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=l=>q(i.value.id)),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-error transition-all duration-200 hover:bg-error hover:text-error-content",title:"Sil"},[...t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])])])):v("",!0)])),d.value?(s(),o("div",pe,[...t[5]||(t[5]=[e("div",{class:"skeleton h-4 w-full rounded"},null,-1),e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1),e("div",{class:"skeleton h-4 w-4/6 rounded"},null,-1),e("div",{class:"skeleton h-4 w-full rounded"},null,-1),e("div",{class:"skeleton h-4 w-3/4 rounded"},null,-1),e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1),e("div",{class:"skeleton h-32 w-full rounded"},null,-1),e("div",{class:"skeleton h-4 w-2/3 rounded"},null,-1),e("div",{class:"skeleton h-4 w-full rounded"},null,-1)])])):(s(),o("div",me,[e("div",ge,[u.value?(s(),o("div",{key:0,class:"article-content ql-editor",ref_key:"contentRef",ref:w,innerHTML:S(C)},null,8,xe)):(s(),o("div",ke,[...t[6]||(t[6]=[e("div",{class:"space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-5/6 rounded"}),e("div",{class:"skeleton h-4 w-4/6 rounded"}),e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-3/4 rounded"})],-1)])]))])])),d.value?v("",!0):(s(),o("div",ye,m(W(i.value.views_count))+" görüntülenme ",1))])])]),!d.value&&p.value&&!r.value?(s(),o("button",{key:0,onClick:g,class:"fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:hidden"},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])])):v("",!0),!d.value&&p.value&&!r.value?(s(),o("div",{key:1,class:x(["fixed right-0 top-0 z-40 h-full w-80 transform bg-base-100 shadow-2xl transition-transform duration-300 2xl:hidden",{"translate-x-full":!f.value}])},[e("div",_e,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-4"},[t[9]||(t[9]=e("h3",{class:"text-lg font-semibold text-base-content"},"İçindekiler",-1)),e("button",{onClick:g,class:"btn btn-ghost btn-sm"},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Ce,[b.value.length===0?(s(),o("div",Me," İçindekiler bulunamadı ")):(s(),o("div",je,[(s(!0),o(L,null,P(b.value,(l,a)=>(s(),o("div",{key:a,onClick:h=>N(l.id),class:x(["cursor-pointer rounded-lg p-2 text-sm transition-colors hover:bg-base-200",[H(l.level),I(l.id)]])},[e("span",Se,m(l.text),1)],10,Le))),128))]))])])],2)):v("",!0),!d.value&&p.value&&!r.value?(s(),o("button",{key:2,onClick:g,class:"fixed right-4 top-4 z-50 flex hidden h-10 w-10 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:flex"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])])):v("",!0),!d.value&&p.value&&!r.value?(s(),o("div",{key:3,class:x(["fixed right-4 top-4 z-30 hidden w-64 transition-all duration-300 ease-in-out 2xl:block",f.value?"translate-x-0 opacity-100":"pointer-events-none translate-x-full opacity-0"])},[e("div",Te,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-3"},[t[12]||(t[12]=e("h3",{class:"text-sm font-semibold text-base-content"},"İçindekiler",-1)),e("button",{onClick:g,class:"btn btn-ghost btn-xs"},[...t[11]||(t[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ze,[b.value.length===0?(s(),o("div",Be," İçindekiler bulunamadı ")):(s(),o("div",Ne,[(s(!0),o(L,null,P(b.value,(l,a)=>(s(),o("div",{key:a,onClick:h=>N(l.id),class:x(["cursor-pointer rounded p-2 text-xs transition-colors hover:bg-base-200",[H(l.level),I(l.id)]])},[e("span",Ie,m(l.text),1)],10,He))),128))]))])])],2)):v("",!0),!d.value&&p.value&&f.value&&!r.value?(s(),o("div",{key:4,onClick:g,class:"fixed inset-0 z-30 bg-black/20 2xl:hidden"})):v("",!0)]),_:1}))}}),qe=ee(Oe,[["__scopeId","data-v-d345c72f"]]);export{qe as default};
