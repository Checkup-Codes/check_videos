import{g as u,b as $,s as N,H as T,x as S,e as V,w as z,a as t,c as n,j as m,o as r,F as L,l as M,f as A,t as v,u as E,p as F,n as h,P as O}from"./ssr-DHg8KZh6.js";import H from"./LayoutJourney-ClHBqfPL.js";import{_ as J}from"./app-VE349D2Y.js";import"./FlashMessage-bJdosCk3.js";import"./CheckScreen-C-Gqrok2.js";/* empty css            */const P={class:"journey-page h-full overflow-hidden bg-background"},K={class:"flex h-full flex-col"},U={class:"flex-1 flex items-center overflow-hidden"},X={class:"inline-flex items-start gap-3 py-4 sm:gap-4"},q=["data-year","onMouseenter"],G={class:"mb-2 text-xs font-medium text-muted-foreground"},Q={class:"absolute inset-0 bg-muted"},Z=["src","alt"],ee={key:1,class:"h-full w-full bg-gradient-to-br from-primary/30 to-primary/5"},te={class:"absolute inset-x-0 bottom-0 p-3 sm:p-4"},oe={class:"text-sm font-bold text-white line-clamp-2 sm:text-base"},se={key:0,class:"absolute right-2 top-2 z-10"},re={class:"flex-shrink-0 border-t border-border bg-background/95 backdrop-blur-sm"},ne={class:"px-4 py-2 sm:px-6 sm:py-3"},le={class:"mb-2 h-1 overflow-hidden rounded-full bg-muted"},ie={class:"flex items-center justify-center gap-2 overflow-x-auto hide-scrollbar"},ae=["onClick"],de={key:2,class:"absolute inset-0 flex items-center justify-center"},ue={__name:"IndexJourney",props:{entries:{type:Array,default:()=>[]},entriesByYear:{type:Object,default:()=>({})}},setup(d){const b=d,l=u(null),c=u({}),g=u(""),k=u(0),x=u(null),y=$(()=>"w-[240px] sm:w-[220px] lg:w-[260px]"),p=$(()=>Object.keys(b.entriesByYear||{}).sort((o,e)=>Number(e)-Number(o)));N(()=>{p.value.length>0&&(g.value=p.value[0]),T(()=>{l.value&&(l.value.scrollLeft=0)}),window.addEventListener("keydown",_)}),S(()=>{window.removeEventListener("keydown",_)});const _=o=>{o.key==="ArrowLeft"&&f(-1),o.key==="ArrowRight"&&f(1)},f=o=>{if(!l.value)return;const e=window.innerWidth<640?256:window.innerWidth<1024?236:276;l.value.scrollBy({left:o*e,behavior:"smooth"})},I=o=>{const e=b.entries.findIndex(s=>w(s.entry_date)===o);e!==-1&&c.value[e]&&c.value[e].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},R=()=>{if(!l.value)return;const{scrollLeft:o,scrollWidth:e,clientWidth:s}=l.value;k.value=e>s?o/(e-s)*100:0;const i=l.value.getBoundingClientRect(),a=i.left+i.width/2;for(const[D,j]of Object.entries(c.value))if(j){const C=j.getBoundingClientRect();if(C.left<=a&&C.right>=a){const B=b.entries[D];B&&(g.value=w(B.entry_date));break}}},w=o=>o?new Date(o).getFullYear().toString():"",W=o=>o?new Date(o).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}):"",Y=(o,e)=>o?o.length>e?o.substring(0,e)+"...":o:"";return(o,e)=>(r(),V(H,null,{screen:z(()=>[t("div",P,[t("div",K,[t("div",U,[t("div",{ref_key:"scrollContainer",ref:l,class:"w-full overflow-x-auto overflow-y-hidden hide-scrollbar px-4 sm:px-6",onScroll:R},[t("div",X,[(r(!0),n(L,null,M(d.entries,(s,i)=>(r(),n("div",{key:s.id,ref_for:!0,ref:a=>c.value[i]=a,"data-year":w(s.entry_date),class:"card-item flex-shrink-0 flex flex-col",onMouseenter:a=>x.value=i,onMouseleave:e[0]||(e[0]=a=>x.value=null)},[t("div",G,v(W(s.entry_date)),1),A(E(F),{href:`/journey/${s.id}`,class:h(["group relative block overflow-hidden rounded-xl card-height",y.value])},{default:z(()=>[t("div",Q,[s.image?(r(),n("img",{key:0,src:`/storage/${s.image}`,alt:s.title,class:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,Z)):(r(),n("div",ee))]),e[4]||(e[4]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"},null,-1)),t("div",te,[t("h3",oe,v(s.title),1)]),s.status==="draft"?(r(),n("div",se,[...e[3]||(e[3]=[t("span",{class:"rounded-full bg-yellow-500/90 px-2 py-0.5 text-xs font-semibold text-yellow-950"}," Taslak ",-1)])])):m("",!0),e[5]||(e[5]=t("div",{class:"absolute inset-0 rounded-xl border-2 border-white/0 transition-colors group-hover:border-primary/50"},null,-1))]),_:2},1032,["href","class"]),t("div",{class:h(["mt-2 h-5 overflow-hidden",y.value])},[t("p",{class:h(["text-xs text-muted-foreground transition-all duration-300",x.value===i?"opacity-100 translate-y-0":"opacity-0 translate-y-2"])},v(Y(s.description,50)),3)],2)],40,q))),128)),e[6]||(e[6]=t("div",{class:"w-4 flex-shrink-0 sm:w-6"},null,-1))])],544)]),t("div",re,[t("div",ne,[t("div",le,[t("div",{class:"h-full rounded-full bg-primary transition-all duration-300",style:O({width:`${k.value}%`})},null,4)]),t("div",ie,[(r(!0),n(L,null,M(p.value,s=>(r(),n("button",{key:s,onClick:i=>I(s),class:h(["flex-shrink-0 rounded-full px-3 py-1 text-xs font-semibold transition-all",g.value===s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"])},v(s),11,ae))),128))])])])]),d.entries.length>0?(r(),n("button",{key:0,onClick:e[1]||(e[1]=s=>f(-1)),class:"absolute left-2 top-1/2 z-20 -translate-y-1/2 flex h-9 w-9 items-center justify-center rounded-full bg-background/80 text-foreground shadow-lg backdrop-blur-sm transition-all hover:bg-background hover:scale-110 sm:left-4 sm:h-10 sm:w-10"},[...e[7]||(e[7]=[t("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])])):m("",!0),d.entries.length>0?(r(),n("button",{key:1,onClick:e[2]||(e[2]=s=>f(1)),class:"absolute right-2 top-1/2 z-20 -translate-y-1/2 flex h-9 w-9 items-center justify-center rounded-full bg-background/80 text-foreground shadow-lg backdrop-blur-sm transition-all hover:bg-background hover:scale-110 sm:right-4 sm:h-10 sm:w-10"},[...e[8]||(e[8]=[t("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])):m("",!0),d.entries.length===0?(r(),n("div",de,[...e[9]||(e[9]=[t("div",{class:"text-center"},[t("div",{class:"mx-auto mb-4 h-16 w-16 rounded-full bg-muted flex items-center justify-center"},[t("svg",{class:"h-8 w-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),t("p",{class:"text-muted-foreground"},"Henüz kayıt yok")],-1)])])):m("",!0)])]),_:1}))}},ge=J(ue,[["__scopeId","data-v-6461b4ef"]]);export{ge as default};
