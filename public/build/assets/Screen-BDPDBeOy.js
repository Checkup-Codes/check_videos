import{Q as K,r as c,p as I,s as P,m as U,z as O,j as q,o as t,w as L,a as e,c as a,h as d,t as r,u as w,e as S,i as H,k as J,v as X,n as j,f as _,F as E,g as N,R as Z,S as ee,N as V}from"./ssr-gV9a7aM2.js";import{_ as se}from"./CheckScreen-CTH8V3E4.js";import{_ as te}from"./app-Bybg_Yhi.js";const l=x=>(Z("data-v-fc5084e8"),x=x(),ee(),x),oe={class:"p-6 sm:p-8 lg:p-10"},ne={class:"mb-8 sm:mb-10"},ae={key:0,class:"skeleton-wrapper"},le=l(()=>e("div",{class:"skeleton h-8 w-3/4 rounded-xl sm:h-10"},null,-1)),ie=l(()=>e("div",{class:"mt-3"},[e("div",{class:"skeleton h-4 w-32 rounded-lg"})],-1)),re=[le,ie],de={key:1,class:"flex items-start gap-4 sm:gap-6"},ce={class:"min-w-0 flex-1"},ue={class:"break-words text-xl font-bold leading-tight text-base-content sm:text-2xl lg:text-3xl"},me={class:"mt-3 flex flex-wrap items-center gap-2 sm:mt-4 sm:gap-3"},he={key:0,class:"badge badge-outline badge-sm sm:badge-md"},ve={class:"text-base-content/60 text-sm font-medium sm:text-base"},we=l(()=>e("div",{class:"from-primary/20 to-primary/10 flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-gradient-to-br text-primary shadow-lg sm:h-14 sm:w-14 lg:h-16 lg:w-16"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),pe={key:0,class:"mb-8 flex flex-wrap justify-end gap-2 sm:mb-10 sm:gap-3"},_e=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-2 h-4 w-4 sm:h-5 sm:w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),ge=l(()=>e("span",{class:"hidden sm:inline"},"Düzenle",-1)),ke=l(()=>e("span",{class:"sm:hidden"},"Düzenle",-1)),be=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-2 h-4 w-4 sm:h-5 sm:w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),xe=l(()=>e("span",{class:"hidden sm:inline"},"Sil",-1)),fe=l(()=>e("span",{class:"sm:hidden"},"Sil",-1)),ye=[be,xe,fe],ze={key:1,class:"mb-8 sm:mb-10"},Me={class:"flex flex-col gap-4 sm:gap-6"},Ce={class:"w-full"},Le={class:"relative"},je=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"text-base-content/50 absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)),Be={class:"flex flex-wrap items-center gap-2 sm:gap-3"},Se={class:"mt-4 flex flex-col gap-3 sm:mt-6 sm:flex-row sm:items-center sm:justify-between sm:gap-4"},He={class:"text-base-content/70 text-sm font-medium sm:text-base"},Ve={key:0,class:"text-base-content/50"},Te=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-2 h-4 w-4 sm:h-5 sm:w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),De={key:2,class:"space-y-4 sm:space-y-6"},Ae=l(()=>e("div",{class:"card-body p-4 sm:p-6"},[e("div",{class:"flex items-start gap-4 sm:gap-6"},[e("div",{class:"skeleton h-12 w-12 rounded-xl sm:h-14 sm:w-14"}),e("div",{class:"flex-1 space-y-3"},[e("div",{class:"skeleton h-5 w-3/4 rounded-lg sm:h-6"}),e("div",{class:"skeleton h-4 w-full rounded-lg sm:h-5"}),e("div",{class:"skeleton h-4 w-2/3 rounded-lg sm:h-5"})]),e("div",{class:"skeleton h-8 w-20 rounded-lg sm:h-10 sm:w-24"})])],-1)),$e=[Ae],Fe={key:3},Ie={class:"space-y-4 sm:space-y-6"},Ee={class:"card-body p-4 sm:p-6"},Ne={class:"flex items-start gap-4 sm:gap-6"},Ye={class:"from-primary/20 to-primary/10 flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br text-primary shadow-md sm:h-14 sm:w-14"},Qe={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 sm:h-7 sm:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Re=l(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)),We=[Re],Ge={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 sm:h-7 sm:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ke=l(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"},null,-1)),Pe=[Ke],Ue={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 sm:h-7 sm:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Oe=l(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)),qe=[Oe],Je={class:"min-w-0 flex-1"},Xe={class:"mb-2 line-clamp-2 break-words text-lg font-semibold text-base-content sm:mb-3 sm:text-xl"},Ze={key:0,class:"text-base-content/70 mb-3 line-clamp-2 text-sm leading-relaxed sm:mb-4 sm:text-base"},es={class:"text-base-content/60 flex flex-wrap items-center gap-3 text-sm sm:gap-4"},ss={class:"bg-base-200/50 flex items-center gap-1.5 rounded-lg px-2 py-1"},ts=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),os={class:"bg-base-200/50 flex items-center gap-1.5 rounded-lg px-2 py-1"},ns=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),as={class:"hidden sm:inline"},ls={class:"sm:hidden"},is={key:0,class:"bg-base-200/50 flex items-center gap-1.5 rounded-lg px-2 py-1"},rs=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),ds={class:"hidden sm:inline"},cs={class:"sm:hidden"},us={key:0,class:"flex shrink-0 flex-col items-center gap-2"},ms={class:"dropdown dropdown-end"},hs=l(()=>e("button",{class:"btn btn-ghost btn-sm shadow-md transition-all duration-200 sm:btn-md"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4 sm:h-5 sm:w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])],-1)),vs={class:"dropdown-content menu z-[1] w-48 rounded-xl border border-base-200 bg-base-100 p-2 shadow-xl sm:w-56"},ws=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4 sm:h-5 sm:w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),ps=["onClick"],_s=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4 sm:h-5 sm:w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),gs={key:0,class:"flex justify-center py-6"},ks={key:0,class:"flex items-center gap-3"},bs=l(()=>e("div",{class:"loading loading-spinner loading-md"},null,-1)),xs=l(()=>e("span",{class:"text-base-content/70"},"Daha fazla yazı yükleniyor...",-1)),fs=[bs,xs],ys=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-2 h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})],-1)),zs={key:0,class:"alert alert-info shadow-lg"},Ms=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-5 w-5 shrink-0 stroke-current sm:h-6 sm:w-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Cs={class:"text-sm sm:text-base"},Ls={key:0},js={key:1},Bs={key:1,class:"text-base-content/60 py-6 text-center"},Ss=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"mx-auto mb-2 h-8 w-8 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Hs=l(()=>e("p",{class:"text-sm sm:text-base"},"Tüm yazılar yüklendi",-1)),Vs=[Ss,Hs],Y=10,Ts=Object.assign({name:"ShowCategoryScreen"},{__name:"Screen",setup(x){var F;const{props:f}=K(),h=c(f.category||{}),y=c(f.writes||[]),z=f.auth,T=c((F=f.flash)==null?void 0:F.success),g=c(!0),M=c(""),u=c(""),i=c("all"),p=c(1),k=c(!1),v=c(!0);let C=null;const Q=()=>{clearTimeout(C),C=setTimeout(()=>{u.value=M.value,p.value=1,v.value=!0},300)},b=I(()=>{let o=y.value||[];return u.value&&(o=o.filter(s=>s.title.toLowerCase().includes(u.value.toLowerCase()))),i.value!=="all"&&(o=o.filter(s=>s.status===i.value)),o}),B=I(()=>b.value.slice(0,p.value*Y)),D=async()=>{if(k.value||!v.value)return;k.value=!0,await new Promise(m=>setTimeout(m,500)),p.value++;const o=b.value.length;p.value*Y>=o&&(v.value=!1),k.value=!1};P([u,i],()=>{p.value=1,v.value=!0});const R=()=>{M.value="",u.value="",i.value="all",p.value=1,v.value=!0},A=o=>o?new Date(o).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"}):"",$=o=>o?new Date(o).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric"}):"",W=o=>{confirm(`"${o.title}" yazısını silmek istediğinizden emin misiniz?`)&&V.delete(route("writes.destroy",o.id),{preserveScroll:!0,onSuccess:()=>{const s=(y.value||[]).findIndex(m=>m.id===o.id);s>-1&&y.value.splice(s,1)},onError:s=>{console.error("Yazı silinirken hata oluştu:",s),alert("Yazı silinirken bir hata oluştu.")}})},G=o=>{confirm(`"${h.value.name}" kategorisini silmek istediğinizden emin misiniz?`)&&V.delete(route("categories.destroy",o),{onSuccess:()=>{V.visit(route("categories.index"))},onError:s=>{console.error("Kategori silinirken hata oluştu:",s),alert("Kategori silinirken bir hata oluştu.")}})};return U(()=>{setTimeout(()=>{g.value=!1},300);const o=()=>{const s=window.scrollY,m=window.innerHeight,n=document.documentElement.scrollHeight;s+m>=n-100&&D()};window.addEventListener("scroll",o),T.value&&setTimeout(()=>{T.value=null},3e3),O(()=>{window.removeEventListener("scroll",o),C&&clearTimeout(C)})}),(o,s)=>(t(),q(se,null,{default:L(()=>{var m;return[e("div",oe,[e("div",ne,[g.value?(t(),a("div",ae,re)):(t(),a("div",de,[e("div",ce,[e("h1",ue,r(h.value.name),1),e("div",me,[h.value.description?(t(),a("span",he,r(h.value.description),1)):d("",!0),e("span",ve,r(((m=b.value)==null?void 0:m.length)||0)+" yazı ",1)])]),we]))]),w(z).user&&!g.value?(t(),a("div",pe,[S(w(H),{href:o.route("categories.edit",h.value.id),class:"btn btn-outline btn-sm shadow-md transition-all duration-200 sm:btn-md"},{default:L(()=>[_e,ge,ke]),_:1},8,["href"]),e("button",{onClick:s[0]||(s[0]=n=>G(h.value.id)),class:"btn btn-error btn-outline btn-sm shadow-md transition-all duration-200 sm:btn-md"},ye)])):d("",!0),g.value?d("",!0):(t(),a("div",ze,[e("div",Me,[e("div",Ce,[e("div",Le,[J(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>M.value=n),type:"text",class:"input-bordered input w-full pl-12 text-sm shadow-md transition-all duration-200 sm:pl-14 sm:text-base",placeholder:"Yazı başlığı ara...",onInput:Q},null,544),[[X,M.value]]),je])]),e("div",Be,[e("button",{onClick:s[2]||(s[2]=n=>i.value="all"),class:j(["btn btn-sm shadow-md transition-all duration-200 sm:btn-md",i.value==="all"?"btn-primary":"btn-outline"])}," Tümü ",2),e("button",{onClick:s[3]||(s[3]=n=>i.value="published"),class:j(["btn btn-sm shadow-md transition-all duration-200 sm:btn-md",i.value==="published"?"btn-primary":"btn-outline"])}," Yayında ",2),w(z).user?(t(),a("button",{key:0,onClick:s[4]||(s[4]=n=>i.value="private"),class:j(["btn btn-sm shadow-md transition-all duration-200 sm:btn-md",i.value==="private"?"btn-primary":"btn-outline"])}," Gizli ",2)):d("",!0),w(z).user?(t(),a("button",{key:1,onClick:s[5]||(s[5]=n=>i.value="link_only"),class:j(["btn btn-sm shadow-md transition-all duration-200 sm:btn-md",i.value==="link_only"?"btn-primary":"btn-outline"])}," Sadece Link ",2)):d("",!0)])]),e("div",Se,[e("div",He,[_(r(B.value.length)+" / "+r(b.value.length||0)+" yazı gösteriliyor ",1),u.value||i.value!=="all"?(t(),a("span",Ve," ("+r(y.value.length||0)+" toplam yazıdan) ",1)):d("",!0)]),u.value||i.value!=="all"?(t(),a("button",{key:0,onClick:R,class:"btn btn-ghost btn-sm self-start shadow-md transition-all duration-200 sm:btn-md sm:self-auto"},[Te,_(" Filtreleri Temizle ")])):d("",!0)])])),g.value?(t(),a("div",De,[(t(),a(E,null,N(3,n=>e("div",{key:n,class:"card border border-base-200 bg-base-100 shadow-lg"},$e)),64))])):(t(),a("div",Fe,[e("div",Ie,[(t(!0),a(E,null,N(B.value,n=>(t(),a("div",{key:n.id,class:"card border border-base-200 bg-base-100 shadow-lg"},[e("div",Ee,[e("div",Ne,[e("div",Ye,[n.status==="private"?(t(),a("svg",Qe,We)):n.status==="link_only"?(t(),a("svg",Ge,Pe)):(t(),a("svg",Ue,qe))]),e("div",Je,[S(w(H),{href:o.route("categories.showByCategory",{category:h.value.slug,slug:n.slug}),class:"block"},{default:L(()=>[e("h3",Xe,r(n.title),1)]),_:2},1032,["href"]),n.summary?(t(),a("p",Ze,r(n.summary),1)):d("",!0),e("div",es,[e("span",ss,[ts,_(" "+r(n.views_count),1)]),e("span",os,[ns,e("span",as,r(A(n.created_at)),1),e("span",ls,r($(n.created_at)),1)]),n.updated_at!==n.created_at?(t(),a("span",is,[rs,e("span",ds,"Son güncelleme: "+r(A(n.updated_at)),1),e("span",cs,"Güncelleme: "+r($(n.updated_at)),1)])):d("",!0)])]),w(z).user?(t(),a("div",us,[e("div",ms,[hs,e("ul",vs,[e("li",null,[S(w(H),{href:o.route("writes.edit",n.slug),class:"flex items-center gap-3 rounded-lg text-sm transition-colors duration-200 hover:bg-base-200 sm:text-base"},{default:L(()=>[ws,_(" Düzenle ")]),_:2},1032,["href"])]),e("li",null,[e("button",{onClick:Ds=>W(n),class:"hover:bg-error/10 flex items-center gap-3 rounded-lg text-sm text-error transition-colors duration-200 sm:text-base"},[_s,_(" Sil ")],8,ps)])])])])):d("",!0)])])]))),128)),v.value||k.value?(t(),a("div",gs,[k.value?(t(),a("div",ks,fs)):(t(),a("button",{key:1,onClick:D,class:"btn btn-outline btn-md shadow-md transition-all duration-200"},[ys,_(" Daha Fazla Yükle ")]))])):d("",!0)]),b.value.length===0?(t(),a("div",zs,[Ms,e("div",Cs,[u.value||i.value!=="all"?(t(),a("span",Ls," Arama kriterlerinize uygun yazı bulunamadı. ")):(t(),a("span",js," Bu kategoride henüz yazı bulunmuyor. "))])])):!v.value&&B.value.length>0?(t(),a("div",Bs,Vs)):d("",!0)]))])]}),_:1}))}}),Is=te(Ts,[["__scopeId","data-v-fc5084e8"]]);export{Is as default};
