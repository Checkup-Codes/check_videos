import{_ as y,Q as A,l as z,L as E,g as l,o as a,b as e,F as m,m as g,j as H,h as c,a as p,w,t as u,n as h,u as x,k,y as L,J as M,K as $}from"./app-B_HoVpoV.js";/* empty css            */const _=o=>(M("data-v-140d3f7d"),o=o(),$(),o),j={class:"min-h-full"},T={class:"menu bg-base-100 rounded-box w-full"},F={class:"flex w-full items-center"},N={key:0,class:"text-neutral-content mr-1"},q=_(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),D=[q],I={class:"text-base"},J={class:"flex items-center"},K=["onClick"],O=_(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),Q=[O],W={class:"badge badge-sm badge-neutral"},G={key:0,class:"menu-sm pl-4"},P={class:"flex w-full items-center"},R={key:0,class:"text-neutral-content mr-1"},U=_(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),X=[U],Y={class:"text-sm"},Z={class:"flex items-center"},ee=["onClick"],se=_(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),te=[se],ne={class:"badge badge-sm badge-neutral"},le={key:0,class:"menu-xs pl-3"},ae={class:"flex w-full items-center"},oe={key:0,class:"text-neutral-content mr-1"},re=_(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),ie=[re],de={class:"text-xs"},ce={class:"badge badge-sm badge-neutral"},ue=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{parentCategories:{type:Array,required:!0},getLinkClasses:{type:Function,required:!0},expandAll:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(o,{expose:S,emit:he}){const C=o,{url:_e}=A(),b=z(null),r=z(new Set),f=t=>{let i=t.writes_count||0;return t.children&&t.children.length&&t.children.forEach(s=>{i+=f(s)}),i},B=(t=!0)=>{r.value.clear(),t||C.parentCategories.forEach(i=>{r.value.add(i.id),i.children&&i.children.length&&i.children.forEach(s=>{r.value.add(s.id),s.children&&s.children.length&&s.children.forEach(n=>{r.value.add(n.id)})})})},V=t=>{r.value.has(t)?r.value.delete(t):r.value.add(t)},v=t=>r.value.has(t);return E(()=>C.expandAll,t=>{B(t)},{immediate:!0}),S({expandAllCategories:B,scrollContainer:b}),(t,i)=>(a(),l("div",{ref_key:"scrollContainer",ref:b,class:"w-full overflow-y-auto"},[e("div",j,[e("ul",T,[(a(!0),l(m,null,g(o.parentCategories,s=>(a(),l("li",{key:s.id,class:"mb-1"},[e("div",F,[p(x(k),{href:t.route("categories.show",{category:s.slug}),class:h([o.getLinkClasses(`/categories/${s.slug}`),"flex flex-grow items-center font-medium"])},{default:w(()=>[s.status==="hidden"?(a(),l("span",N,D)):c("",!0),e("span",I,u(s.name),1)]),_:2},1032,["href","class"]),e("div",J,[s.children.length?(a(),l("button",{key:0,onClick:n=>V(s.id),class:"btn btn-ghost btn-xs mr-1 px-1"},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:h(["h-4 w-4 transition-transform",{"rotate-180":!v(s.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Q,2))],8,K)):c("",!0),e("div",W,u(f(s)),1)])]),s.children.length?H((a(),l("ul",G,[(a(!0),l(m,null,g(s.children,n=>(a(),l("li",{key:n.id,class:"mt-1"},[e("div",P,[p(x(k),{href:t.route("categories.show",{category:n.slug}),class:h([o.getLinkClasses(`/categories/${n.slug}`),"flex flex-grow items-center"])},{default:w(()=>[n.status==="hidden"||n.parent_hidden?(a(),l("span",R,X)):c("",!0),e("span",Y,u(n.name),1)]),_:2},1032,["href","class"]),e("div",Z,[n.children.length?(a(),l("button",{key:0,onClick:d=>V(n.id),class:"btn btn-ghost btn-xs mr-1 px-1"},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:h(["h-3 w-3 transition-transform",{"rotate-180":!v(n.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},te,2))],8,ee)):c("",!0),e("div",ne,u(f(n)),1)])]),n.children.length?H((a(),l("ul",le,[(a(!0),l(m,null,g(n.children,d=>(a(),l("li",{key:d.id,class:"mt-1"},[e("div",ae,[p(x(k),{href:t.route("categories.show",{category:d.slug}),class:h([o.getLinkClasses(`/categories/${d.slug}`),"flex flex-grow items-center"])},{default:w(()=>[d.status==="hidden"||d.parent_hidden?(a(),l("span",oe,ie)):c("",!0),e("span",de,u(d.name),1)]),_:2},1032,["href","class"]),e("div",ce,u(f(d)),1)])]))),128))],512)),[[L,!v(n.id)]]):c("",!0)]))),128))],512)),[[L,!v(s.id)]]):c("",!0)]))),128))])])],512))}}),me=y(ue,[["__scopeId","data-v-140d3f7d"]]);export{me as default};
