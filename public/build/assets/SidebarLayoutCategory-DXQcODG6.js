import{_ as x}from"./CheckSubsidebar-CCT9QSNs.js";import{_ as L}from"./SubSidebarScreen-CLX4u-4j.js";import T from"./CategoryTree-CStzb8SB.js";import{_ as w}from"./TopSubsidebar-DDHq-9NR.js";import{u as A}from"./useSidebar-DZIlChIS.js";import{I as k,J as I,p,r as l,s as N,m as u,j as g,o as f,w as m,e as _,h as R}from"./ssr-C9XDUnK-.js";import{_ as $}from"./app-DfyP6Zkg.js";/* empty css            */const W=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(j,{emit:C}){A();const r=k(),n=I("categories",[]);p(()=>n.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0));const i=p(()=>r.getters["CategorySidebar/collapsedSet"].size===0),h=()=>"",S=l(!0),v=l(null),s=l(r.getters["Writes/isCollapsed"]),a=l(null),y=C,b=e=>{s.value=e,r.commit("Writes/SET_COLLAPSED",e)};N(s,e=>{y("update:isNarrow",e)}),u(()=>{s.value=r.getters["Writes/isCollapsed"]});const c=e=>{const t=e.target.scrollTop;localStorage.setItem("categorySidebarScroll",t)},d=e=>{let t=[];return e.forEach(o=>{t.push(o.id),o.children&&o.children.length>0&&(t=t.concat(d(o.children)))}),t},E=()=>{if(i.value){const e=d(n);r.dispatch("CategorySidebar/collapseAll",e)}else r.dispatch("CategorySidebar/expandAll")};return u(()=>{if(a.value&&(a.value.addEventListener&&a.value.addEventListener("scroll",c),a.value.$el)){a.value.$el.addEventListener("scroll",c);const e=localStorage.getItem("categorySidebarScroll");e&&(a.value.$el.scrollTop=parseInt(e,10))}}),(e,t)=>(f(),g(x,{isNarrow:s.value},{default:m(()=>[_(w,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:i.value,onToggleExpand:E,onToggleWidth:b,class:"border-base-200"},null,8,["isExpanded"]),_(L,{ref_key:"scrollableRef",ref:a},{default:m(()=>[S.value?(f(),g(T,{key:0,ref_key:"categoryTreeRef",ref:v,getLinkClasses:h,expandAll:i.value,isCollapsed:s.value},null,8,["expandAll","isCollapsed"])):R("",!0)]),_:1},512)]),_:1},8,["isNarrow"]))}}),M=$(W,[["__scopeId","data-v-3d09cf31"]]);export{M as default};
