import{Q as T,l,y as D,c as F,w as i,o as r,a as c,b as g,j as R,B as j,g as o,m as f,e as p,t as h,n as _,u as v,k as y,F as k,h as w}from"./app-CHEKAHVn.js";import{a as z,_ as A,b as G}from"./TopSubsidebar-BRBq0e7r.js";/* empty css            */import"./Button-B9iMskRE.js";const K={class:"h-[calc(100vh-7rem)] overflow-y-auto overscroll-contain lg:h-[calc(100vh-5rem)]",ref:"scrollContainer"},M={class:"p-4"},O={key:0,class:"border-l border-gray-300 pl-4"},Q={key:0,class:"border-l border-gray-300 pl-4"},U={__name:"SidebarLayoutCategory",emits:["update:isCollapsed"],setup(q,{emit:x}){const{props:C,url:E}=T(),u=l(C.categories||[]),$=l(C.writes||[]),b=l([]),B=l(!0),d=l(!0),L=x,N=()=>{d.value=!d.value,L("update:isCollapsed",d.value)},m=e=>E===e?"text-gray-900 font-semibold":"text-gray-700",S=()=>{const e={};$.value.forEach(t=>{t.category_id&&(e[t.category_id]=(e[t.category_id]||0)+1)}),u.value.forEach(t=>{t.writeCount=e[t.id]||0})},V=()=>{const e={},t=[];u.value.forEach(s=>{e[s.id]={...s,children:[]}}),u.value.forEach(s=>{var a;s.parent_id?(a=e[s.parent_id])==null||a.children.push(e[s.id]):t.push(e[s.id])}),b.value=t};return D(()=>{S(),V()}),(e,t)=>(r(),F(z,null,{default:i(()=>[c(A,{isCollapsed:!1,toggle:N}),c(G,{title:"KATEGORÄ°LER",href:"/categories/create"}),g("div",K,[R(g("div",M,[g("ul",null,[(r(!0),o(k,null,f(b.value,s=>(r(),o("li",{key:s.id,class:"mb-2"},[c(v(y),{href:e.route("categories.show",{category:s.slug}),class:_([m(`/categories/${s.slug}`),"block py-2 text-base font-medium text-gray-700"])},{default:i(()=>[p(h(s.name),1)]),_:2},1032,["href","class"]),s.children.length?(r(),o("ul",O,[(r(!0),o(k,null,f(s.children,a=>(r(),o("li",{key:a.id,class:"mt-1"},[c(v(y),{href:e.route("categories.show",{category:a.slug}),class:_([m(`/categories/${a.slug}`),"block py-1 text-sm text-gray-600"])},{default:i(()=>[p(h(a.name),1)]),_:2},1032,["href","class"]),a.children.length?(r(),o("ul",Q,[(r(!0),o(k,null,f(a.children,n=>(r(),o("li",{key:n.id,class:"mt-1"},[c(v(y),{href:e.route("categories.show",{category:n.slug}),class:_([m(`/categories/${n.slug}`),"block py-1 text-xs text-gray-500"])},{default:i(()=>[p(h(n.name),1)]),_:2},1032,["href","class"])]))),128))])):w("",!0)]))),128))])):w("",!0)]))),128))])],512),[[j,B.value]])],512)]),_:1}))}};export{U as default};
