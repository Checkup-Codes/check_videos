import{Q as E,r as m,T as $,x as z,C,g as i,o as n,b as e,p as F,e as M,h as d,n as _,u as s,t as c,j as f,q as w,a as N,F as S,m as V,v as U,N as K}from"./app-CJEG1hw9.js";import A from"./RichTextEditor-BR3Jqljj.js";/* empty css            */import"./quill.snow-DNiz7-up.js";const G={class:"card"},H={class:"card-body p-6"},W=F('<div class="card-title flex items-center justify-between"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><h2 class="text-gray-800 dark:text-white">Yeni Yazı Oluştur</h2></div></div>',1),q={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Q={class:"md:col-span-2"},R={class:"form-control w-full"},J=e("label",{class:"label"},[e("span",{class:"label-text"},"Başlık")],-1),P={class:"relative"},X=["value"],Z={key:0,class:"label"},ee={class:"label-text-alt text-error"},te={class:"form-control w-full"},se=e("label",{class:"label"},[e("span",{class:"label-text"},"Slug")],-1),le={class:"relative"},ae=["value"],oe={key:0,class:"label"},re={class:"label-text-alt text-error"},ie={class:"form-control w-full"},ne=e("label",{class:"label"},[e("span",{class:"label-text"},"Yayınlama Tarihi")],-1),ue={class:"flex space-x-2"},de={key:0,class:"label"},ce={class:"label-text-alt text-error"},_e={class:"md:col-span-2"},ve={class:"form-control w-full"},pe=e("label",{class:"label"},[e("span",{class:"label-text"},"Özet")],-1),be={class:"relative"},me=["value"],he={key:0,class:"label"},ge={class:"label-text-alt text-error"},ye={class:"md:col-span-2"},xe=e("label",{class:"label"},[e("span",{class:"label-text"},"Durumu")],-1),fe={class:"dropdown w-full"},we={class:"relative"},ke={key:0,tabindex:"0",class:"dropdown-content menu z-[1] max-h-60 w-full overflow-y-auto rounded-box bg-base-100 p-2 shadow"},ze=["onClick"],Ce={key:0,class:"label"},Se={class:"label-text-alt text-error"},Ve=e("label",{class:"label"},[e("span",{class:"label-text"},"Kategori")],-1),Ie={class:"dropdown w-full"},Te={class:"relative"},je={key:0,tabindex:"0",class:"dropdown-content menu z-[1] max-h-60 w-full overflow-y-auto rounded-box bg-base-100 p-2 shadow"},De=["onClick"],Oe={key:0,class:"label"},Be={class:"label-text-alt text-error"},Le={class:"form-control w-full"},Ye=e("label",{class:"label"},[e("span",{class:"label-text"},"Etiketler")],-1),Ee={class:"relative"},$e=["value"],Fe={key:0,class:"label"},Me={class:"label-text-alt text-error"},Ne={class:"form-control w-full"},Ue=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Anahtar Kelimeleri")],-1),Ke={class:"relative"},Ae=["value"],Ge={key:0,class:"label"},He={class:"label-text-alt text-error"},We={class:"form-control w-full"},qe=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Meta Açıklaması")],-1),Qe={class:"relative"},Re=["value"],Je={class:"mt-1 text-xs text-gray-500"},Pe={key:0,class:"label"},Xe={class:"label-text-alt text-error"},Ze=e("div",{class:"mt-1 text-xs text-gray-500"},[e("span",null,"İpucu: Bu açıklama arama sonuçlarında gösterilir. Boş bırakırsanız, özet kısmı kullanılacaktır.")],-1),et={class:"form-control w-full"},tt=e("label",{class:"label"},[e("span",{class:"label-text"},"Görüntülenme Sayısı")],-1),st={class:"relative"},lt=["value"],at={class:"flex items-center space-x-2"},ot={class:"label cursor-pointer justify-start gap-2"},rt=e("span",{class:"label-text"},"Çizim İçerir",-1),it=e("div",{class:"divider"},null,-1),nt={class:"flex justify-end space-x-3"},ut=["disabled"],bt=Object.assign({name:"WriteCreateForm"},{__name:"WriteCreateForm",setup(dt){const{props:h}=E();m(h.categories);const t=$({title:"",slug:"",content:"",published_at:"",summary:"",status:"draft",category_id:"",seo_keywords:"",meta_description:"",tags:"",views_count:0,hasDraw:!1}),l=m({title:"",slug:"",content:"",published_at:"",summary:"",status:"",category_id:"",seo_keywords:"",meta_description:"",tags:""}),u=m({date:"",time:""}),g=[{value:"draft",label:"Şablon"},{value:"published",label:"Yayında"},{value:"private",label:"Gizli"},{value:"link_only",label:"Sadece Link"}],p=m(""),b=m(""),y=m(g),x=m(h.categories),I=()=>{const r=p.value.toLowerCase();y.value=g.filter(a=>a.label.toLowerCase().includes(r))},T=()=>{const r=b.value.toLowerCase();x.value=h.categories.filter(a=>a.name.toLowerCase().includes(r))},j=r=>{t.status=r.value,p.value=r.label,y.value=g},D=r=>{t.category_id=r.id,b.value=r.name,x.value=h.categories},O=()=>{p.value="",t.status="",y.value=g},B=()=>{b.value="",t.category_id="",x.value=h.categories};z(()=>{const r=g.find(a=>a.value===t.status);if(r&&(p.value=r.label),t.category_id){const a=h.categories.find(v=>v.id===t.category_id);a&&(b.value=a.name)}}),z(()=>{const r=new Date;u.value.date=r.toISOString().split("T")[0],u.value.time=r.toTimeString().slice(0,5)}),C(u.value,()=>{u.value.date&&u.value.time&&(t.published_at=`${u.value.date}T${u.value.time}:00`)},{deep:!0});const L=()=>{l.value.title=t.title?"":"Başlık zorunludur.",l.value.slug=t.slug?"":"Slug zorunludur.",l.value.content=t.content?"":"İçerik zorunludur.",l.value.published_at=u.value.date&&u.value.time?"":"Yayınlama tarihi zorunludur.",l.value.summary=t.summary?"":"Özet zorunludur.",l.value.category_id=t.category_id?"":"Kategori seçilmelidir.",l.value.published_at||(t.published_at=`${u.value.date}T${u.value.time}:00`)},Y=()=>{L(),Object.values(l.value).some(r=>r!=="")||t.post(route("writes.store"),{onSuccess:()=>{K.visit(route("dashboard"))}})};return C(()=>t.title,r=>{const a={ı:"i",İ:"i",ğ:"g",Ğ:"g",ü:"u",Ü:"u",ş:"s",Ş:"s",ö:"o",Ö:"o",ç:"c",Ç:"c"};let v=r;Object.entries(a).forEach(([o,k])=>{v=v.replace(new RegExp(o,"g"),k)}),t.slug=v.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}),(r,a)=>{var v;return n(),i("div",G,[e("div",H,[W,e("form",{onSubmit:M(Y,["prevent"]),class:"space-y-6"},[e("div",q,[e("div",Q,[e("div",R,[J,e("div",P,[e("input",{type:"text",value:s(t).title,onInput:a[0]||(a[0]=o=>s(t).title=o.target.value),placeholder:"Yazının başlığını girin",class:_(["input-bordered input w-full",{"input-error":l.value.title||s(t).errors.title}])},null,42,X)]),l.value.title||s(t).errors.title?(n(),i("label",Z,[e("span",ee,c(l.value.title||s(t).errors.title),1)])):d("",!0)])]),e("div",null,[e("div",te,[se,e("div",le,[e("input",{type:"text",value:s(t).slug,onInput:a[1]||(a[1]=o=>s(t).slug=o.target.value),placeholder:"örnek-yazı-slug",class:_(["input-bordered input w-full",{"input-error":l.value.slug||s(t).errors.slug}])},null,42,ae)]),l.value.slug||s(t).errors.slug?(n(),i("label",oe,[e("span",re,c(l.value.slug||s(t).errors.slug),1)])):d("",!0)])]),e("div",null,[e("div",ie,[ne,e("div",ue,[f(e("input",{type:"date","onUpdate:modelValue":a[2]||(a[2]=o=>u.value.date=o),class:_(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[w,u.value.date]]),f(e("input",{type:"time","onUpdate:modelValue":a[3]||(a[3]=o=>u.value.time=o),class:_(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[w,u.value.time]])]),l.value.published_at||s(t).errors.published_at?(n(),i("label",de,[e("span",ce,c(l.value.published_at||s(t).errors.published_at),1)])):d("",!0)])]),e("div",_e,[e("div",ve,[pe,e("div",be,[e("textarea",{value:s(t).summary,onInput:a[4]||(a[4]=o=>s(t).summary=o.target.value),placeholder:"Yazının kısa özeti",rows:"3",class:_(["textarea-bordered textarea w-full",{"textarea-error":l.value.summary||s(t).errors.summary}])},null,42,me)]),l.value.summary||s(t).errors.summary?(n(),i("label",he,[e("span",ge,c(l.value.summary||s(t).errors.summary),1)])):d("",!0)])]),e("div",ye,[N(A,{modelValue:s(t).content,"onUpdate:modelValue":a[5]||(a[5]=o=>s(t).content=o),label:"İçerik",error:l.value.content||s(t).errors.content,placeholder:"İçeriği buraya yazın...",height:"400px"},null,8,["modelValue","error"])]),e("div",null,[xe,e("div",fe,[e("div",we,[f(e("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=o=>p.value=o),onInput:I,placeholder:"Durum seçin veya arayın...",class:_(["input-bordered input w-full pr-10",{"input-error":l.value.status||s(t).errors.status}]),tabindex:"0"},null,34),[[w,p.value]]),p.value?(n(),i("button",{key:0,onClick:O,class:"btn btn-ghost btn-xs btn-circle absolute right-2 top-1/2 -translate-y-1/2"}," ✕ ")):d("",!0)]),y.value.length>0?(n(),i("ul",ke,[(n(!0),i(S,null,V(y.value,o=>(n(),i("li",{key:o.value},[e("a",{onClick:k=>j(o)},c(o.label),9,ze)]))),128))])):d("",!0)]),l.value.status||s(t).errors.status?(n(),i("label",Ce,[e("span",Se,c(l.value.status||s(t).errors.status),1)])):d("",!0)]),e("div",null,[Ve,e("div",Ie,[e("div",Te,[f(e("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=o=>b.value=o),onInput:T,placeholder:"Kategori seçin veya arayın...",class:_(["input-bordered input w-full pr-10",{"input-error":l.value.category_id||s(t).errors.category_id}]),tabindex:"0"},null,34),[[w,b.value]]),b.value?(n(),i("button",{key:0,onClick:B,class:"btn btn-ghost btn-xs btn-circle absolute right-2 top-1/2 -translate-y-1/2"}," ✕ ")):d("",!0)]),x.value.length>0?(n(),i("ul",je,[(n(!0),i(S,null,V(x.value,o=>(n(),i("li",{key:o.id},[e("a",{onClick:k=>D(o)},c(o.name),9,De)]))),128))])):d("",!0)]),l.value.category_id||s(t).errors.category_id?(n(),i("label",Oe,[e("span",Be,c(l.value.category_id||s(t).errors.category_id),1)])):d("",!0)]),e("div",null,[e("div",Le,[Ye,e("div",Ee,[e("input",{type:"text",value:s(t).tags,onInput:a[8]||(a[8]=o=>s(t).tags=o.target.value),placeholder:"etiket1, etiket2, etiket3",class:_(["input-bordered input w-full",{"input-error":l.value.tags||s(t).errors.tags}])},null,42,$e)]),l.value.tags||s(t).errors.tags?(n(),i("label",Fe,[e("span",Me,c(l.value.tags||s(t).errors.tags),1)])):d("",!0)])]),e("div",null,[e("div",Ne,[Ue,e("div",Ke,[e("input",{type:"text",value:s(t).seo_keywords,onInput:a[9]||(a[9]=o=>s(t).seo_keywords=o.target.value),placeholder:"anahtar1, anahtar2, anahtar3",class:_(["input-bordered input w-full",{"input-error":l.value.seo_keywords||s(t).errors.seo_keywords}])},null,42,Ae)]),l.value.seo_keywords||s(t).errors.seo_keywords?(n(),i("label",Ge,[e("span",He,c(l.value.seo_keywords||s(t).errors.seo_keywords),1)])):d("",!0)])]),e("div",null,[e("div",We,[qe,e("div",Qe,[e("textarea",{value:s(t).meta_description,onInput:a[10]||(a[10]=o=>s(t).meta_description=o.target.value),placeholder:"Arama motorları için kısa bir açıklama (max 160 karakter)",class:_(["textarea-bordered textarea w-full",{"textarea-error":l.value.meta_description||s(t).errors.meta_description}]),maxlength:"160",rows:"2"},null,42,Re),e("div",Je,c(((v=s(t).meta_description)==null?void 0:v.length)||0)+"/160",1)]),l.value.meta_description||s(t).errors.meta_description?(n(),i("label",Pe,[e("span",Xe,c(l.value.meta_description||s(t).errors.meta_description),1)])):d("",!0),Ze])]),e("div",null,[e("div",et,[tt,e("div",st,[e("input",{type:"number",value:s(t).views_count,onInput:a[11]||(a[11]=o=>s(t).views_count=o.target.value),class:"input-bordered input w-full",readonly:""},null,40,lt)])])]),e("div",at,[e("label",ot,[f(e("input",{type:"checkbox","onUpdate:modelValue":a[12]||(a[12]=o=>s(t).hasDraw=o),class:"checkbox checkbox-neutral"},null,512),[[U,s(t).hasDraw]]),rt])])]),it,e("div",nt,[e("button",{type:"submit",class:_(["btn btn-primary",{loading:s(t).processing}]),disabled:s(t).processing}," Yazıyı Kaydet ",10,ut)])],32)])])}}});export{bt as default};
