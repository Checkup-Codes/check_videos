import{p as _,Q as z,r as c,j as B,o as a,w as E,e as N,a as e,c as l,h,t as n,f as W,F as y,g as w,k as C,v as V,G as D,x as M,N as P}from"./ssr-DY-85ls2.js";import{_ as T}from"./CheckScreen-DL8qLJnT.js";import{_ as F}from"./TopScreen-CvBU0Fn8.js";const O={class:"p-4"},S={class:"mb-4 flex justify-between"},Z={class:"text-xl font-bold text-base-content"},G={class:"text-sm text-base-content/70"},Q={class:"mt-1 text-sm text-base-content/70"},U=e("span",{class:"font-medium"},"Dil:",-1),I={class:"flex space-x-2"},R=["href"],q=["href"],H={class:"overflow-x-auto"},J={class:"table table-zebra w-full"},X=e("thead",null,[e("tr",null,[e("th",{class:"border-b px-4 py-3 text-left text-sm font-semibold"},"Kelime"),e("th",{class:"border-b px-4 py-3 text-left text-sm font-semibold"},"Anlam"),e("th",{class:"border-b px-4 py-3 text-left text-sm font-semibold"},"Tür"),e("th",{class:"border-b px-4 py-3 text-left text-sm font-semibold"},"Zorluk"),e("th",{class:"border-b px-4 py-3 text-left text-sm font-semibold"},"İşlemler")])],-1),Y={key:0},ee=e("td",{colspan:"5",class:"text-center py-6 text-base-content/70"}," Bu dil paketinde henüz kelime bulunmamaktadır. Kelime ekleyin. ",-1),te=[ee],se={class:"border-b px-4 py-3 font-medium"},ae={class:"border-b px-4 py-3"},le={class:"border-b px-4 py-3 capitalize"},ne={class:"border-b px-4 py-3"},oe={class:"border-b px-4 py-3"},ie=["onClick"],re={key:0,class:"modal modal-open"},ce={class:"modal-box max-w-2xl"},de={class:"mb-4 flex items-center justify-between"},ue=e("h3",{class:"text-lg font-bold"},"Kelime Ekle",-1),be=e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),me=[be],he={class:"mb-4"},ve=e("label",{class:"label"},[e("span",{class:"label-text"},"Kelime Ara")],-1),ge={class:"mb-4"},_e=e("label",{class:"label"},[e("span",{class:"label-text"},"Kelimeler")],-1),ke={key:0,class:"flex justify-center py-4"},fe=e("div",{class:"loading loading-spinner loading-md"},null,-1),pe=[fe],xe={key:1,class:"py-4 text-center text-base-content/70"},ye={key:2,class:"max-h-60 overflow-y-auto border border-base-300 rounded-lg p-2"},we=["id","value"],Ce=["for"],Pe={class:"modal-action"},Ke=["disabled"],je={__name:"Screen",props:{languagePack:Object,screen:Object},setup(o){const v=o,k=_(()=>z().props.auth),f=_(()=>k.value&&k.value.user),d=c(!1),r=c([]),u=c(!1),g=c(!1),m=c([]),b=c(""),p=s=>({tr:"Türkçe",en:"İngilizce",de:"Almanca",fr:"Fransızca",es:"İspanyolca",it:"İtalyanca",ru:"Rusça",ar:"Arapça"})[s]||s,K=s=>{switch(s){case 1:return"Kolay";case 2:return"Orta";case 3:return"Zor";case 4:return"Çok Zor";default:return"Bilinmiyor"}},$=async()=>{g.value=!0,d.value=!0,r.value=[];try{const s=await M.get(route("rendition.words.available-for-pack",v.languagePack.id));m.value=s.data}catch(s){console.error("Kelimeler yüklenirken hata oluştu:",s)}finally{g.value=!1}},A=_(()=>b.value.trim()?m.value.filter(s=>s.word.toLowerCase().includes(b.value.toLowerCase())||s.meaning.toLowerCase().includes(b.value.toLowerCase())):m.value),L=()=>{r.value.length!==0&&(u.value=!0,P.post(route("rendition.language-packs.add-words",v.languagePack.id),{word_ids:r.value},{onSuccess:()=>{u.value=!1,d.value=!1,r.value=[]},onError:()=>{u.value=!1}}))},j=s=>{confirm(`"${s.word}" kelimesini bu paketten kaldırmak istediğinize emin misiniz?`)&&P.delete(route("rendition.language-packs.remove-word",[v.languagePack.id,s.id]))};return(s,i)=>(a(),B(T,null,{default:E(()=>[N(F,{title:`${o.languagePack.name} - Kelimeler`},null,8,["title"]),e("div",O,[e("div",S,[e("div",null,[e("h2",Z,n(o.languagePack.name),1),e("p",G,n(o.languagePack.description),1),e("p",Q,[U,W(" "+n(p(o.languagePack.language)),1)])]),e("div",I,[f.value?(a(),l("button",{key:0,onClick:$,class:"btn btn-primary"}," Kelime Ekle ")):h("",!0),e("a",{href:s.route("rendition.language-packs.export",o.languagePack.id),class:"btn btn-success"}," Dışa Aktar ",8,R),e("a",{href:s.route("rendition.language-packs.index"),class:"btn btn-outline"}," Geri Dön ",8,q)])]),e("div",H,[e("table",J,[X,e("tbody",null,[!o.languagePack.words||o.languagePack.words.length===0?(a(),l("tr",Y,te)):h("",!0),(a(!0),l(y,null,w(o.languagePack.words,t=>(a(),l("tr",{key:t.id,class:"hover"},[e("td",se,n(t.word),1),e("td",ae,n(t.meaning),1),e("td",le,n(t.type),1),e("td",ne,n(K(t.difficulty_level)),1),e("td",oe,[f.value?(a(),l("button",{key:0,onClick:x=>j(t),class:"btn btn-error btn-xs"}," Kaldır ",8,ie)):h("",!0)])]))),128))])])])]),d.value?(a(),l("div",re,[e("div",ce,[e("div",de,[ue,e("button",{onClick:i[0]||(i[0]=t=>d.value=!1),class:"btn btn-ghost btn-sm"},me)]),e("div",he,[ve,C(e("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>b.value=t),type:"text",placeholder:"Kelime veya anlam ara...",class:"input input-bordered w-full"},null,512),[[V,b.value]])]),e("div",ge,[_e,g.value?(a(),l("div",ke,pe)):m.value.length===0?(a(),l("div",xe," Eklenebilecek kelime bulunamadı. Önce yeni kelimeler ekleyin. ")):(a(),l("div",ye,[(a(!0),l(y,null,w(A.value,t=>(a(),l("div",{key:t.id,class:"flex items-center rounded px-2 py-1 hover:bg-base-200"},[C(e("input",{id:`word-${t.id}`,"onUpdate:modelValue":i[2]||(i[2]=x=>r.value=x),value:t.id,type:"checkbox",class:"checkbox checkbox-primary"},null,8,we),[[D,r.value]]),e("label",{for:`word-${t.id}`,class:"ml-2 block text-sm text-base-content"},n(t.word)+" - "+n(t.meaning)+" ("+n(p(t.language))+") ",9,Ce)]))),128))]))]),e("div",Pe,[e("button",{onClick:i[3]||(i[3]=t=>d.value=!1),class:"btn btn-outline"}," İptal "),e("button",{onClick:L,class:"btn btn-primary",disabled:r.value.length===0||u.value},n(u.value?"Ekleniyor...":"Ekle"),9,Ke)])])])):h("",!0)]),_:1}))}};export{je as default};
