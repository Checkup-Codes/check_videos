import{_ as x}from"./CheckSubsidebar-L1dK-8HJ.js";import{_ as L}from"./SubSidebarScreen-aQxghY_9.js";import w from"./CategoryTree-Dg-IBTU6.js";import{_ as A}from"./TopSubsidebar-CzcICS7i.js";import{u as k}from"./useSidebar-Cy0sRDNl.js";import{C as N,p as i,L as I,r as o,s as R,m as u,j as g,o as m,w as f,e as _,h as $,n as W}from"./ssr-DzRk3HnO.js";import{_ as j}from"./app-CJ9FyM0q.js";const B=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(O,{emit:C}){k();const a=N(),h=i(()=>a.getters["Theme/getCurrentTheme"]),c=I("categories",[]);i(()=>c.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0));const n=i(()=>a.getters["CategorySidebar/collapsedSet"].size===0),v=()=>"",S=o(!0),b=o(null),r=o(a.getters["Writes/isCollapsed"]),t=o(null),y=C,T=e=>{r.value=e,a.commit("Writes/SET_COLLAPSED",e)};R(r,e=>{y("update:isNarrow",e)}),u(()=>{r.value=a.getters["Writes/isCollapsed"]});const d=e=>{const s=e.target.scrollTop;localStorage.setItem("categorySidebarScroll",s)},p=e=>{let s=[];return e.forEach(l=>{s.push(l.id),l.children&&l.children.length>0&&(s=s.concat(p(l.children)))}),s},E=()=>{if(n.value){const e=p(c);a.dispatch("CategorySidebar/collapseAll",e)}else a.dispatch("CategorySidebar/expandAll")};return u(()=>{if(t.value&&(t.value.addEventListener&&t.value.addEventListener("scroll",d),t.value.$el)){t.value.$el.addEventListener("scroll",d);const e=localStorage.getItem("categorySidebarScroll");e&&(t.value.$el.scrollTop=parseInt(e,10))}}),(e,s)=>(m(),g(x,{isNarrow:r.value,class:W(h.value)},{default:f(()=>[_(A,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:n.value,onToggleExpand:E,onToggleWidth:T,class:"border-base-200"},null,8,["isExpanded"]),_(L,{ref_key:"scrollableRef",ref:t},{default:f(()=>[S.value?(m(),g(w,{key:0,ref_key:"categoryTreeRef",ref:b,getLinkClasses:v,expandAll:n.value,isCollapsed:r.value},null,8,["expandAll","isCollapsed"])):$("",!0)]),_:1},512)]),_:1},8,["isNarrow","class"]))}}),q=j(B,[["__scopeId","data-v-3e2763b6"]]);export{q as default};
