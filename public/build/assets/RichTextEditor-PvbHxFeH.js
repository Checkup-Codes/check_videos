import{Q as g}from"./quill-Dn-9E9S5.js";import"./app-DPFHnaae.js";import{g as h,s as b,H as x,y,x as k,c as r,j as c,a as S,t as d,o as i}from"./ssr-BytXMzjc.js";/* empty css            */const V={class:"w-full"},v={key:0,class:"mb-1 block text-sm font-medium text-foreground"},T={key:1,class:"mt-1 text-xs text-destructive"},w={__name:"RichTextEditor",props:{modelValue:{type:String,default:""},label:{type:String,default:""},error:{type:String,default:""},placeholder:{type:String,default:"İçeriği buraya yazın..."},height:{type:String,default:"400px"}},emits:["update:modelValue"],setup(o,{expose:u,emit:m}){const l=o,a=m,n=h(null);let e=null;const f=(t,p="")=>{if(!e)return;const s=e.getSelection(!0);e.insertEmbed(s.index,"image",t),e.setSelection(s.index+1)};return b(async()=>{if(await x(),!!n.value){if(e=new g(n.value,{theme:"snow",placeholder:l.placeholder,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]]}}),l.height){const t=n.value.querySelector(".ql-container");t&&(t.style.height=l.height)}l.modelValue&&(e.root.innerHTML=l.modelValue),e.on("text-change",()=>{const t=e.root.innerHTML;t==="<p><br></p>"?a("update:modelValue",""):a("update:modelValue",t)})}}),y(()=>l.modelValue,t=>{e&&e.root.innerHTML!==t&&(e.root.innerHTML=t||"")}),k(()=>{e&&(e=null)}),u({insertImage:f}),(t,p)=>(i(),r("div",V,[o.label?(i(),r("label",v,d(o.label),1)):c("",!0),S("div",{ref_key:"editorContainer",ref:n,class:"quill-editor-container"},null,512),o.error?(i(),r("p",T,d(o.error),1)):c("",!0)]))}};export{w as default};
