import{Q as P,l as a,y as T,A as V,g as o,b as e,n as f,e as C,t as h,h as p,a as l,w as d,u as n,j as $,B as j,F as S,m as D,o as r,k as u}from"./app-CUtkyMvc.js";import{D as F,C as I}from"./CloseX-2OzA8rL2.js";const K={class:"fixed z-10 mt-14 w-full shadow-right shadow-gray-100 lg:mt-0 lg:w-[27%]"},M={class:"flex cursor-pointer justify-between text-sm text-black"},U={class:"m-2 space-y-4 rounded p-1 font-bold text-black"},Y={class:"flex"},A={key:0},Q={class:"px-1"},X=e("span",null,null,-1),q={class:"pr-1"},G={key:0,class:"duration-50 mx-3 flex content-center items-center rounded-lg transition-all"},H={key:0},J=e("div",{class:"mx-2 rounded p-1 text-center font-bold text-black underline"},"Yeni Yazı Ekle",-1),O=e("div",{class:"mx-2 rounded p-1 text-center font-bold text-black underline"},"Kategori Ekle",-1),R={class:"sticky top-0 z-20 bg-sidebar"},W={class:"grid grid-cols-3 gap-1 bg-sidebar px-4 pb-3 text-sm"},Z={class:"rounded p-1 text-center font-bold"},ee={class:"py-0.5 font-bold"},te={class:"py-1 text-sm text-gray-400"},ae={__name:"Screen",setup(se){const{props:c,url:B}=P(),E=a(c.writes),m=a(c.categories),g=a(c.category),v=a(!0),x=a(0),_=a(null),L=s=>{const i={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString(void 0,i)},y=a(c.flash.success),N=c.auth,k=s=>B.includes(s)?"block cursor-pointer text-sm rounded-lg text-black transition-all transition-colors duration-200 bg-gray-900 text-white shadow-lg":"block cursor-pointer text-sm rounded-lg text-black transition-all transition-colors duration-200 hover:bg-gray-200 hover:shadow-lg",z=()=>{v.value=!v.value},b=()=>{x.value=_.value.scrollTop,localStorage.setItem("scrollPosition",x.value)};T(()=>{y.value&&setTimeout(()=>{y.value=null},3e3);const s=localStorage.getItem("scrollPosition");s&&(_.value.scrollTop=s),window.addEventListener("scroll",b)}),V(()=>{window.removeEventListener("scroll",b)});const w=s=>{const i=m.value.find(t=>t.id===s);return i?i.slug:"Unknown"};return(s,i)=>(r(),o("div",K,[e("div",M,[e("div",null,[e("div",U,[e("div",Y,[e("div",{class:f([g.value?"w-auto":"w-32","flex content-center items-center rounded-lg border-2 border-sidebar bg-gray-200 p-1 pl-3 hover:border-black"]),onClick:z},[C(" Kategori seç "),g.value?(r(),o("span",A,[C(" : "),e("span",Q,h(g.value.name),1),X])):p("",!0),e("span",q,[l(F)])],2),g.value?(r(),o("div",G,[l(n(u),{href:s.route("writes.index"),class:"rounded-lg border-2 bg-gray-200 p-0.5 text-center font-bold text-black underline hover:border-black hover:bg-gray-300"},{default:d(()=>[l(I)]),_:1},8,["href"])])):p("",!0)])])]),n(N).user?(r(),o("div",H,[l(n(u),{href:"/writes/create"},{default:d(()=>[J]),_:1}),l(n(u),{href:"/categories/create"},{default:d(()=>[O]),_:1})])):p("",!0)]),e("div",{class:"h-[92vh] overflow-auto",ref_key:"scrollContainer",ref:_,onScroll:b},[e("div",R,[$(e("div",W,[(r(!0),o(S,null,D(m.value,t=>(r(),o("div",{key:t.id,class:"transition-all duration-100"},[l(n(u),{href:s.route("categories.show",{category:t.slug}),class:f([k(`/categories/${t.slug}`),"border-2 hover:border-black hover:bg-sidebar hover:text-black"])},{default:d(()=>[e("div",Z,h(t.name),1)]),_:2},1032,["href","class"])]))),128))],512),[[j,v.value]])]),(r(!0),o(S,null,D(E.value,t=>(r(),o("div",{key:t.id,class:"px-3 py-1"},[l(n(u),{href:s.route("categories.showByCategory",{category:w(t.category_id),slug:t.slug}),class:f([k(`/categories/${w(t.category_id)}/${t.slug}`),"px-3 py-1"])},{default:d(()=>[e("div",ee,h(t.title),1),e("div",te,h(L(t.published_at)),1)]),_:2},1032,["href","class"])]))),128))],544)]))}};export{ae as default};
