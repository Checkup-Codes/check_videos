import{Q as S,l as h,T as C,L as m,x as T,A as I,g as i,o as u,b as e,p as j,e as B,h as _,n as d,u as s,t as c,j as v,q as y,D as f,F as D,m as L,v as Y,N as V}from"./app-4OUUbtt_.js";import{Q as E}from"./quill.snow-DwNKvRx9.js";/* empty css            */const F={class:"card"},H={class:"card-body p-6"},O=j('<div class="card-title flex items-center justify-between"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><h2 class="text-gray-800 dark:text-white">Yeni Yazı Oluştur</h2></div></div>',1),U={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},q={class:"md:col-span-2"},K={class:"form-control w-full"},N=e("label",{class:"label"},[e("span",{class:"label-text"},"Başlık")],-1),A={class:"relative"},$=["value"],Q={key:0,class:"label"},W={class:"label-text-alt text-error"},G={class:"form-control w-full"},J=e("label",{class:"label"},[e("span",{class:"label-text"},"Slug")],-1),P={class:"relative"},R=["value"],X={key:0,class:"label"},Z={class:"label-text-alt text-error"},ee={class:"form-control w-full"},te=e("label",{class:"label"},[e("span",{class:"label-text"},"Yayınlama Tarihi")],-1),se={class:"flex space-x-2"},le={key:0,class:"label"},ae={class:"label-text-alt text-error"},oe={class:"md:col-span-2"},re={class:"form-control w-full"},ne=e("label",{class:"label"},[e("span",{class:"label-text"},"Özet")],-1),ie={class:"relative"},ue=["value"],de={key:0,class:"label"},ce={class:"label-text-alt text-error"},_e={class:"md:col-span-2"},pe={class:"form-control w-full"},ve=e("label",{class:"label"},[e("span",{class:"label-text"},"İçerik")],-1),be={class:"relative"},he={key:0,class:"label"},me={class:"label-text-alt text-error"},ge=e("label",{class:"label"},[e("span",{class:"label-text"},"Durumu")],-1),xe=e("option",{value:"draft"},"Şablon",-1),ye=e("option",{value:"published"},"Yayında",-1),fe=e("option",{value:"private"},"Gizli",-1),ke=[xe,ye,fe],we={key:0,class:"label"},ze={class:"label-text-alt text-error"},Me=e("label",{class:"label"},[e("span",{class:"label-text"},"Kategori")],-1),Se=e("option",{value:"",disabled:""},"Kategori seç",-1),Ce=["value"],Te={key:0,class:"label"},Ie={class:"label-text-alt text-error"},je={class:"form-control w-full"},Be=e("label",{class:"label"},[e("span",{class:"label-text"},"Etiketler")],-1),De={class:"relative"},Le=["value"],Ye={key:0,class:"label"},Ve={class:"label-text-alt text-error"},Ee={class:"form-control w-full"},Fe=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Anahtar Kelimeleri")],-1),He={class:"relative"},Oe=["value"],Ue={key:0,class:"label"},qe={class:"label-text-alt text-error"},Ke={class:"form-control w-full"},Ne=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Meta Açıklaması")],-1),Ae={class:"relative"},$e=["value"],Qe={class:"mt-1 text-xs text-gray-500"},We={key:0,class:"label"},Ge={class:"label-text-alt text-error"},Je=e("div",{class:"mt-1 text-xs text-gray-500"},[e("span",null,"İpucu: Bu açıklama arama sonuçlarında gösterilir. Boş bırakırsanız, özet kısmı kullanılacaktır.")],-1),Pe={class:"form-control w-full"},Re=e("label",{class:"label"},[e("span",{class:"label-text"},"Görüntülenme Sayısı")],-1),Xe={class:"relative"},Ze=["value"],et={class:"flex items-center space-x-2"},tt={class:"label cursor-pointer justify-start gap-2"},st=e("span",{class:"label-text"},"Çizim İçerir",-1),lt=e("div",{class:"divider"},null,-1),at={class:"flex justify-end space-x-3"},ot=["disabled"],dt=Object.assign({name:"WriteCreateForm"},{__name:"WriteCreateForm",setup(rt){const{props:k}=S(),w=h(k.categories),t=C({title:"",slug:"",content:"",published_at:"",summary:"",status:"draft",category_id:"",seo_keywords:"",meta_description:"",tags:"",views_count:0,hasDraw:!1}),l=h({title:"",slug:"",content:"",published_at:"",summary:"",status:"",category_id:"",seo_keywords:"",meta_description:"",tags:""}),r=h({date:"",time:""});m(r.value,()=>{r.value.date&&r.value.time&&(t.published_at=`${r.value.date}T${r.value.time}:00`)},{deep:!0});const z=()=>{l.value.title=t.title?"":"Başlık zorunludur.",l.value.slug=t.slug?"":"Slug zorunludur.",l.value.content=t.content?"":"İçerik zorunludur.",l.value.published_at=r.value.date&&r.value.time?"":"Yayınlama tarihi zorunludur.",l.value.summary=t.summary?"":"Özet zorunludur.",l.value.category_id=t.category_id?"":"Kategori seçilmelidir.",l.value.published_at||(t.published_at=`${r.value.date}T${r.value.time}:00`)},M=()=>{z(),Object.values(l.value).some(n=>n!=="")||t.post(route("writes.store"),{onSuccess:()=>{V.visit(route("dashboard"))}})};m(()=>t.title,n=>{(!t.slug||t.slug==="")&&(t.slug=n.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())});const b=h(null);let p,g=!1;return T(()=>{p=new E(b.value,{theme:"snow",modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]]},placeholder:"Write content here...",bounds:b.value}),p.on("text-change",()=>{try{const n=p.root.innerHTML;t.content=n}catch(n){console.error("Content update error:",n)}}),setTimeout(()=>{if(t.content&&!g)try{p.root.innerHTML=t.content,g=!0}catch(n){console.error("Initial content load error:",n)}},100),b.value.style.height="400px"}),m(()=>t.content,n=>{if(p&&n!==p.root.innerHTML)try{p.root.innerHTML=n||""}catch(o){console.error("Content update error in watcher:",o)}}),I(()=>{p&&(p=null)}),(n,o)=>{var x;return u(),i("div",F,[e("div",H,[O,e("form",{onSubmit:B(M,["prevent"]),class:"space-y-6"},[e("div",U,[e("div",q,[e("div",K,[N,e("div",A,[e("input",{type:"text",value:s(t).title,onInput:o[0]||(o[0]=a=>s(t).title=a.target.value),placeholder:"Yazının başlığını girin",class:d(["input-bordered input w-full",{"input-error":l.value.title||s(t).errors.title}])},null,42,$)]),l.value.title||s(t).errors.title?(u(),i("label",Q,[e("span",W,c(l.value.title||s(t).errors.title),1)])):_("",!0)])]),e("div",null,[e("div",G,[J,e("div",P,[e("input",{type:"text",value:s(t).slug,onInput:o[1]||(o[1]=a=>s(t).slug=a.target.value),placeholder:"örnek-yazı-slug",class:d(["input-bordered input w-full",{"input-error":l.value.slug||s(t).errors.slug}])},null,42,R)]),l.value.slug||s(t).errors.slug?(u(),i("label",X,[e("span",Z,c(l.value.slug||s(t).errors.slug),1)])):_("",!0)])]),e("div",null,[e("div",ee,[te,e("div",se,[v(e("input",{type:"date","onUpdate:modelValue":o[2]||(o[2]=a=>r.value.date=a),class:d(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[y,r.value.date]]),v(e("input",{type:"time","onUpdate:modelValue":o[3]||(o[3]=a=>r.value.time=a),class:d(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[y,r.value.time]])]),l.value.published_at||s(t).errors.published_at?(u(),i("label",le,[e("span",ae,c(l.value.published_at||s(t).errors.published_at),1)])):_("",!0)])]),e("div",oe,[e("div",re,[ne,e("div",ie,[e("textarea",{value:s(t).summary,onInput:o[4]||(o[4]=a=>s(t).summary=a.target.value),placeholder:"Yazının kısa özeti",rows:"3",class:d(["textarea-bordered textarea w-full",{"textarea-error":l.value.summary||s(t).errors.summary}])},null,42,ue)]),l.value.summary||s(t).errors.summary?(u(),i("label",de,[e("span",ce,c(l.value.summary||s(t).errors.summary),1)])):_("",!0)])]),e("div",_e,[e("div",pe,[ve,e("div",be,[e("div",{ref_key:"quillEditor",ref:b,class:d(["min-h-[300px] rounded border border-base-300 bg-base-100 p-3",{"border-error":l.value.content||s(t).errors.content}]),style:{height:"400px"}},null,2)]),l.value.content||s(t).errors.content?(u(),i("label",he,[e("span",me,c(l.value.content||s(t).errors.content),1)])):_("",!0)])]),e("div",null,[ge,v(e("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>s(t).status=a),class:d(["select-bordered select w-full bg-base-100 text-neutral-content",{"select-error":l.value.status||s(t).errors.status}])},ke,2),[[f,s(t).status]]),l.value.status||s(t).errors.status?(u(),i("label",we,[e("span",ze,c(l.value.status||s(t).errors.status),1)])):_("",!0)]),e("div",null,[Me,v(e("select",{"onUpdate:modelValue":o[6]||(o[6]=a=>s(t).category_id=a),class:d(["select-bordered select w-full bg-base-100 text-neutral-content",{"select-error":l.value.category_id||s(t).errors.category_id}])},[Se,(u(!0),i(D,null,L(w.value,a=>(u(),i("option",{key:a.id,value:a.id},c(a.name),9,Ce))),128))],2),[[f,s(t).category_id]]),l.value.category_id||s(t).errors.category_id?(u(),i("label",Te,[e("span",Ie,c(l.value.category_id||s(t).errors.category_id),1)])):_("",!0)]),e("div",null,[e("div",je,[Be,e("div",De,[e("input",{type:"text",value:s(t).tags,onInput:o[7]||(o[7]=a=>s(t).tags=a.target.value),placeholder:"etiket1, etiket2, etiket3",class:d(["input-bordered input w-full",{"input-error":l.value.tags||s(t).errors.tags}])},null,42,Le)]),l.value.tags||s(t).errors.tags?(u(),i("label",Ye,[e("span",Ve,c(l.value.tags||s(t).errors.tags),1)])):_("",!0)])]),e("div",null,[e("div",Ee,[Fe,e("div",He,[e("input",{type:"text",value:s(t).seo_keywords,onInput:o[8]||(o[8]=a=>s(t).seo_keywords=a.target.value),placeholder:"anahtar1, anahtar2, anahtar3",class:d(["input-bordered input w-full",{"input-error":l.value.seo_keywords||s(t).errors.seo_keywords}])},null,42,Oe)]),l.value.seo_keywords||s(t).errors.seo_keywords?(u(),i("label",Ue,[e("span",qe,c(l.value.seo_keywords||s(t).errors.seo_keywords),1)])):_("",!0)])]),e("div",null,[e("div",Ke,[Ne,e("div",Ae,[e("textarea",{value:s(t).meta_description,onInput:o[9]||(o[9]=a=>s(t).meta_description=a.target.value),placeholder:"Arama motorları için kısa bir açıklama (max 160 karakter)",class:d(["textarea-bordered textarea w-full",{"textarea-error":l.value.meta_description||s(t).errors.meta_description}]),maxlength:"160",rows:"2"},null,42,$e),e("div",Qe,c(((x=s(t).meta_description)==null?void 0:x.length)||0)+"/160",1)]),l.value.meta_description||s(t).errors.meta_description?(u(),i("label",We,[e("span",Ge,c(l.value.meta_description||s(t).errors.meta_description),1)])):_("",!0),Je])]),e("div",null,[e("div",Pe,[Re,e("div",Xe,[e("input",{type:"number",value:s(t).views_count,onInput:o[10]||(o[10]=a=>s(t).views_count=a.target.value),class:"input-bordered input w-full",readonly:""},null,40,Ze)])])]),e("div",et,[e("label",tt,[v(e("input",{type:"checkbox","onUpdate:modelValue":o[11]||(o[11]=a=>s(t).hasDraw=a),class:"checkbox checkbox-neutral"},null,512),[[Y,s(t).hasDraw]]),st])])]),lt,e("div",at,[e("button",{type:"submit",class:d(["btn btn-primary",{loading:s(t).processing}]),disabled:s(t).processing}," Yazıyı Kaydet ",10,ot)])],32)])])}}});export{dt as default};
