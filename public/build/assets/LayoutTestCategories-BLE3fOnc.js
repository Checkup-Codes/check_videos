import{Q as N,g as p,y as x,B as j,b as t,s as V,z as A,c as D,f as b,u as M,Z as H,w as k,a as I,n as K,r as Q,e as L,j as Z,o as C,L as q,a1 as G,F as J,M as T}from"./ssr-BIVtT62i.js";import{_ as R}from"./CheckLayout-BOxazMdz.js";import X from"./SidebarLayoutTest-CW7FpJlL.js";import Y from"./SidebarLayoutCategory-EHlNWQF7.js";import{_ as ee}from"./FlashMessage-Cl3fpZAO.js";import{u as te}from"./useSidebar-DVCeW840.js";import"./TestList-K3MSss48.js";import"./app-BPwB7gnE.js";/* empty css            */import"./SubSidebarScreen-D4hnU9yh.js";import"./IconMenu-CqJ-1m5r.js";import"./IconFolder-CKqgy-TF.js";import"./CategoryTree-D0AyBP43.js";import"./IconChevronDown-BsvV9i4V.js";function se(){var r;const{props:m}=N(),n=p(((r=m.flash)==null?void 0:r.success)||"");return x(()=>{var o;return(o=m.flash)==null?void 0:o.success},o=>{o?n.value=o:n.value=""}),{flashMessage:n}}const we=Object.assign({name:"LayoutTestCategories"},{__name:"LayoutTestCategories",setup(m){const{isCollapsed:n}=te(),{flashMessage:r}=se(),o=j(),B=()=>{r.value=""},s=N(),v=t(()=>{var e;return((e=s.props.screen)==null?void 0:e.name)||"tests"}),E=t(()=>{var e,i,u,c,d,W;return((u=(i=(e=s.props)==null?void 0:e.screen)==null?void 0:i.seo)==null?void 0:u.title)||((W=(d=(c=s.props)==null?void 0:c.app)==null?void 0:d.seo)==null?void 0:W.title)||"Testler"}),P={tests:X,test_categories:Y};t(()=>!!(s.props.auth&&s.props.auth.user));const f=p(typeof window<"u"?window.innerWidth:1024),g=t(()=>f.value<1024),y=()=>{typeof window<"u"&&(f.value=window.innerWidth)},w=t(()=>{const e=s.url||"",i=e.startsWith("/tests/")&&e!=="/tests"&&!e.includes("/tests/create")&&!e.includes("/tests/edit")&&!e.includes("/tests/take")&&!e.includes("/tests/result"),u=e==="/tests/create"||e.includes("/tests/edit"),c=e.startsWith("/test-categories/")&&e!=="/test-categories"&&!e.includes("/test-categories/create")&&!e.includes("/test-categories/edit"),d=e==="/test-categories/create"||e.includes("/test-categories/edit");return i||u||c||d}),a=t(()=>{const e=s.url;return e.includes("/take")||e.includes("/result")}),h=t(()=>g.value?!w.value:!0),S=t(()=>g.value?w.value:!0),z=t(()=>n.value&&v.value&&!a.value&&h.value&&P[v.value]||null),l=p(o.getters["Writes/isCollapsed"]);x(()=>o.getters["Writes/isCollapsed"],e=>{l.value=e},{immediate:!0});const F=t(()=>{const e={"transition-all duration-300":!0,"lg:ml-[-200px]":l.value&&!a.value,"lg:ml-[00px]":!l.value&&!a.value,"lg:ml-0":a.value};return g.value&&w.value&&(e["w-full"]=!0),e}),O=e=>{l.value=e},_=p(!1);V(()=>{_.value=!0,document.body.style.overflow="hidden",typeof window<"u"&&(f.value=window.innerWidth,window.addEventListener("resize",y))}),A(()=>{document.body.style.overflow="",typeof window<"u"&&window.removeEventListener("resize",y)});const U=t(()=>s.props.categories||[]),$=t(()=>s.props.tests||[]);return T("categories",U),T("tests",$),(e,i)=>(C(),D(J,null,[b(M(H),{title:E.value},null,8,["title"]),b(ee,{message:M(r),onClose:B},null,8,["message"]),b(R,{isCollapsed:!a.value,"show-sidebar-on-mobile":h.value,"show-main-content-on-mobile":S.value},{sidebar:k(()=>[!a.value&&_.value&&h.value?(C(),L(q,{key:0,max:5,include:["SidebarLayoutTest","SidebarLayoutCategory"]},[(C(),L(G(z.value),{key:v.value,"onUpdate:isNarrow":O},null,32))],1024)):Z("",!0)]),default:k(()=>[I("div",{class:K([S.value?"block":"hidden lg:block",F.value])},[Q(e.$slots,"screen")],2)]),_:3},8,["isCollapsed","show-sidebar-on-mobile","show-main-content-on-mobile"])],64))}});export{we as default};
