import{p as L,U as M,Q as N,e as v,V,W as I,y as C,D as E,m as $,A as D,c as u,a as r,h,F as P,g as H,o as c,j as T,w as O,n as x,t as y,u as K,i as R}from"./ssr-B6-2V9vM.js";import{_ as U}from"./app-DQ2l2dRT.js";/* empty css            */const G={class:"space-y-2"},Q={class:"mb-1"},Y={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},q={class:"flex items-center gap-1"},J={class:"truncate"},X={class:"flex items-center gap-1"},Z={class:"truncate"},ee={class:"flex items-center gap-1 self-start sm:self-center"},te={key:0,class:"text-yellow-500 dark:text-yellow-400",title:"Gizli yazı"},se={key:1,class:"text-blue-500 dark:text-blue-400",title:"Sadece link"},re={key:0,class:"flex h-32 items-center justify-center text-center text-muted-foreground"},ae=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(S,{expose:z}){const g=S,F=L(()=>{if(g.writes&&g.writes.length>0)return g.writes;const e=M("writes",[]);return e&&e.length>0?e:[]}),_=N(),W=_.props.isAdmin||!1,n=v(null);v(null);let l=!1;const f=v(""),o=v("all"),j=e=>{const t=window.location.pathname;if(t.includes("/categories/")){const s=t.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return route("categories.showByCategory",{category:a,slug:e.slug})}}return route("writes.show",{write:e.slug})},m=e=>{const t=window.location.pathname;if(t.includes("/categories/")){const s=t.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return`/categories/${a}/${e.slug}`}}return`/writes/${e.slug}`},w=L(()=>{let e=F.value;return W?(o.value==="published"?e=e.filter(t=>t.status==="published"):o.value==="link_only"?e=e.filter(t=>t.status==="link_only"):o.value==="private"&&(e=e.filter(t=>t.status==="private")),e):(e=e.filter(t=>t.status!=="private"),e)});z({filteredWrites:w,scrollContainer:n}),V(()=>{l=!0,d()}),I(()=>{l=!1}),C(()=>_.url,()=>{E(()=>{d()})});const d=()=>{f.value=window.location.pathname},k=()=>`writeListScroll_${o.value}`,b=e=>{localStorage.setItem(k(),e.target.scrollTop)};$(()=>{l=!0;const e=localStorage.getItem("writeListFilter");e&&(o.value=e),d(),E(()=>{if(n.value){n.value.addEventListener("scroll",b);const i=localStorage.getItem(k());i&&(n.value.scrollTop=parseInt(i,10))}});const t=()=>{l&&d()},s=()=>{},a=()=>{l&&d()},p=i=>{o.value=i.detail};window.addEventListener("popstate",t),window.addEventListener("inertia:start",s),window.addEventListener("inertia:finish",a),window.addEventListener("writeFilterChanged",p),D(()=>{l=!1,n.value&&n.value.removeEventListener("scroll",b),window.removeEventListener("popstate",t),window.removeEventListener("inertia:start",s),window.removeEventListener("inertia:finish",a),window.removeEventListener("writeFilterChanged",p)})});const A=e=>{const t=new Date(e),s=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],a=t.getDate(),p=s[t.getMonth()],i=t.getFullYear();return`${a} ${p} ${i}`},B=e=>new Intl.NumberFormat("tr-TR").format(e);return C(o,e=>{localStorage.setItem("writeListFilter",e)}),(e,t)=>(c(),u("div",{ref_key:"scrollContainer",ref:n,class:"write-list-container space-y-1 overflow-y-auto p-3"},[r("div",G,[(c(!0),u(P,null,H(w.value,s=>(c(),T(K(R),{key:s.id,href:j(s),class:x(["block rounded-lg p-3",f.value===m(s)?"bg-primary text-primary-foreground":"border border-border bg-card hover:bg-accent"])},{default:O(()=>[r("div",Q,[r("h3",{class:x(["line-clamp-2 text-sm font-medium leading-tight",f.value===m(s)?"text-primary-foreground":"text-foreground"])},y(s.title),3)]),r("div",{class:x(["flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:justify-between",f.value===m(s)?"text-primary-foreground/70":"text-muted-foreground"])},[r("div",Y,[r("span",q,[t[0]||(t[0]=r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),r("span",J,y(A(s.created_at)),1)]),r("span",X,[t[1]||(t[1]=r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),r("span",Z,y(B(s.views_count))+" görüntülenme",1)])]),r("div",ee,[s.status==="private"?(c(),u("span",te,[...t[2]||(t[2]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):h("",!0),s.status==="link_only"?(c(),u("span",se,[...t[3]||(t[3]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)])])):h("",!0)])],2)]),_:2},1032,["href","class"]))),128))]),w.value.length===0?(c(),u("div",re,[...t[4]||(t[4]=[r("div",null,"Henüz yazı bulunmuyor",-1)])])):h("",!0)],512))}}),ie=U(ae,[["__scopeId","data-v-c42fd4b1"]]);export{ie as default};
