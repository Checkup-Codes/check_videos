import{p as B,L as N,Q as D,r as v,S as P,U as O,s as M,I as $,m as Q,y as U,c as r,a as t,h as f,k as G,v as K,u as A,n as i,F as R,g as Y,o as a,j as q,w as J,t as j,i as X}from"./ssr-bGVKt0Au.js";import{_ as Z}from"./app-tIBondej.js";/* empty css            */const ee={class:"mb-3"},te={key:0,class:"mb-3"},se={class:"hidden gap-2 sm:flex"},ne={key:0},le={key:1},oe={key:0},ae={key:1},re={key:0},ie={key:1},ue={key:0},ce={key:1},de={class:"relative inline-block sm:hidden"},ve={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},pe={class:"flex flex-col gap-1 py-1"},we={class:"space-y-2"},ge={class:"mb-1"},fe={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},be={class:"flex items-center gap-1"},he={class:"truncate"},me={class:"flex items-center gap-1"},ke={class:"truncate"},xe={class:"flex items-center gap-1 self-start sm:self-center"},ye={key:0,class:"text-warning",title:"Gizli yazı"},Ce={key:1,class:"text-info",title:"Sadece link"},Me={key:1,class:"flex h-32 items-center justify-center text-center opacity-50"},je=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(E,{expose:I}){const u=E,V=B(()=>{if(u.writes&&u.writes.length>0)return u.writes;const s=N("writes",[]);return s&&s.length>0?s:[]}),_=D(),S=_.props.isAdmin||!1,c=v(null);v(null);let p=!1;const b=v(""),h=v(""),w=v(""),l=v("all"),d=v(!1);let m=null;const T=()=>{clearTimeout(m),m=setTimeout(()=>{w.value=h.value},300)},F=s=>{const e=window.location.pathname;if(e.includes("/categories/")){const n=e.split("/").filter(o=>o.length>0);if(n.length>=2&&n[0]==="categories"){const o=n[1];if(o&&o!=="create"&&o!=="edit")return route("categories.showByCategory",{category:o,slug:s.slug})}}return route("writes.show",{write:s.slug})},y=s=>{const e=window.location.pathname;if(e.includes("/categories/")){const n=e.split("/").filter(o=>o.length>0);if(n.length>=2&&n[0]==="categories"){const o=n[1];if(o&&o!=="create"&&o!=="edit")return`/categories/${o}/${s.slug}`}}return`/writes/${s.slug}`},C=B(()=>{let s=V.value;return w.value&&(s=s.filter(e=>e.title.toLowerCase().includes(w.value.toLowerCase()))),S?(l.value==="published"?s=s.filter(e=>e.status==="published"):l.value==="link_only"?s=s.filter(e=>e.status==="link_only"):l.value==="private"&&(s=s.filter(e=>e.status==="private")),s):(s=s.filter(e=>e.status!=="private"),s)});I({filteredWrites:C,scrollContainer:c}),P(()=>{p=!0,g()}),O(()=>{p=!1}),M(()=>_.url,()=>{$(()=>{g()})});const g=()=>{b.value=window.location.pathname},L=()=>`writeListScroll_${l.value}_${w.value}`,z=s=>{localStorage.setItem(L(),s.target.scrollTop)};Q(()=>{p=!0;const s=localStorage.getItem("writeListFilter");s&&(l.value=s);const e=localStorage.getItem("writeListSearch");e&&(h.value=e,w.value=e),g(),$(()=>{if(c.value){c.value.addEventListener("scroll",z);const x=localStorage.getItem(L());x&&(c.value.scrollTop=parseInt(x,10))}});const n=()=>{p&&g()},o=()=>{},k=()=>{p&&g()};window.addEventListener("popstate",n),window.addEventListener("inertia:start",o),window.addEventListener("inertia:finish",k),U(()=>{p=!1,c.value&&c.value.removeEventListener("scroll",z),m&&clearTimeout(m),window.removeEventListener("popstate",n),window.removeEventListener("inertia:start",o),window.removeEventListener("inertia:finish",k)})});const W=s=>{const e=new Date(s),n=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],o=e.getDate(),k=n[e.getMonth()],x=e.getFullYear();return`${o} ${k} ${x}`},H=s=>new Intl.NumberFormat("tr-TR").format(s);return M(l,s=>{localStorage.setItem("writeListFilter",s)}),M(w,s=>{localStorage.setItem("writeListSearch",s)}),(s,e)=>(a(),r("div",{ref_key:"scrollContainer",ref:c,class:"write-list-container space-y-1 overflow-y-auto p-3"},[t("div",ee,[G(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>h.value=n),type:"text",class:"input-bordered input w-full",placeholder:"Yazı başlığı ara...",onInput:T},null,544),[[K,h.value]])]),A(S)?(a(),r("div",te,[t("div",se,[t("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":l.value==="all"}]),onClick:e[1]||(e[1]=n=>l.value="all")},[u.isCollapsed?(a(),r("span",ne,[...e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])):(a(),r("span",le,"Tümü"))],2),t("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":l.value==="published"}]),onClick:e[2]||(e[2]=n=>l.value="published")},[u.isCollapsed?(a(),r("span",oe,[...e[11]||(e[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])])):(a(),r("span",ae,"Herkese Açık"))],2),t("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":l.value==="link_only"}]),onClick:e[3]||(e[3]=n=>l.value="link_only")},[u.isCollapsed?(a(),r("span",re,[...e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])])):(a(),r("span",ie,"Sadece Link"))],2),t("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":l.value==="private"}]),onClick:e[4]||(e[4]=n=>l.value="private")},[u.isCollapsed?(a(),r("span",ue,[...e[13]||(e[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])])):(a(),r("span",ce,"Gizli"))],2)]),t("div",de,[t("button",{onClick:e[5]||(e[5]=n=>d.value=!d.value),class:"btn btn-ghost btn-xs"},[...e[14]||(e[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)])]),d.value?(a(),r("div",ve,[t("div",pe,[t("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":l.value==="all"}]),onClick:e[6]||(e[6]=n=>{l.value="all",d.value=!1})},[...e[15]||(e[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2),t("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":l.value==="published"}]),onClick:e[7]||(e[7]=n=>{l.value="published",d.value=!1})},[...e[16]||(e[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])],2),t("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":l.value==="link_only"}]),onClick:e[8]||(e[8]=n=>{l.value="link_only",d.value=!1})},[...e[17]||(e[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])],2),t("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":l.value==="private"}]),onClick:e[9]||(e[9]=n=>{l.value="private",d.value=!1})},[...e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])],2)])])):f("",!0)])])):f("",!0),t("div",we,[(a(!0),r(R,null,Y(C.value,n=>(a(),q(A(X),{key:n.id,href:F(n),class:i(["block rounded-lg p-3",b.value===y(n)?"bg-base-content text-base-100":"border border-base-300 bg-base-100 hover:bg-base-300"])},{default:J(()=>[t("div",ge,[t("h3",{class:i(["line-clamp-2 text-sm font-medium leading-tight",b.value===y(n)?"text-base-100":"text-base-content"])},j(n.title),3)]),t("div",{class:i(["flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:justify-between",b.value===y(n)?"text-base-100/70":"text-base-content/70"])},[t("div",fe,[t("span",be,[e[19]||(e[19]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t("span",he,j(W(n.created_at)),1)]),t("span",me,[e[20]||(e[20]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),t("span",ke,j(H(n.views_count))+" görüntülenme",1)])]),t("div",xe,[n.status==="private"?(a(),r("span",ye,[...e[21]||(e[21]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):f("",!0),n.status==="link_only"?(a(),r("span",Ce,[...e[22]||(e[22]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)])])):f("",!0)])],2)]),_:2},1032,["href","class"]))),128))]),C.value.length===0?(a(),r("div",Me,[...e[23]||(e[23]=[t("div",null,"Henüz yazı bulunmuyor",-1)])])):f("",!0)],512))}}),ze=Z(je,[["__scopeId","data-v-3a388fd0"]]);export{ze as default};
