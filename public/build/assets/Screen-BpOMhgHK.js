import{Q as K,r as d,p as Y,m as J,I as C,y as X,s as $,j as Z,o as n,w as D,c as r,h as _,a as e,F as S,t as w,n as M,f as P,u as j,e as R,i as ee,g as V,S as te,U as se,N as q}from"./ssr-DY-85ls2.js";import{_ as oe}from"./ExcalidrawComponent-wHnw-SAg.js";import{_ as ne}from"./CheckScreen-DL8qLJnT.js";import{_ as re}from"./app-Bi9TAgvo.js";import{u as le}from"./useProcessedQuillContent-CCOP8f-A.js";/* empty css            */const l=x=>(te("data-v-81fec0cd"),x=x(),se(),x),ae={key:0,class:"mx-auto max-w-4xl"},ie={class:"bg-base-100 transition-all duration-200"},ce={class:"p-6 pt-12 sm:p-8 sm:pt-16"},de={class:"mb-8"},ue={key:0,class:"space-y-3"},he=l(()=>e("div",{class:"skeleton h-8 w-3/4 rounded"},null,-1)),fe=l(()=>e("div",{class:"skeleton h-4 w-24 rounded"},null,-1)),ve=[he,fe],be={class:"mb-3 text-2xl font-bold text-base-content"},_e={class:"text-base-content/60 text-sm"},me={key:0,class:"mb-6 flex items-center justify-between"},pe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},we={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},ge={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},xe={key:0,class:"flex items-center gap-2"},ke=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),ye=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),Ce=[ye],Me={key:1,class:"space-y-3"},Te=l(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Ie=l(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Ae=l(()=>e("div",{class:"skeleton h-4 w-4/6 rounded"},null,-1)),Le=l(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Se=l(()=>e("div",{class:"skeleton h-4 w-3/4 rounded"},null,-1)),je=l(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),ze=l(()=>e("div",{class:"skeleton h-32 w-full rounded"},null,-1)),Be=l(()=>e("div",{class:"skeleton h-4 w-2/3 rounded"},null,-1)),Ee=l(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),He=[Te,Ie,Ae,Le,Se,je,ze,Be,Ee],Oe={key:2},Ne={class:"content-container"},$e=["innerHTML"],De={key:1,class:"content-placeholder"},Pe=l(()=>e("div",{class:"space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-5/6 rounded"}),e("div",{class:"skeleton h-4 w-4/6 rounded"}),e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-3/4 rounded"})],-1)),Re=[Pe],Ve={key:3,class:"text-base-content/60 mt-8 text-sm"},qe={key:1,class:"relative h-screen w-full"},We=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)),Fe=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),Ue=[Fe],Ge={class:"flex h-full flex-col"},Qe=l(()=>e("h3",{class:"text-lg font-semibold text-base-content"},"İçindekiler",-1)),Ke=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Ye=[Ke],Je={class:"flex-1 overflow-y-auto p-4"},Xe={key:0,class:"text-base-content/60 py-8 text-center text-sm"},Ze={key:1,class:"space-y-1"},et=["onClick"],tt={class:"text-base-content"},st={key:4,class:"fixed right-4 top-4 z-30 hidden w-64 2xl:block"},ot={class:"rounded-lg bg-base-100"},nt=l(()=>e("div",{class:"border-b border-base-300 p-3"},[e("h3",{class:"text-sm font-semibold text-base-content"},"İçindekiler")],-1)),rt={class:"overflow-y-auto p-3",style:{"max-height":"calc(100vh - 120px)"}},lt={key:0,class:"text-base-content/60 py-4 text-center text-xs"},at={key:1,class:"space-y-1"},it=["onClick"],ct={class:"text-base-content"},dt=Object.assign({name:"WriteByCategoryScreen"},{__name:"Screen",setup(x){const{props:k}=K(),W=d(k.category||{}),c=d(k.write||{}),m=d(null),F=k.auth||{},a=d(!1),u=d(!0),v=d(!1),g=d(!1),p=d(!1),b=d([]),z=d(null),T=le(m,Y(()=>v.value?c.value.content:"")),U=o=>{if(!o)return"";const s=new Date(o),t=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],i=s.getDate(),h=t[s.getMonth()],f=s.getFullYear();return`${i} ${h} ${f}`},G=o=>new Intl.NumberFormat("tr-TR").format(o);let y=null;J(()=>{v.value=!1,setTimeout(()=>{u.value=!1;const s=document.querySelector(".content-placeholder");s?(y=new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting&&!v.value&&(v.value=!0,C(()=>{B(),setTimeout(()=>{I(),setTimeout(()=>{A()},200)},100)}))})},{threshold:.1,rootMargin:"50px"}),y.observe(s)):(v.value=!0,C(()=>{B(),setTimeout(()=>{I(),setTimeout(()=>{A()},200)},100)}))},300),window.location.pathname.includes("categories")?a.value=!0:a.value=k.showDraw||!1;const o=new URLSearchParams(window.location.search);if(a.value=o.has("draw"),a.value||C(()=>{const s=new IntersectionObserver(i=>{i.forEach(h=>{if(h.isIntersecting){const f=h.target;f.setAttribute("loading","eager"),f.setAttribute("importance","high"),s.unobserve(f)}})},{rootMargin:"200px 0px",threshold:.01});document.querySelectorAll(".article-content img").forEach(i=>s.observe(i))}),c.value.content&&c.value.content.includes("<img")){const s=/<img[^>]+src="([^"]+)"/g;let t;for(;(t=s.exec(c.value.content))!==null;){const i=new Image;i.src=t[1]}}}),X(()=>{y&&y.disconnect()});const B=()=>{if(!m.value)return;m.value.querySelectorAll("a").forEach(s=>{const t=s.getAttribute("href");t&&!t.startsWith("/")&&!t.startsWith("#")&&(s.setAttribute("target","_blank"),s.setAttribute("rel","noopener noreferrer"))})},I=()=>{if(!m.value)return;const o=m.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),s=[];o.forEach((t,i)=>{t.id||(t.id=`heading-${i}`);const h=parseInt(t.tagName.charAt(1)),f=t.textContent.trim();f&&s.push({id:t.id,text:f,level:h})}),b.value=s,g.value=s.length>0},E=()=>{a.value=!a.value;const o=new URL(window.location.href);a.value?o.searchParams.set("draw","1"):o.searchParams.delete("draw"),window.history.pushState({},"",o)},Q=o=>{confirm("Bu yazıyı silmek istediğinize emin misiniz?")&&q.delete(route("writes.destroy",o),{onSuccess:()=>{q.visit(route("categories.show",W.value.slug))}})},H=o=>{const s=document.getElementById(o);s&&(s.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(p.value=!1))},O=o=>{switch(o){case 1:return"pl-0";case 2:return"pl-4 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2";case 3:return"pl-8 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 4:return"pl-12 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 5:return"pl-16 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 6:return"pl-20 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";default:return"pl-0"}},N=o=>z.value===o?"bg-primary/10 text-primary border-l-2 border-primary":"",A=()=>{if(!b.value.length)return;const o=new IntersectionObserver(s=>{s.forEach(t=>{t.isIntersecting&&(z.value=t.target.id)})},{rootMargin:"-20% 0px -70% 0px",threshold:.1});return b.value.forEach(s=>{const t=document.getElementById(s.id);t&&o.observe(t)}),o},L=()=>{p.value=!p.value};return $(T,()=>{v.value&&T.value&&C(()=>{I(),setTimeout(()=>{A()},200)})},{flush:"post"}),$(a,o=>{o&&(p.value=!1)}),(o,s)=>(n(),Z(ne,null,{default:D(()=>[a.value?(n(),r("div",qe,[e("div",{class:"absolute left-4 top-4 z-10"},[e("button",{onClick:E,class:"flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm text-base-content shadow-lg transition-all duration-200 hover:bg-base-200"},[We,P(" Metne Dön ")])]),R(oe,{write:c.value},null,8,["write"])])):(n(),r("div",ae,[e("div",ie,[e("div",ce,[e("div",de,[u.value?(n(),r("div",ue,ve)):(n(),r(S,{key:1},[e("h1",be,w(c.value.title),1),e("div",_e,w(U(c.value.created_at)),1)],64))]),u.value?_("",!0):(n(),r("div",me,[e("button",{onClick:E,class:M(["flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm transition-all duration-200 hover:bg-base-200",a.value?"border-primary bg-primary text-primary-content":"text-base-content"])},[(n(),r("svg",pe,[a.value?(n(),r("path",we)):(n(),r("path",ge))])),P(" "+w(a.value?"Metni Göster":"Çizimi Göster"),1)],2),j(F).user?(n(),r("div",xe,[R(j(ee),{href:o.route("writes.edit",c.value.slug),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300",title:"Düzenle"},{default:D(()=>[ke]),_:1},8,["href"]),e("button",{onClick:s[0]||(s[0]=t=>Q(c.value.id)),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-error transition-all duration-200 hover:bg-error hover:text-error-content",title:"Sil"},Ce)])):_("",!0)])),u.value?(n(),r("div",Me,He)):(n(),r("div",Oe,[e("div",Ne,[v.value?(n(),r("div",{key:0,class:"article-content ql-editor",ref_key:"contentRef",ref:m,innerHTML:j(T)},null,8,$e)):(n(),r("div",De,Re))])])),u.value?_("",!0):(n(),r("div",Ve,w(G(c.value.views_count))+" görüntülenme ",1))])])])),!u.value&&g.value&&!a.value?(n(),r("button",{key:2,onClick:L,class:"fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-primary text-primary-content shadow-lg transition-all duration-200 hover:shadow-xl 2xl:hidden"},Ue)):_("",!0),!u.value&&g.value&&!a.value?(n(),r("div",{key:3,class:M(["fixed right-0 top-0 z-40 h-full w-80 transform bg-base-100 shadow-2xl transition-transform duration-300 2xl:hidden",{"translate-x-full":!p.value}])},[e("div",Ge,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-4"},[Qe,e("button",{onClick:L,class:"btn btn-ghost btn-sm"},Ye)]),e("div",Je,[b.value.length===0?(n(),r("div",Xe," İçindekiler bulunamadı ")):(n(),r("div",Ze,[(n(!0),r(S,null,V(b.value,(t,i)=>(n(),r("div",{key:i,onClick:h=>H(t.id),class:M(["cursor-pointer rounded-lg p-2 text-sm transition-colors hover:bg-base-200",[O(t.level),N(t.id)]])},[e("span",tt,w(t.text),1)],10,et))),128))]))])])],2)):_("",!0),!u.value&&g.value&&!a.value?(n(),r("div",st,[e("div",ot,[nt,e("div",rt,[b.value.length===0?(n(),r("div",lt," İçindekiler bulunamadı ")):(n(),r("div",at,[(n(!0),r(S,null,V(b.value,(t,i)=>(n(),r("div",{key:i,onClick:h=>H(t.id),class:M(["cursor-pointer rounded p-2 text-xs transition-colors hover:bg-base-200",[O(t.level),N(t.id)]])},[e("span",ct,w(t.text),1)],10,it))),128))]))])])])):_("",!0),!u.value&&g.value&&p.value&&!a.value?(n(),r("div",{key:5,onClick:L,class:"fixed inset-0 z-30 bg-black/20 2xl:hidden"})):_("",!0)]),_:1}))}}),mt=re(dt,[["__scopeId","data-v-81fec0cd"]]);export{mt as default};
