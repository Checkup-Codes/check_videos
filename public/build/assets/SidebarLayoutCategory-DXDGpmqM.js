import{B as R,Q as j,b as g,W,g as m,y as G,s as H,H as b,X as K,Y as M,z as O,e as L,w as h,a as u,f as c,c as y,j as v,u as E,p as T,n as _,o as d,t as Q}from"./ssr-Dzsw7L2j.js";import{_ as U,a as X}from"./SubSidebarScreen-DPgfWZj2.js";import Y from"./CategoryTree-F_SUZQxd.js";import{u as q}from"./useSidebar-Ctz_MOWi.js";import F from"./IconMenu-C2WiSFOK.js";import J from"./IconFolder-BPS4Rp7O.js";import Z from"./IconChevronDown-D5lJBQDM.js";import{_ as ee}from"./app-BN30YLED.js";/* empty css            */const te={class:"relative z-10 shrink-0 border-b border-border bg-background p-2"},se={class:"flex items-center justify-between gap-2"},re={class:"flex items-center gap-1"},oe={key:0},ae={key:0},le={key:0,class:"flex items-center gap-1"},ne=["title"],ie={class:"text-xs"},ce=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(ue,{emit:$}){q();const r=R(),o=j(),N=g(()=>!!(o.props.auth&&o.props.auth.user)),C=g(()=>!1),f=W("categories",[]),B=g(()=>{const e=(f==null?void 0:f.value)??f;return e&&Array.isArray(e)&&e.length>0?e:o.props.categories&&Array.isArray(o.props.categories)&&o.props.categories.length>0?o.props.categories:[]}),a=g(()=>r.getters["CategorySidebar/collapsedSet"].size===0),P=()=>"",V=m(!0),z=m(null),l=m(r.getters["Writes/isCollapsed"]),n=m(null),D=$;G(l,e=>{D("update:isNarrow",e)});const S=e=>{if(!e||!Array.isArray(e)||e.length===0)return[];let t=[];return e.forEach(s=>{s&&s.id&&(t.push(s.id),s.children&&Array.isArray(s.children)&&s.children.length>0&&(t=t.concat(S(s.children))))}),t},I=()=>{const e=B.value;if(!(!e||e.length===0))if(a.value){const t=S(e);t.length>0&&r.dispatch("CategorySidebar/collapseAll",t)}else r.dispatch("CategorySidebar/expandAll")};let i=null;const p=()=>{var e,t,s;return(t=(e=n.value)==null?void 0:e.$el)!=null&&t.value?n.value.$el.value:(s=n.value)!=null&&s.$el?n.value.$el:n.value},x=()=>{const e=p();if(e){const t=e.scrollTop||0;r.dispatch("CategorySidebar/setScrollPosition",t)}},A=()=>{b(()=>{const e=p();if(e){const t=r.getters["CategorySidebar/scrollPosition"];t>0&&(e.scrollTop=t)}})},k=()=>{const e=p();e&&!i&&(i=()=>x(),e.addEventListener("scroll",i,{passive:!0}))},w=()=>{const e=p();e&&i&&(e.removeEventListener("scroll",i),i=null)};return H(()=>{l.value=r.getters["Writes/isCollapsed"],b(()=>{k(),A()})}),K(()=>{b(()=>{k(),A()})}),M(()=>{x(),w()}),O(()=>{x(),w()}),(e,t)=>(d(),L(X,{isNarrow:l.value},{default:h(()=>[u("div",te,[u("div",se,[u("div",re,[c(E(T),{href:e.route("tests.index"),class:_(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",C.value?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"]),title:"Liste görünümü"},{default:h(()=>[c(F,{class:"h-3 w-3"}),l.value?v("",!0):(d(),y("span",oe,"Liste"))]),_:1},8,["href","class"]),c(E(T),{href:e.route("test-categories.index"),class:_(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",C.value?"text-muted-foreground hover:bg-accent hover:text-accent-foreground":"bg-accent text-accent-foreground"]),title:"Kategori görünümü"},{default:h(()=>[c(J,{class:"h-3 w-3"}),l.value?v("",!0):(d(),y("span",ae,"Kategori"))]),_:1},8,["href","class"])]),N.value?(d(),y("div",le,[u("button",{onClick:I,class:_(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":a.value}]),title:a.value?"Tümünü Daralt":"Tümünü Genişlet"},[c(Z,{class:_(["h-3 w-3 transition-transform duration-200",{"rotate-180":a.value}])},null,8,["class"]),u("span",ie,Q(a.value?"Daralt":"Genişlet"),1)],10,ne)])):v("",!0)])]),c(U,{ref_key:"scrollableRef",ref:n,class:"sidebar-content-embedded min-h-0 flex-1",infoClass:"flex-1 min-h-0"},{default:h(()=>[V.value?(d(),L(Y,{key:0,ref_key:"categoryTreeRef",ref:z,getLinkClasses:P,expandAll:a.value,isCollapsed:l.value},null,8,["expandAll","isCollapsed"])):v("",!0)]),_:1},512)]),_:1},8,["isNarrow"]))}}),be=ee(ce,[["__scopeId","data-v-62e53e01"]]);export{be as default};
