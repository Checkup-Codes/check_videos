import{_ as v}from"./CheckSubsidebar-DcLbMYOt.js";import{_ as E}from"./SubSidebarScreen-Cyd94eXZ.js";import k from"./CategoryTree-DSL09C-s.js";import L from"./PerformanceMonitorButton-DCfJT2FE.js";import{_ as N}from"./TopSubsidebar-D43VEMnl.js";import{u as T}from"./useSidebar-FCr0Kiy3.js";import{_ as B,a1 as R,a0 as I,i as p,r as c,C as M,x as $,c as o,o as r,w as d,a as f,h as m,u as g,Y as j}from"./app-CbroPFOm.js";const K=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(O,{emit:_}){const{shouldShowPerformanceMonitor:h,performanceData:C}=T(),s=R(),n=I("categories",[]);p(()=>n.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0));const l=p(()=>s.getters["CategorySidebar/collapsedSet"].size===0),y=()=>"",x=c(!0),b=c(null),i=c(!1),w=_,S=e=>{i.value=e};M(i,e=>{w("update:isNarrow",e)});const u=e=>{let a=[];return e.forEach(t=>{a.push(t.id),t.children&&t.children.length>0&&(a=a.concat(u(t.children)))}),a},A=()=>{if(l.value){const e=u(n);s.dispatch("CategorySidebar/collapseAll",e)}else s.dispatch("CategorySidebar/expandAll")};return $(()=>{console.log("SidebarLayoutCategory categories:",n)}),(e,a)=>(r(),o(v,{isNarrow:i.value},{default:d(()=>[f(N,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:l.value,onToggleExpand:A,onToggleWidth:S,class:"border-base-200"},{actions:d(()=>[g(h)?(r(),o(L,{key:0,performance:g(C)},null,8,["performance"])):m("",!0)]),_:1},8,["isExpanded"]),f(E,null,{default:d(()=>[(r(),o(j,null,[x.value?(r(),o(k,{key:0,ref_key:"categoryTreeRef",ref:b,getLinkClasses:y,expandAll:l.value},null,8,["expandAll"])):m("",!0)],1024))]),_:1})]),_:1},8,["isNarrow"]))}}),q=B(K,[["__scopeId","data-v-db3a6d31"]]);export{q as default};
