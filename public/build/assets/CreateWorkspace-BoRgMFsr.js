import{Q as z,b as B,T as D,g as L,c as a,f as m,u as n,Z as A,w as f,a as e,p as w,k as u,h as E,j as g,o as d,F as b,l as h,t as x,i as p,E as _,m as v}from"./ssr-DHg8KZh6.js";import{_ as T}from"./CheckScreen-C-Gqrok2.js";const F={class:"mx-auto max-w-4xl py-8"},N={class:"mb-8"},P={class:"relative"},R={key:0,class:"mt-3 grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},H=["src"],S=["onClick"],Y={key:1,class:"mt-1 text-sm text-destructive"},I={class:"flex gap-4"},K={class:"flex cursor-pointer items-center gap-2"},q={class:"flex cursor-pointer items-center gap-2"},G={class:"rounded-lg border border-border bg-card p-6"},O={key:0,class:"py-8 text-center text-sm text-muted-foreground"},Q={key:1,class:"space-y-4"},W={class:"mb-4 flex items-center justify-between"},Z={class:"text-sm font-medium text-foreground"},J=["onClick"],X={class:"space-y-4"},ee=["for"],te=["id","onUpdate:modelValue"],re=["for"],oe=["id","onUpdate:modelValue"],se=["for"],le=["id","onUpdate:modelValue"],ne={class:"flex items-center gap-3 pt-4"},ie=["disabled"],ae={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ce={__name:"CreateWorkspace",setup(de){const y=z(),C=B(()=>{var s,t,r,l,i,k;return((r=(t=(s=y.props)==null?void 0:s.screen)==null?void 0:t.seo)==null?void 0:r.title)||((k=(i=(l=y.props)==null?void 0:l.app)==null?void 0:i.seo)==null?void 0:k.title)||"Yeni Çalışma Alanı"}),o=D({images:[],status:"published",products:[]}),c=L([]),V=s=>{const t=Array.from(s.target.files);o.images=t,c.value=t.map(r=>URL.createObjectURL(r))},$=s=>{o.images.splice(s,1),c.value.splice(s,1)},M=()=>{o.products.push({name:"",features:"",link:""})},U=s=>{o.products.splice(s,1)},j=()=>{const s=new FormData;o.images.forEach((t,r)=>{s.append(`images[${r}]`,t)}),s.append("status",o.status),o.products.forEach((t,r)=>{s.append(`products[${r}][name]`,t.name),t.features&&s.append(`products[${r}][features]`,t.features),t.link&&s.append(`products[${r}][link]`,t.link)}),o.transform(()=>s).post("/workspace",{forceFormData:!0})};return(s,t)=>(d(),a(b,null,[m(n(A),{title:C.value},null,8,["title"]),m(T,null,{default:f(()=>[e("div",F,[e("div",N,[m(n(w),{href:"/workspace",class:"mb-4 inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground"},{default:f(()=>[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),u(" Geri ",-1)])]),_:1}),t[3]||(t[3]=e("h1",{class:"text-3xl font-bold tracking-tight text-foreground"},"Yeni Çalışma Alanı",-1)),t[4]||(t[4]=e("p",{class:"mt-2 text-muted-foreground"},"Çalışma alanınızı ve ürünlerinizi ekleyin.",-1))]),e("form",{onSubmit:E(j,["prevent"]),class:"space-y-6"},[e("div",null,[t[6]||(t[6]=e("label",{for:"images",class:"mb-2 block text-sm font-medium text-foreground"}," Resimler ",-1)),e("div",P,[e("input",{id:"images",type:"file",accept:"image/*",multiple:"",onChange:V,class:"w-full cursor-pointer rounded-lg border border-input bg-background px-4 py-2.5 text-foreground file:mr-4 file:rounded-md file:border-0 file:bg-primary file:px-4 file:py-1 file:text-sm file:font-medium file:text-primary-foreground hover:file:bg-primary/90"},null,32)]),c.value.length>0?(d(),a("div",R,[(d(!0),a(b,null,h(c.value,(r,l)=>(d(),a("div",{key:l,class:"relative group"},[e("img",{src:r,alt:"Preview",class:"h-32 w-full rounded-lg border border-border object-cover"},null,8,H),e("button",{type:"button",onClick:i=>$(l),class:"absolute right-2 top-2 rounded-full bg-destructive p-1.5 text-white opacity-0 transition-opacity group-hover:opacity-100"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,S)]))),128))])):g("",!0),n(o).errors.images?(d(),a("p",Y,x(n(o).errors.images),1)):g("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Durum",-1)),e("div",I,[e("label",K,[p(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=r=>n(o).status=r),value:"published",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[_,n(o).status]]),t[7]||(t[7]=e("span",{class:"text-sm text-foreground"},"Yayınla",-1))]),e("label",q,[p(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=r=>n(o).status=r),value:"draft",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[_,n(o).status]]),t[8]||(t[8]=e("span",{class:"text-sm text-foreground"},"Taslak",-1))])])]),e("div",G,[e("div",{class:"mb-4 flex items-center justify-between"},[t[11]||(t[11]=e("h2",{class:"text-lg font-semibold text-foreground"},"Ürünler",-1)),e("button",{type:"button",onClick:M,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" Ürün Ekle ",-1)])])]),n(o).products.length===0?(d(),a("div",O," Henüz ürün eklenmedi. ")):(d(),a("div",Q,[(d(!0),a(b,null,h(n(o).products,(r,l)=>(d(),a("div",{key:l,class:"rounded-lg border border-border bg-background p-4"},[e("div",W,[e("h3",Z,"Ürün "+x(l+1),1),e("button",{type:"button",onClick:i=>U(l),class:"rounded-lg p-1.5 text-destructive transition-colors hover:bg-destructive/10"},[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,J)]),e("div",X,[e("div",null,[e("label",{for:`product-name-${l}`,class:"mb-1 block text-xs font-medium text-foreground"},[...t[13]||(t[13]=[u(" İsim ",-1),e("span",{class:"text-destructive"},"*",-1)])],8,ee),p(e("input",{id:`product-name-${l}`,"onUpdate:modelValue":i=>r.name=i,type:"text",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Ürün adı",required:""},null,8,te),[[v,r.name]])]),e("div",null,[e("label",{for:`product-features-${l}`,class:"mb-1 block text-xs font-medium text-foreground"}," Özellikler ",8,re),p(e("textarea",{id:`product-features-${l}`,"onUpdate:modelValue":i=>r.features=i,rows:"3",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Ürün özelliklerini buraya yazın..."},null,8,oe),[[v,r.features]])]),e("div",null,[e("label",{for:`product-link-${l}`,class:"mb-1 block text-xs font-medium text-foreground"}," Satın Alma Linki ",8,se),p(e("input",{id:`product-link-${l}`,"onUpdate:modelValue":i=>r.link=i,type:"url",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"https://..."},null,8,le),[[v,r.link]])])])]))),128))]))]),e("div",ne,[e("button",{type:"submit",disabled:n(o).processing,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-2.5 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50"},[n(o).processing?(d(),a("svg",ae,[...t[14]||(t[14]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):g("",!0),u(" "+x(n(o).processing?"Kaydediliyor...":"Kaydet"),1)],8,ie),m(n(w),{href:"/workspace",class:"inline-flex items-center gap-2 rounded-lg border border-border bg-card px-6 py-2.5 text-sm font-medium text-foreground transition-colors hover:bg-accent"},{default:f(()=>[...t[15]||(t[15]=[u(" İptal ",-1)])]),_:1})])],32)])]),_:1})],64))}};export{ce as default};
