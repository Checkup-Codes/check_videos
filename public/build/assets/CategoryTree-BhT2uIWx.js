import{_ as W,a2 as I,r as x,i as k,Q as G,Y as J,k as K,g as o,o as l,b as e,h as i,j as y,m as P,u as b,n as d,F as C,s as z,I as U,J as Y,a as S,w as B,t as p,e as O,p as V,z as F}from"./app-DXJXcAPF.js";/* empty css            */const u=h=>(U("data-v-4c1946fd"),h=h(),Y(),h),R={class:"mb-3"},X={key:0,class:"mb-3 flex gap-2"},Z={class:""},ee={class:"flex w-full items-center"},te={class:"flex items-center justify-between"},se={class:"flex items-center gap-2"},ne={key:0,class:"opacity-70"},oe=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),le=[oe],re=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),ae=[re],ie={class:"font-medium"},de=["onClick"],ce=u(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),ue=[ce],pe={class:"flex items-center gap-2"},he={class:"badge badge-sm"},_e={key:0,class:"mt-1 pl-4"},ve={class:"flex w-full items-center"},me={class:"flex items-center justify-between"},be={class:"flex items-center gap-2"},ge={key:0,class:"opacity-70"},fe=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),we=[fe],xe=["onClick"],ke=u(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),ye=[ke],Ce={class:"badge badge-xs"},ze={key:0,class:"mt-1 pl-3"},Se={class:"flex w-full items-center"},Be={class:"flex items-center justify-between"},Ve={class:"flex items-center gap-2"},$e={key:0,class:"opacity-70"},je=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),Me=[je],He={class:"badge badge-xs"},Le={key:1,class:"flex h-32 items-center justify-center text-center opacity-50"},Te=u(()=>e("div",null,"Henüz kategori bulunmuyor",-1)),Ae=[Te],Ie=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(h,{expose:N,emit:Oe}){const $=I("categories",[]),j=I("isAdmin",!1),g=x(""),c=x("all");function M(s,r,t){return s.map(n=>{const a=M(n.children||[],r,t),Q=n.name.toLowerCase().includes(r.toLowerCase());let w=!0;return j&&t!=="all"&&(t==="public"?w=n.status!=="hidden"&&n.status!=="link_only":w=n.status===t),Q&&w||a.length>0?{...n,children:a}:null}).filter(Boolean)}const H=k(()=>$.filter(s=>!s.parent_id||s.parent_id===null||s.parent_id==="null"||s.parent_id===0)),q=k(()=>M(H.value,g.value,c.value)),D=G(),_=k(()=>D.url),L=x(null),f=J(),v=s=>{let r=s.writes_count||0;return s.children&&s.children.length&&s.children.forEach(t=>{r+=v(t)}),r},E=(s=!0)=>{f.dispatch("CategorySidebar/expandAllCategories",s)},T=s=>{f.dispatch("CategorySidebar/toggleCollapse",s)},m=s=>f.getters["CategorySidebar/isCollapsed"](s),A=s=>{var t,n;return((t=s.writes)==null?void 0:t.some(a=>a.status==="link_only"))?!0:(n=s.children)!=null&&n.length?s.children.some(a=>A(a)):!1};return N({expandAllCategories:E,scrollContainer:L}),K(()=>{console.log("CategoryTree categories:",$)}),(s,r)=>(l(),o("div",{ref_key:"scrollContainer",ref:L,class:"space-y-1 p-3"},[e("div",R,[y(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>g.value=t),type:"text",class:"input-bordered input w-full",placeholder:"Kategori ara..."},null,512),[[P,g.value]])]),b(j)?(l(),o("div",X,[e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="all"}]),onClick:r[1]||(r[1]=t=>c.value="all")}," Tümü ",2),e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="public"}]),onClick:r[2]||(r[2]=t=>c.value="public")}," Herkese Açık ",2),e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="link_only"}]),onClick:r[3]||(r[3]=t=>c.value="link_only")}," Sadece Link ",2),e("button",{class:d(["btn btn-xs",{"btn-primary":c.value==="hidden"}]),onClick:r[4]||(r[4]=t=>c.value="hidden")}," Gizli ",2)])):i("",!0),e("ul",Z,[(l(!0),o(C,null,z(q.value,t=>(l(),o("li",{key:t.id,class:"mb-1"},[e("div",ee,[S(b(V),{href:s.route("categories.show",{category:t.slug}),class:d(["block flex-grow items-center rounded-lg border px-3 py-2 backdrop-blur-md transition-all duration-200",_.value===`/categories/${t.slug}`?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"])},{default:B(()=>[e("div",te,[e("div",se,[t.status==="hidden"?(l(),o("span",ne,le)):i("",!0),A(t)?(l(),o("span",{key:1,class:d([_.value===`/categories/${t.slug}`?"text-primary-content":"text-primary"])},ae,2)):i("",!0),e("span",ie,p(t.name),1),t.children.length?(l(),o("button",{key:2,onClick:O(n=>T(t.id),["prevent","stop"]),class:"btn btn-ghost btn-sm btn-square"},[(l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-4 w-4 transition-transform",{"rotate-180":!m(t.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ue,2))],8,de)):i("",!0)]),e("div",pe,[e("div",he,p(v(t)),1)])])]),_:2},1032,["href","class"])]),t.children.length?y((l(),o("ul",_e,[(l(!0),o(C,null,z(t.children,n=>(l(),o("li",{key:n.id,class:"mb-1"},[e("div",ve,[S(b(V),{href:s.route("categories.show",{category:n.slug}),class:d(["block flex-grow items-center rounded-lg border px-3 py-2 backdrop-blur-md transition-all duration-200",_.value===`/categories/${n.slug}`?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"])},{default:B(()=>[e("div",me,[e("div",be,[n.status==="hidden"||n.parent_hidden?(l(),o("span",ge,we)):i("",!0),e("span",null,p(n.name),1),n.children.length?(l(),o("button",{key:1,onClick:O(a=>T(n.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-3 w-3 transition-transform",{"rotate-180":!m(n.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ye,2))],8,xe)):i("",!0)]),e("div",Ce,p(v(n)),1)])]),_:2},1032,["href","class"])]),n.children.length?y((l(),o("ul",ze,[(l(!0),o(C,null,z(n.children,a=>(l(),o("li",{key:a.id,class:"mt-1"},[e("div",Se,[S(b(V),{href:s.route("categories.show",{category:a.slug}),class:d(["block flex-grow items-center rounded-lg border px-3 py-1.5 text-xs backdrop-blur-md transition-all duration-200",_.value===`/categories/${a.slug}`?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"])},{default:B(()=>[e("div",Be,[e("div",Ve,[a.status==="hidden"||a.parent_hidden?(l(),o("span",$e,Me)):i("",!0),e("span",null,p(a.name),1)]),e("div",He,p(v(a)),1)])]),_:2},1032,["href","class"])])]))),128))],512)),[[F,!m(n.id)]]):i("",!0)]))),128))],512)),[[F,!m(t.id)]]):i("",!0)]))),128))]),H.value.length===0?(l(),o("div",Le,Ae)):i("",!0)],512))}}),qe=W(Ie,[["__scopeId","data-v-4c1946fd"]]);export{qe as default};
