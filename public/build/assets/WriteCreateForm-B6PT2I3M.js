import{Q as w,l as _,T as x,L as v,c as z,o as d,w as m,a as u,u as e,b as t,j as c,g as n,h as g,n as b,D as y,t as p,F as U,m as S,v as Y,N as B}from"./app-bzSXT2H4.js";import C from"./Form-CmBh1zsU.js";import D from"./RichTextEditor-CELz3emE.js";import i from"./TextField-CIDH9GTA.js";import K from"./KeyboardShortcutDisabler-Ds-pn_1w.js";/* empty css            */import"./Card-Bi_zJmfE.js";import"./Button-CLA9W97u.js";import"./quill.snow-Bbpb3l1m.js";/* empty css                                                       */const j=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),L={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},N={class:"md:col-span-2"},$={class:"md:col-span-2"},E={class:"md:col-span-2"},M=t("label",{class:"label"},[t("span",{class:"label-text"},"Durumu")],-1),O=t("option",{value:"draft"},"Şablon",-1),T=t("option",{value:"published"},"Yayında",-1),G=t("option",{value:"private"},"Gizli",-1),H=[O,T,G],R={key:0,class:"label"},W={class:"label-text-alt text-error"},A=t("label",{class:"label"},[t("span",{class:"label-text"},"Kategori")],-1),Q=t("option",{value:"",disabled:""},"Kategori seç",-1),q=["value"],F={key:0,class:"label"},I={class:"label-text-alt text-error"},J={class:"flex items-center space-x-2"},P={class:"label cursor-pointer justify-start gap-2"},X=t("span",{class:"label-text"},"Çizim İçerir",-1),ne={__name:"WriteCreateForm",setup(Z){const{props:h}=w(),V=_(h.categories),l=x({title:"",slug:"",content:"",published_at:"",summary:"",status:"draft",category_id:"",cover_image:"",seo_keywords:"",tags:"",views_count:0,hasDraw:!1}),a=_({title:"",slug:"",content:"",published_at:"",summary:"",status:"",category_id:"",cover_image:"",seo_keywords:"",tags:""}),f=()=>{a.value.title=l.title?"":"Başlık zorunludur.",a.value.slug=l.slug?"":"Slug zorunludur.",a.value.content=l.content?"":"İçerik zorunludur.",a.value.published_at=l.published_at?"":"Yayınlama tarihi zorunludur.",a.value.summary=l.summary?"":"Özet zorunludur.",a.value.category_id=l.category_id?"":"Kategori seçilmelidir."},k=()=>{f(),Object.values(a.value).some(s=>s!=="")||l.post(route("writes.store"),{onSuccess:s=>{B.visit(route("dashboard"))},onError:s=>{console.error("Form submission errors:",s)}})};return v(l,s=>{s.title&&(a.value.title=""),s.slug&&(a.value.slug=""),s.content&&(a.value.content=""),s.published_at&&(a.value.published_at=""),s.summary&&(a.value.summary=""),s.category_id&&(a.value.category_id="")},{deep:!0}),v(()=>l.title,s=>{l.slug=s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}),(s,r)=>(d(),z(e(K),null,{default:m(()=>[u(e(C),{title:"Yeni Yazı Oluştur",submitText:"Yazıyı Kaydet",loading:e(l).processing,onSubmit:k},{icon:m(()=>[j]),default:m(()=>[t("div",L,[t("div",N,[u(e(i),{modelValue:e(l).title,"onUpdate:modelValue":r[0]||(r[0]=o=>e(l).title=o),label:"Başlık",placeholder:"Yazının başlığını girin",error:a.value.title||e(l).errors.title},null,8,["modelValue","error"])]),t("div",null,[u(e(i),{modelValue:e(l).slug,"onUpdate:modelValue":r[1]||(r[1]=o=>e(l).slug=o),label:"Slug",placeholder:"örnek-yazı-slug",error:a.value.slug||e(l).errors.slug},null,8,["modelValue","error"])]),t("div",null,[u(e(i),{modelValue:e(l).published_at,"onUpdate:modelValue":r[2]||(r[2]=o=>e(l).published_at=o),label:"Yayınlama Tarihi",type:"datetime-local",error:a.value.published_at||e(l).errors.published_at},null,8,["modelValue","error"])]),t("div",$,[u(e(i),{modelValue:e(l).summary,"onUpdate:modelValue":r[3]||(r[3]=o=>e(l).summary=o),label:"Özet",type:"textarea",rows:"3",placeholder:"Yazının kısa özeti",error:a.value.summary||e(l).errors.summary},null,8,["modelValue","error"])]),t("div",E,[u(e(D),{modelValue:e(l).content,"onUpdate:modelValue":r[4]||(r[4]=o=>e(l).content=o),label:"İçerik",height:"400px",error:a.value.content||e(l).errors.content},null,8,["modelValue","error"])]),t("div",null,[M,c(t("select",{"onUpdate:modelValue":r[5]||(r[5]=o=>e(l).status=o),class:b(["select select-bordered w-full",{"select-error":a.value.status||e(l).errors.status}])},H,2),[[y,e(l).status]]),a.value.status||e(l).errors.status?(d(),n("label",R,[t("span",W,p(a.value.status||e(l).errors.status),1)])):g("",!0)]),t("div",null,[A,c(t("select",{"onUpdate:modelValue":r[6]||(r[6]=o=>e(l).category_id=o),class:b(["select select-bordered w-full",{"select-error":a.value.category_id||e(l).errors.category_id}])},[Q,(d(!0),n(U,null,S(V.value,o=>(d(),n("option",{key:o.id,value:o.id},p(o.name),9,q))),128))],2),[[y,e(l).category_id]]),a.value.category_id||e(l).errors.category_id?(d(),n("label",F,[t("span",I,p(a.value.category_id||e(l).errors.category_id),1)])):g("",!0)]),t("div",null,[u(e(i),{modelValue:e(l).cover_image,"onUpdate:modelValue":r[7]||(r[7]=o=>e(l).cover_image=o),label:"Kapak Resmi URL",placeholder:"https://example.com/image.jpg",error:a.value.cover_image||e(l).errors.cover_image},null,8,["modelValue","error"])]),t("div",null,[u(e(i),{modelValue:e(l).tags,"onUpdate:modelValue":r[8]||(r[8]=o=>e(l).tags=o),label:"Etiketler",placeholder:"etiket1, etiket2, etiket3",error:a.value.tags||e(l).errors.tags},null,8,["modelValue","error"])]),t("div",null,[u(e(i),{modelValue:e(l).seo_keywords,"onUpdate:modelValue":r[9]||(r[9]=o=>e(l).seo_keywords=o),label:"SEO Anahtar Kelimeleri",placeholder:"anahtar1, anahtar2, anahtar3",error:a.value.seo_keywords||e(l).errors.seo_keywords},null,8,["modelValue","error"])]),t("div",null,[u(e(i),{modelValue:e(l).views_count,"onUpdate:modelValue":r[10]||(r[10]=o=>e(l).views_count=o),label:"Görüntülenme Sayısı",type:"number",readonly:""},null,8,["modelValue"])]),t("div",J,[t("label",P,[c(t("input",{type:"checkbox","onUpdate:modelValue":r[11]||(r[11]=o=>e(l).hasDraw=o),class:"checkbox checkbox-primary"},null,512),[[Y,e(l).hasDraw]]),X])])])]),_:1},8,["loading"])]),_:1}))}};export{ne as default};
