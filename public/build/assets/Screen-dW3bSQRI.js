import{Q as j,l as r,y as B,x as k,i as C,g as n,b as s,F as p,m as h,n as x,h as I,t as c,j as L,q as E,o as i,s as N}from"./app-lwMQyQHq.js";/* empty css            */const A={class:"grid grid-cols-1 p-5 leading-loose"},F={class:"rounded-lg bg-white p-3 shadow-lg"},H={key:0,class:"space-y-4"},Q=N('<div class="h-28 w-40 flex-shrink-0 rounded-lg bg-gray-200 md:w-52"></div><div class="flex-1 space-y-4 py-1"><div class="h-4 w-3/4 rounded bg-gray-200"></div><div class="h-4 w-1/2 rounded bg-gray-200"></div><div class="h-4 w-1/3 rounded bg-gray-200"></div></div>',2),U=[Q],X={key:1,class:"mt-6 space-y-4"},Y={class:"mb-4 h-28 w-full flex-shrink-0 md:mb-0 md:w-40 lg:w-52"},q=["src"],G={class:"w-full md:px-12"},O=["href"],J={class:"text-sm text-gray-500"},W={class:"text-sm text-gray-500"},Z={class:"text-sm text-gray-500"},ee={class:"mt-6 flex items-center justify-center space-x-2"},te=["disabled"],se={key:0},ae=["onClick"],le={key:1},oe=["disabled"],ne={class:"mt-6 rounded-lg bg-white p-6 shadow-lg"},ie=s("h2",{class:"mb-4 text-2xl font-semibold text-gray-800"},"Keywords",-1),P="https://www.googleapis.com/youtube/v3",z=10,ue={__name:"Screen",setup(re){const{props:S}=j(),$=r(S.lesson),_="AIzaSyCoIcX9-KNL9aOYwsvdDpflXxHImczwFlQ",D=r($.value.playlist_id),g=r([]),v=r(!1),a=r(1),b=r(null),T=r(null),w=r(0);B(()=>{f()});const f=async(l="")=>{v.value=!0,g.value=[];try{const t=await k.get(`${P}/playlistItems`,{params:{part:"snippet",playlistId:D.value,maxResults:z,pageToken:l,key:_}}),e=t.data.items.map(o=>o.snippet.resourceId.videoId);w.value=t.data.pageInfo.totalResults;const u=await k.get(`${P}/videos`,{params:{part:"snippet,contentDetails,statistics",id:e.join(","),key:_}});g.value=u.data.items.map(o=>({id:o.id,title:o.snippet.title,thumbnail:o.snippet.thumbnails.default.url,duration:K(o.contentDetails.duration),viewCount:o.statistics.viewCount.toLocaleString(),likeCount:o.statistics.likeCount.toLocaleString()})),b.value=t.data.nextPageToken||null,T.value=l||null}catch(t){console.error("Error fetching videos:",t)}finally{v.value=!1}},d=C(()=>Math.ceil(w.value/z)),V=C(()=>{const l=[],t=d.value;if(a.value>2&&a.value<t-1)for(let e=a.value-1;e<=a.value+1;e++)l.push(e);else if(a.value<=2)for(let e=2;e<=Math.min(3,t-1);e++)l.push(e);else if(a.value>=t-1)for(let e=Math.max(t-2,2);e<t;e++)l.push(e);return l}),m=l=>{a.value=l,f(l===1?"":b.value)},K=l=>{const t=/PT(\d+H)?(\d+M)?(\d+S)?/,e=l.match(t),u=e[1]?e[1].slice(0,-1):"00",o=e[2]?e[2].slice(0,-1):"00",R=e[3]?e[3].slice(0,-1):"00";return`${u}:${o}:${R}`},y=r("yazılım öğrenme yolları, yazılım öğrenme siteleri, yazılım öğrenme platformları, yazılım öğrenme kitapları, yazılım öğrenme videoları, yazılım öğrenme uygulamaları"),M=()=>{navigator.clipboard.writeText(y.value),alert("Keywordler kopyalandı!")};return(l,t)=>(i(),n("div",A,[s("div",null,[s("div",F,[v.value?(i(),n("div",H,[(i(),n(p,null,h(10,e=>s("div",{key:e,class:"flex animate-pulse items-center space-x-4"},U)),64))])):(i(),n("ul",X,[(i(!0),n(p,null,h(g.value,e=>(i(),n("li",{key:e.id,class:"flex flex-col items-start rounded-lg bg-gray-100 p-4 shadow-sm md:flex-row md:items-center"},[s("div",Y,[s("img",{src:e.thumbnail,alt:"Video Thumbnail",class:"h-full w-full rounded-lg object-cover shadow-sm"},null,8,q)]),s("div",G,[s("a",{href:`https://www.youtube.com/watch?v=${e.id}`,target:"_blank",class:"text-md font-semibold text-gray-800 hover:underline md:text-lg"},c(e.title),9,O),s("p",J,"Süre: "+c(e.duration),1),s("p",W,"Görüntülenme: "+c(e.viewCount),1),s("p",Z,"Beğeniler: "+c(e.likeCount),1)])]))),128))])),s("div",ee,[s("button",{disabled:a.value===1,onClick:t[0]||(t[0]=e=>m(1)),class:x(["rounded px-3 py-2 text-sm transition-all hover:bg-gray-300",a.value===1?"bg-gray-800 text-white":"bg-gray-200 text-gray-800"])}," 1 ",10,te),a.value>3?(i(),n("span",se,"...")):I("",!0),(i(!0),n(p,null,h(V.value,e=>(i(),n("button",{key:e,onClick:u=>m(e),class:x(["rounded px-3 py-2 text-sm transition-all hover:bg-gray-300",a.value===e?"bg-gray-800 text-white":"bg-gray-200 text-gray-800"])},c(e),11,ae))),128)),a.value<d.value-2?(i(),n("span",le,"...")):I("",!0),s("button",{disabled:a.value===d.value,onClick:t[1]||(t[1]=e=>m(d.value)),class:x(["rounded px-3 py-2 text-sm transition-all hover:bg-gray-300",a.value===d.value?"bg-gray-800 text-white":"bg-gray-200 text-gray-800"])},c(d.value),11,oe)])]),s("div",ne,[ie,s("div",null,[L(s("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e),class:"h-40 w-full rounded border bg-gray-50 p-4 outline-none focus:ring-2 focus:ring-gray-500",placeholder:"Keywordleri virgülle ayrılmış şekilde girin",rows:"4"},null,512),[[E,y.value]]),s("div",{class:"flex justify-end"},[s("button",{onClick:M,class:"mt-3 w-1/3 rounded bg-gray-800 py-2 text-white transition-all hover:bg-gray-700"}," Kopyala ")])])])])]))}};export{ue as default};
