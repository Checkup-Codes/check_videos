import{S as E,r as C,p as h,Q as J,D as K,c as n,a as t,h as d,n as a,t as w,u as m,F as y,g as _,o as l,e as M,k as G,w as j,l as L,i as B,q as D}from"./ssr-COd_82OS.js";import{_ as R}from"./app-udAvpmnU.js";/* empty css            */const U={class:"mb-3 flex flex-wrap items-center gap-2"},X={key:0,class:"flex gap-2"},Y=["title"],Z={key:0,class:"ml-1"},ee={key:1,class:"hidden gap-2 sm:flex"},te={key:0},se={key:1},ne={key:0},le={key:1},oe={key:0},ie={key:1},ae={key:0},re={key:1},de={class:"relative inline-block sm:hidden"},ue={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},ve={class:"flex flex-col gap-1 py-1"},pe={class:"space-y-2"},ce={class:"flex items-center justify-between"},ge={class:"flex items-center gap-2"},we={key:0,class:"text-warning",title:"Gizli kategori"},be={key:1,class:"text-info",title:"Sadece link yazıları"},ke=["title"],fe={class:"flex items-center gap-2"},xe=["onClick"],he={class:"badge badge-sm"},me={key:0,class:"relative px-3 pb-3"},Ce={class:"space-y-1"},ye={class:"ml-8"},_e={class:"flex items-center justify-between"},Me={class:"flex items-center gap-2"},je={key:0,class:"text-warning",title:"Gizli kategori"},Be=["title"],ze={class:"flex items-center gap-2"},$e=["onClick"],Ve={class:"badge badge-xs"},Se={key:0,class:"relative mt-1"},Ae={class:"ml-8"},He={class:"flex items-center justify-between"},Te={class:"flex items-center gap-2"},Ee={key:0,class:"text-warning",title:"Gizli kategori"},Ge=["title"],Le={class:"badge badge-xs"},De={key:0,class:"flex h-32 items-center justify-center text-center opacity-50"},Fe=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1},expandAll:{type:Boolean,default:!1},enableExpandCollapse:{type:Boolean,default:!1}},emits:["update:expandAll","toggle-expand"],setup(z,{expose:F,emit:O}){const b=z,q=E("categories",[]),$=E("isAdmin",!1),r=C("all"),g=C(!1);function V(o,e){return o.map(s=>{const i=V(s.children||[],e);let c=!0;return $&&e!=="all"&&(e==="public"?c=s.status!=="hidden"&&s.status!=="link_only":c=s.status===e),c||i.length>0?{...s,children:i}:null}).filter(Boolean).sort((s,i)=>p(i)-p(s))}const N=h(()=>q.filter(o=>!o.parent_id||o.parent_id===null||o.parent_id==="null"||o.parent_id===0).sort((o,e)=>p(e)-p(o))),S=h(()=>V(N.value,r.value)),I=O,W=J(),v=h(()=>W.url),A=C(null),k=K(),f=h(()=>k.getters["CategorySidebar/collapsedSet"].size===0),P=()=>{I("toggle-expand")},p=o=>{let e=o.writes_count||0;return o.children&&o.children.length&&o.children.forEach(s=>{e+=p(s)}),e},Q=(o=!0)=>{k.dispatch("CategorySidebar/expandAllCategories",o)},H=o=>{k.dispatch("CategorySidebar/toggleCollapse",o)},x=o=>k.getters["CategorySidebar/isCollapsed"](o),T=o=>{var s,i;return((s=o.writes)==null?void 0:s.some(c=>c.status==="link_only"))?!0:(i=o.children)!=null&&i.length?o.children.some(c=>T(c)):!1};return F({expandAllCategories:Q,scrollContainer:A}),(o,e)=>(l(),n("div",{ref_key:"scrollContainer",ref:A,class:"category-tree-container space-y-1 overflow-y-auto p-3"},[t("div",U,[z.enableExpandCollapse?(l(),n("div",X,[t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":f.value}]),onClick:P,title:f.value?"Tümünü Daralt":"Tümünü Genişlet"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:a(["h-3.5 w-3.5 transition-transform duration-200",{"rotate-180":f.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),b.isCollapsed?d("",!0):(l(),n("span",Z,w(f.value?"Daralt":"Genişlet"),1))],10,Y)])):d("",!0),m($)?(l(),n("div",ee,[t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="all"}]),onClick:e[0]||(e[0]=s=>r.value="all")},[b.isCollapsed?(l(),n("span",te,[...e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])):(l(),n("span",se,"Tümü"))],2),t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="public"}]),onClick:e[1]||(e[1]=s=>r.value="public")},[b.isCollapsed?(l(),n("span",ne,[...e[11]||(e[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])])):(l(),n("span",le,"Herkese Açık"))],2),t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="link_only"}]),onClick:e[2]||(e[2]=s=>r.value="link_only")},[b.isCollapsed?(l(),n("span",oe,[...e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])])):(l(),n("span",ie,"Sadece Link"))],2),t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="hidden"}]),onClick:e[3]||(e[3]=s=>r.value="hidden")},[b.isCollapsed?(l(),n("span",ae,[...e[13]||(e[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])])):(l(),n("span",re,"Gizli"))],2)])):d("",!0),t("div",de,[t("button",{onClick:e[4]||(e[4]=s=>g.value=!g.value),class:"btn btn-ghost btn-xs"},[...e[14]||(e[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)])]),g.value?(l(),n("div",ue,[t("div",ve,[t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="all"}]),onClick:e[5]||(e[5]=s=>{r.value="all",g.value=!1})},[...e[15]||(e[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2),t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="public"}]),onClick:e[6]||(e[6]=s=>{r.value="public",g.value=!1})},[...e[16]||(e[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])],2),t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="link_only"}]),onClick:e[7]||(e[7]=s=>{r.value="link_only",g.value=!1})},[...e[17]||(e[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])],2),t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="hidden"}]),onClick:e[8]||(e[8]=s=>{r.value="hidden",g.value=!1})},[...e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])],2)])])):d("",!0)])]),t("div",pe,[(l(!0),n(y,null,_(S.value,s=>(l(),n("div",{key:s.id},[t("div",{class:a(["rounded-lg bg-base-100 transition-all duration-200",v.value===`/categories/${s.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},[M(m(B),{href:o.route("categories.show",{category:s.slug}),class:"block p-3"},{default:j(()=>[t("div",ce,[t("div",ge,[s.status==="hidden"?(l(),n("span",we,[...e[19]||(e[19]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):d("",!0),T(s)?(l(),n("span",be,[...e[20]||(e[20]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)])])):d("",!0),t("h3",{class:a(["max-w-[120px] truncate text-sm font-medium leading-tight",v.value===`/categories/${s.slug}`?"text-base-100":"text-base-content"]),title:s.name},w(s.name),11,ke)]),t("div",fe,[s.children.length?(l(),n("button",{key:0,onClick:L(i=>H(s.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:a(["h-3 w-3 transition-transform",{"rotate-180":!x(s.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,xe)):d("",!0),t("div",he,w(p(s)),1)])])]),_:2},1032,["href"]),s.children.length?G((l(),n("div",me,[e[28]||(e[28]=t("div",{class:"absolute left-6 top-0 h-full w-px bg-base-300"},null,-1)),t("div",Ce,[(l(!0),n(y,null,_(s.children,(i,c)=>(l(),n("div",{key:i.id,class:"relative"},[e[27]||(e[27]=t("div",{class:"absolute left-6 top-3 h-px w-4 bg-base-300"},null,-1)),t("div",ye,[M(m(B),{href:o.route("categories.show",{category:i.slug}),class:a(["block rounded-md p-2 transition-all duration-200",v.value===`/categories/${i.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},{default:j(()=>[t("div",_e,[t("div",Me,[i.status==="hidden"||i.parent_hidden?(l(),n("span",je,[...e[22]||(e[22]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):d("",!0),t("span",{class:a(["max-w-[100px] truncate text-sm font-medium",v.value===`/categories/${i.slug}`||v.value===`/categories/${s.slug}`?"text-base-100":"text-base-content"]),title:i.name},w(i.name),11,Be)]),t("div",ze,[i.children.length?(l(),n("button",{key:0,onClick:L(u=>H(i.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:a(["h-3 w-3 transition-transform",{"rotate-180":!x(i.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,$e)):d("",!0),t("div",Ve,w(p(i)),1)])])]),_:2},1032,["href","class"]),i.children.length?G((l(),n("div",Se,[e[26]||(e[26]=t("div",{class:"absolute left-4 top-0 h-full w-px bg-base-300"},null,-1)),(l(!0),n(y,null,_(i.children,(u,Oe)=>(l(),n("div",{key:u.id,class:"relative"},[e[25]||(e[25]=t("div",{class:"absolute left-4 top-3 h-px w-4 bg-base-300"},null,-1)),t("div",Ae,[M(m(B),{href:o.route("categories.show",{category:u.slug}),class:a(["block rounded-md p-2 transition-all duration-200",v.value===`/categories/${u.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},{default:j(()=>[t("div",He,[t("div",Te,[u.status==="hidden"||u.parent_hidden?(l(),n("span",Ee,[...e[24]||(e[24]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):d("",!0),t("span",{class:a(["max-w-[80px] truncate text-xs font-medium",v.value===`/categories/${u.slug}`||v.value===`/categories/${s.slug}`?"text-base-100":"text-base-content"]),title:u.name},w(u.name),11,Ge)]),t("div",Le,w(p(u)),1)])]),_:2},1032,["href","class"])])]))),128))],512)),[[D,!x(i.id)]]):d("",!0)])]))),128))])],512)),[[D,!x(s.id)]]):d("",!0)],2)]))),128)),S.value.length===0?(l(),n("div",De,[...e[29]||(e[29]=[t("div",null,"Henüz kategori bulunmuyor",-1)])])):d("",!0)])],512))}}),We=R(Fe,[["__scopeId","data-v-4f6d3747"]]);export{We as default};
