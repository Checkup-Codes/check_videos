import{p as M,L as R,Q as X,r as u,W as Z,X as q,s as k,K as b,m as ee,z as te,c as a,o as i,a as e,h as y,k as se,v as ne,u as D,n as d,J as z,F as oe,g as le,S as ie,U as ae,j as re,w as ce,t as B,f as ue,i as de}from"./ssr-BySCZBCh.js";import{_ as ve}from"./app-mNG7N0o1.js";/* empty css            */const r=g=>(ie("data-v-3e7c00e8"),g=g(),ae(),g),he={class:"mb-3"},pe={key:0,class:"mb-3"},we={class:"hidden gap-2 sm:flex"},fe={key:0},ge=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),me=[ge],_e={key:1},ke={key:0},be=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),ye=[be],xe={key:1},Ce={key:0},Se=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),Me=[Se],je={key:1},Le={key:0},ze=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),Be=[ze],Ie={key:1},$e={class:"relative inline-block sm:hidden"},Te=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)),Ae=[Te],We={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},Ee={class:"flex flex-col gap-1 py-1"},He=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),Ve=[He],Fe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),Ne=[Fe],De=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),Pe=[De],Je=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),Oe=[Je],Qe={class:"mb-1 flex items-center gap-2"},Ue={key:0},Ye=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),Ke=[Ye],Ge=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),Re=[Ge],Xe={class:"truncate"},Ze={class:"text-base-content/70 flex justify-between text-xs"},qe={class:"flex items-center gap-1"},et=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-[14px] w-[14px]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1)),tt={key:1,class:"flex h-32 items-center justify-center text-center opacity-50"},st=r(()=>e("div",null,"Henüz yazı bulunmuyor",-1)),nt=[st],x=80,P=5,ot=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(g,{expose:J}){const v=g,I=M(()=>{if(v.writes&&v.writes.length>0)return v.writes;const s=R("writes",[]);return s&&s.length>0?s:[]}),$=X(),T=$.props.isAdmin||!1,c=u(null),O=u(null);let p=!1;const j=u(""),C=u(""),w=u(""),o=u("all"),h=u(!1),L=u(0),A=u(0),W=u(0);let S=null;const Q=()=>{clearTimeout(S),S=setTimeout(()=>{w.value=C.value},300)},U=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return route("categories.showByCategory",{category:l,slug:s.slug})}}return route("writes.show",{write:s.slug})},E=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return`/categories/${l}/${s.slug}`}}return`/writes/${s.slug}`},m=M(()=>{let s=I.value;return w.value&&(s=s.filter(t=>t.title.toLowerCase().includes(w.value.toLowerCase()))),T?(o.value==="published"?s=s.filter(t=>t.status==="published"):o.value==="link_only"?s=s.filter(t=>t.status==="link_only"):o.value==="private"&&(s=s.filter(t=>t.status==="private")),s):(s=s.filter(t=>t.status!=="private"),s)}),Y=M(()=>m.value.length*x),K=M(()=>m.value.slice(L.value,A.value)),f=()=>{if(!c.value)return;const s=c.value.scrollTop,t=c.value.clientHeight;L.value=Math.max(0,Math.floor(s/x)-P),A.value=Math.min(m.value.length,Math.ceil((s+t)/x)+P),W.value=L.value*x};J({filteredWrites:m,scrollContainer:c}),Z(()=>{p=!0,_()}),q(()=>{p=!1}),k(()=>I.value,(s,t)=>{JSON.stringify(s)!==JSON.stringify(t)&&b(()=>{f()})},{deep:!0}),k(()=>$.url,()=>{b(()=>{_(),f()})}),k(()=>v.writes,s=>{s&&s.length>0&&b(()=>{f()})},{deep:!0});const _=()=>{j.value=window.location.pathname},H=()=>`writeListScroll_${o.value}_${w.value}`,V=s=>{localStorage.setItem(H(),s.target.scrollTop),f()};ee(()=>{p=!0;const s=localStorage.getItem("writeListFilter");s&&(o.value=s);const t=localStorage.getItem("writeListSearch");t&&(C.value=t,w.value=t),_(),b(()=>{if(c.value){c.value.addEventListener("scroll",V);const N=localStorage.getItem(H());N&&(c.value.scrollTop=parseInt(N,10)),f()}});const n=()=>{p&&_()},l=()=>{},F=()=>{p&&(_(),b(()=>{f()}))};window.addEventListener("popstate",n),window.addEventListener("inertia:start",l),window.addEventListener("inertia:finish",F),te(()=>{p=!1,c.value&&c.value.removeEventListener("scroll",V),S&&clearTimeout(S),window.removeEventListener("popstate",n),window.removeEventListener("inertia:start",l),window.removeEventListener("inertia:finish",F)})});const G=s=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(s).toLocaleDateString(void 0,t)};return k(o,s=>{localStorage.setItem("writeListFilter",s)}),k(w,s=>{localStorage.setItem("writeListSearch",s)}),(s,t)=>(i(),a("div",{ref_key:"scrollContainer",ref:c,class:"write-list-container space-y-1 overflow-y-auto p-3"},[e("div",he,[se(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>C.value=n),type:"text",class:"input-bordered input w-full",placeholder:"Yazı başlığı ara...",onInput:Q},null,544),[[ne,C.value]])]),D(T)?(i(),a("div",pe,[e("div",we,[e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="all"}]),onClick:t[1]||(t[1]=n=>o.value="all")},[v.isCollapsed?(i(),a("span",fe,me)):(i(),a("span",_e,"Tümü"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="published"}]),onClick:t[2]||(t[2]=n=>o.value="published")},[v.isCollapsed?(i(),a("span",ke,ye)):(i(),a("span",xe,"Herkese Açık"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="link_only"}]),onClick:t[3]||(t[3]=n=>o.value="link_only")},[v.isCollapsed?(i(),a("span",Ce,Me)):(i(),a("span",je,"Sadece Link"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-primary":o.value==="private"}]),onClick:t[4]||(t[4]=n=>o.value="private")},[v.isCollapsed?(i(),a("span",Le,Be)):(i(),a("span",Ie,"Gizli"))],2)]),e("div",$e,[e("button",{onClick:t[5]||(t[5]=n=>h.value=!h.value),class:"btn btn-ghost btn-xs"},Ae),h.value?(i(),a("div",We,[e("div",Ee,[e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="all"}]),onClick:t[6]||(t[6]=n=>{o.value="all",h.value=!1})},Ve,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="published"}]),onClick:t[7]||(t[7]=n=>{o.value="published",h.value=!1})},Ne,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="link_only"}]),onClick:t[8]||(t[8]=n=>{o.value="link_only",h.value=!1})},Pe,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-primary":o.value==="private"}]),onClick:t[9]||(t[9]=n=>{o.value="private",h.value=!1})},Oe,2)])])):y("",!0)])])):y("",!0),e("div",{ref_key:"virtualContainer",ref:O,class:"virtual-scroll-container",style:z({height:Y.value+"px"})},[e("div",{style:z({transform:`translateY(${W.value}px)`})},[(i(!0),a(oe,null,le(K.value,n=>(i(),re(D(de),{key:n.id,href:U(n),class:d(["block items-center justify-between rounded-lg border px-1 py-2 backdrop-blur-md transition-all duration-200",j.value===E(n)?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"]),style:z({height:x+"px"})},{default:ce(()=>[e("div",Qe,[n.status==="private"?(i(),a("span",Ue,Ke)):y("",!0),n.status==="link_only"?(i(),a("span",{key:1,class:d([j.value===E(n)?"text-primary-content":"text-primary"])},Re,2)):y("",!0),e("span",Xe,B(n.title),1)]),e("div",Ze,[e("span",null,B(G(n.created_at)),1),e("span",qe,[et,ue(" "+B(n.views_count),1)])])]),_:2},1032,["href","class","style"]))),128))],4)],4),m.value.length===0?(i(),a("div",tt,nt)):y("",!0)],512))}}),rt=ve(ot,[["__scopeId","data-v-3e7c00e8"]]);export{rt as default};
