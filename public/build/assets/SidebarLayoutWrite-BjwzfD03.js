import{B as R,Q as E,b as k,g as h,W as V,y as A,s as D,H as L,X as G,Y as I,z as K,x as M,e as O,w as b,a as o,f as r,c as p,j as v,u as y,p as F,n as l,o as f,h as U,t as Q}from"./ssr-CHe0FcHz.js";import X from"./WriteList-CZd1HkRS.js";import{_ as Y,a as q}from"./SubSidebarScreen-C6w5Km2A.js";import{u as J}from"./useSidebar-C2tUy453.js";import Z from"./IconMenu-GqpElQp4.js";import ee from"./IconFolder-CRdxtOa3.js";import te from"./IconX-BlaxUHoq.js";import oe from"./IconFilter-heM4PRNL.js";import{_ as re}from"./app-C-7B2Ohz.js";import"./IconCalendar-CRCmErPZ.js";import"./IconEye-CIEZq_x8.js";import"./IconLock-ByDPQhpP.js";import"./IconLink-DP5fYwpa.js";/* empty css            */const se={class:"relative z-10 shrink-0 border-b border-border bg-background p-2"},ne={class:"flex items-center justify-between gap-2"},ie={class:"flex items-center gap-1"},le={key:0},ae={key:0},ce={key:0,class:"flex items-center gap-1"},de={class:"write-filter-dropdown-container relative"},ue={class:"text-xs"},fe={key:0,class:"absolute left-0 top-full z-50 mt-1 w-32 rounded-md border border-border bg-popover shadow-md"},me={class:"flex flex-col p-1"},pe=Object.assign({name:"SidebarLayoutWrite"},{__name:"SidebarLayoutWrite",emits:["update:isNarrow"],setup(ve,{emit:N}){J();const s=R(),_=E(),z=k(()=>!!(_.props.auth&&_.props.auth.user)),W=k(()=>{const e=_.url;return e.startsWith("/writes")&&!e.startsWith("/categories")}),n=h(!1),a=k({get:()=>s.getters["Writes/filter"],set:e=>s.dispatch("Writes/setFilter",e)}),T=e=>({all:"Tümü",published:"Herkese Açık",link_only:"Sadece Link",private:"Gizli"})[e]||"Tümü",m=e=>{s.dispatch("Writes/setFilter",e),n.value=!1,window.dispatchEvent(new CustomEvent("writeFilterChanged",{detail:e}))},B=()=>{m("all")},{props:ge}=E(),j=V("writes",[]),H=h(null),c=h(null),d=h(s.getters["Writes/isCollapsed"]),P=N;A(d,e=>{P("update:isNarrow",e)});let g=null,u=null;const x=()=>{var e,t,i;return(t=(e=c.value)==null?void 0:e.$el)!=null&&t.value?c.value.$el.value:(i=c.value)!=null&&i.$el?c.value.$el:c.value},w=()=>{const e=x();if(e){const t=e.scrollTop||0;s.dispatch("Writes/setScrollPosition",t)}},C=()=>{L(()=>{const e=x();if(e){const t=s.getters["Writes/scrollPosition"];t>0&&(e.scrollTop=t)}})},$=()=>{const e=x();e&&!u&&(u=()=>w(),e.addEventListener("scroll",u,{passive:!0}))},S=()=>{const e=x();e&&u&&(e.removeEventListener("scroll",u),u=null)};return D(()=>{d.value=s.getters["Writes/isCollapsed"],L(()=>{$(),C()}),g=e=>{n.value&&!e.target.closest(".write-filter-dropdown-container")&&(n.value=!1)},document.addEventListener("click",g)}),G(()=>{L(()=>{$(),C()})}),I(()=>{w(),S()}),K(()=>{w(),S()}),M(()=>{g&&document.removeEventListener("click",g)}),(e,t)=>(f(),O(q,{isNarrow:d.value},{default:b(()=>[o("div",se,[o("div",ne,[o("div",ie,[r(y(F),{href:e.route("writes.index"),class:l(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",W.value?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"]),title:"Liste görünümü"},{default:b(()=>[r(Z,{class:"h-3 w-3"}),d.value?v("",!0):(f(),p("span",le,"Liste"))]),_:1},8,["href","class"]),r(y(F),{href:e.route("categories.index"),class:l(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",W.value?"text-muted-foreground hover:bg-accent hover:text-accent-foreground":"bg-accent text-accent-foreground"]),title:"Kategori görünümü"},{default:b(()=>[r(ee,{class:"h-3 w-3"}),d.value?v("",!0):(f(),p("span",ae,"Kategori"))]),_:1},8,["href","class"])]),z.value?(f(),p("div",ce,[a.value!=="all"?(f(),p("button",{key:0,onClick:B,class:"inline-flex h-6 w-6 items-center justify-center rounded text-xs text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",title:"Filtreyi temizle"},[r(te,{class:"h-3 w-3"})])):v("",!0),o("div",de,[o("button",{onClick:t[0]||(t[0]=U(i=>n.value=!n.value,["stop"])),class:l(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":n.value}]),title:"Filtrele"},[r(oe,{class:"h-3 w-3"}),o("span",ue,Q(T(a.value)),1)],2),n.value?(f(),p("div",fe,[o("div",me,[o("button",{class:l(["inline-flex h-7 items-center gap-2 rounded-sm px-2 text-xs font-medium text-popover-foreground transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":a.value==="all"}]),onClick:t[1]||(t[1]=i=>m("all"))}," Tümü ",2),o("button",{class:l(["inline-flex h-7 items-center gap-2 rounded-sm px-2 text-xs font-medium text-popover-foreground transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":a.value==="published"}]),onClick:t[2]||(t[2]=i=>m("published"))}," Herkese Açık ",2),o("button",{class:l(["inline-flex h-7 items-center gap-2 rounded-sm px-2 text-xs font-medium text-popover-foreground transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":a.value==="link_only"}]),onClick:t[3]||(t[3]=i=>m("link_only"))}," Sadece Link ",2),o("button",{class:l(["inline-flex h-7 items-center gap-2 rounded-sm px-2 text-xs font-medium text-popover-foreground transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":a.value==="private"}]),onClick:t[4]||(t[4]=i=>m("private"))}," Gizli ",2)])])):v("",!0)])])):v("",!0)])]),r(Y,{ref_key:"scrollableRef",ref:c,class:"sidebar-content-embedded min-h-0 flex-1",infoClass:"flex-1 min-h-0"},{default:b(()=>[r(X,{ref_key:"writeListRef",ref:H,writes:y(j),route:e.route,isCollapsed:d.value},null,8,["writes","route","isCollapsed"])]),_:1},512)]),_:1},8,["isNarrow"]))}}),Ne=re(pe,[["__scopeId","data-v-e702b4d1"]]);export{Ne as default};
