import{p as I,L as D,Q as P,r as h,W as O,X as Q,s as j,I as A,m as U,y as G,c as i,o as a,a as e,h as b,k as K,v as R,u as E,n as c,F as Y,g as X,S as q,U as J,j as Z,w as ee,t as S,i as te}from"./ssr-CelVhnxm.js";import{_ as se}from"./app-DKGn_rdn.js";/* empty css            */const r=g=>(q("data-v-3a388fd0"),g=g(),J(),g),ne={class:"mb-3"},oe={key:0,class:"mb-3"},le={class:"hidden gap-2 sm:flex"},ae={key:0},ie=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),re=[ie],ce={key:1},de={key:0},ue=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),ve=[ue],he={key:1},pe={key:0},we=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),ge=[we],fe={key:1},be={key:0},_e=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),me=[_e],ke={key:1},xe={class:"relative inline-block sm:hidden"},ye=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)),Ce=[ye],Me={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},je={class:"flex flex-col gap-1 py-1"},Se=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),Le=[Se],ze=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),Be=[ze],$e=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),Ie=[$e],Ae=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),Ee=[Ae],Ve={class:"space-y-2"},Te={class:"mb-1"},Fe={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},We={class:"flex items-center gap-1"},He=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Ne={class:"truncate"},De={class:"flex items-center gap-1"},Pe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),Oe={class:"truncate"},Qe={class:"flex items-center gap-1 self-start sm:self-center"},Ue={key:0,class:"text-warning",title:"Gizli yazı"},Ge=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),Ke=[Ge],Re={key:1,class:"text-info",title:"Sadece link"},Ye=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),Xe=[Ye],qe={key:1,class:"flex h-32 items-center justify-center text-center opacity-50"},Je=r(()=>e("div",null,"Henüz yazı bulunmuyor",-1)),Ze=[Je],et=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(g,{expose:V}){const d=g,T=I(()=>{if(d.writes&&d.writes.length>0)return d.writes;const s=D("writes",[]);return s&&s.length>0?s:[]}),L=P(),z=L.props.isAdmin||!1,u=h(null);h(null);let p=!1;const _=h(""),m=h(""),w=h(""),o=h("all"),v=h(!1);let k=null;const F=()=>{clearTimeout(k),k=setTimeout(()=>{w.value=m.value},300)},W=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return route("categories.showByCategory",{category:l,slug:s.slug})}}return route("writes.show",{write:s.slug})},C=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return`/categories/${l}/${s.slug}`}}return`/writes/${s.slug}`},M=I(()=>{let s=T.value;return w.value&&(s=s.filter(t=>t.title.toLowerCase().includes(w.value.toLowerCase()))),z?(o.value==="published"?s=s.filter(t=>t.status==="published"):o.value==="link_only"?s=s.filter(t=>t.status==="link_only"):o.value==="private"&&(s=s.filter(t=>t.status==="private")),s):(s=s.filter(t=>t.status!=="private"),s)});V({filteredWrites:M,scrollContainer:u}),O(()=>{p=!0,f()}),Q(()=>{p=!1}),j(()=>L.url,()=>{A(()=>{f()})});const f=()=>{_.value=window.location.pathname},B=()=>`writeListScroll_${o.value}_${w.value}`,$=s=>{localStorage.setItem(B(),s.target.scrollTop)};U(()=>{p=!0;const s=localStorage.getItem("writeListFilter");s&&(o.value=s);const t=localStorage.getItem("writeListSearch");t&&(m.value=t,w.value=t),f(),A(()=>{if(u.value){u.value.addEventListener("scroll",$);const y=localStorage.getItem(B());y&&(u.value.scrollTop=parseInt(y,10))}});const n=()=>{p&&f()},l=()=>{},x=()=>{p&&f()};window.addEventListener("popstate",n),window.addEventListener("inertia:start",l),window.addEventListener("inertia:finish",x),G(()=>{p=!1,u.value&&u.value.removeEventListener("scroll",$),k&&clearTimeout(k),window.removeEventListener("popstate",n),window.removeEventListener("inertia:start",l),window.removeEventListener("inertia:finish",x)})});const H=s=>{const t=new Date(s),n=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],l=t.getDate(),x=n[t.getMonth()],y=t.getFullYear();return`${l} ${x} ${y}`},N=s=>new Intl.NumberFormat("tr-TR").format(s);return j(o,s=>{localStorage.setItem("writeListFilter",s)}),j(w,s=>{localStorage.setItem("writeListSearch",s)}),(s,t)=>(a(),i("div",{ref_key:"scrollContainer",ref:u,class:"write-list-container space-y-1 overflow-y-auto p-3"},[e("div",ne,[K(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>m.value=n),type:"text",class:"input-bordered input w-full",placeholder:"Yazı başlığı ara...",onInput:F},null,544),[[R,m.value]])]),E(z)?(a(),i("div",oe,[e("div",le,[e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="all"}]),onClick:t[1]||(t[1]=n=>o.value="all")},[d.isCollapsed?(a(),i("span",ae,re)):(a(),i("span",ce,"Tümü"))],2),e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="published"}]),onClick:t[2]||(t[2]=n=>o.value="published")},[d.isCollapsed?(a(),i("span",de,ve)):(a(),i("span",he,"Herkese Açık"))],2),e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="link_only"}]),onClick:t[3]||(t[3]=n=>o.value="link_only")},[d.isCollapsed?(a(),i("span",pe,ge)):(a(),i("span",fe,"Sadece Link"))],2),e("button",{class:c(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="private"}]),onClick:t[4]||(t[4]=n=>o.value="private")},[d.isCollapsed?(a(),i("span",be,me)):(a(),i("span",ke,"Gizli"))],2)]),e("div",xe,[e("button",{onClick:t[5]||(t[5]=n=>v.value=!v.value),class:"btn btn-ghost btn-xs"},Ce),v.value?(a(),i("div",Me,[e("div",je,[e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="all"}]),onClick:t[6]||(t[6]=n=>{o.value="all",v.value=!1})},Le,2),e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="published"}]),onClick:t[7]||(t[7]=n=>{o.value="published",v.value=!1})},Be,2),e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="link_only"}]),onClick:t[8]||(t[8]=n=>{o.value="link_only",v.value=!1})},Ie,2),e("button",{class:c(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="private"}]),onClick:t[9]||(t[9]=n=>{o.value="private",v.value=!1})},Ee,2)])])):b("",!0)])])):b("",!0),e("div",Ve,[(a(!0),i(Y,null,X(M.value,n=>(a(),Z(E(te),{key:n.id,href:W(n),class:c(["block rounded-lg p-3",_.value===C(n)?"bg-base-content text-base-100":"border border-base-300 bg-base-100 hover:bg-base-300"])},{default:ee(()=>[e("div",Te,[e("h3",{class:c(["line-clamp-2 text-sm font-medium leading-tight",_.value===C(n)?"text-base-100":"text-base-content"])},S(n.title),3)]),e("div",{class:c(["flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:justify-between",_.value===C(n)?"text-base-100/70":"text-base-content/70"])},[e("div",Fe,[e("span",We,[He,e("span",Ne,S(H(n.created_at)),1)]),e("span",De,[Pe,e("span",Oe,S(N(n.views_count))+" görüntülenme",1)])]),e("div",Qe,[n.status==="private"?(a(),i("span",Ue,Ke)):b("",!0),n.status==="link_only"?(a(),i("span",Re,Xe)):b("",!0)])],2)]),_:2},1032,["href","class"]))),128))]),M.value.length===0?(a(),i("div",qe,Ze)):b("",!0)],512))}}),ot=se(et,[["__scopeId","data-v-3a388fd0"]]);export{ot as default};
