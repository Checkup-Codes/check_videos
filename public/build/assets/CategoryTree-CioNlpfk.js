import{M as I,r as b,p as C,Q as U,D as J,c as l,a as t,h as d,k as _,v as R,u as x,n as a,F as M,g as j,o,e as z,w as B,t as g,l as O,i as $,q}from"./ssr-pm0XdgXH.js";import{_ as X}from"./app-CttI4bP8.js";/* empty css            */const Y={class:"mb-3"},Z={key:0,class:"mb-3"},ee={class:"hidden gap-2 sm:flex"},te={key:0},se={key:1},ne={key:0},le={key:1},oe={key:0},ie={key:1},re={key:0},ae={key:1},ue={class:"relative inline-block sm:hidden"},de={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},ve={class:"flex flex-col gap-1 py-1"},ce={class:"space-y-2"},pe={class:"flex items-center justify-between"},we={class:"flex items-center gap-2"},ge={key:0,class:"text-warning",title:"Gizli kategori"},be={key:1,class:"text-info",title:"Sadece link yazıları"},ke=["title"],fe={class:"flex items-center gap-2"},he=["onClick"],xe={class:"badge badge-sm"},me={key:0,class:"relative px-3 pb-3"},ye={class:"space-y-1"},Ce={class:"ml-8"},_e={class:"flex items-center justify-between"},Me={class:"flex items-center gap-2"},je={key:0,class:"text-warning",title:"Gizli kategori"},ze=["title"],Be={class:"flex items-center gap-2"},$e=["onClick"],Ve={class:"badge badge-xs"},Se={key:0,class:"relative mt-1"},He={class:"ml-8"},Ae={class:"flex items-center justify-between"},Te={class:"flex items-center gap-2"},Le={key:0,class:"text-warning",title:"Gizli kategori"},Fe=["title"],Ge={class:"badge badge-xs"},Ie={key:0,class:"flex h-32 items-center justify-center text-center opacity-50"},Oe=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(D,{expose:N,emit:qe}){const k=D,Q=I("categories",[]),V=I("isAdmin",!1),m=b(""),S=b(""),r=b("all"),w=b(!1);function H(i,e,s){return i.map(n=>{const v=H(n.children||[],e,s),u=n.name.toLowerCase().includes(e.toLowerCase());let h=!0;return V&&s!=="all"&&(s==="public"?h=n.status!=="hidden"&&n.status!=="link_only":h=n.status===s),u&&h||v.length>0?{...n,children:v}:null}).filter(Boolean).sort((n,v)=>p(v)-p(n))}const E=C(()=>Q.filter(i=>!i.parent_id||i.parent_id===null||i.parent_id==="null"||i.parent_id===0).sort((i,e)=>p(e)-p(i)));let A=null;const W=()=>{clearTimeout(A),A=setTimeout(()=>{S.value=m.value},300)},T=C(()=>H(E.value,S.value,r.value)),K=U(),c=C(()=>K.url),L=b(null),y=J(),p=i=>{let e=i.writes_count||0;return i.children&&i.children.length&&i.children.forEach(s=>{e+=p(s)}),e},P=(i=!0)=>{y.dispatch("CategorySidebar/expandAllCategories",i)},F=i=>{y.dispatch("CategorySidebar/toggleCollapse",i)},f=i=>y.getters["CategorySidebar/isCollapsed"](i),G=i=>{var s,n;return((s=i.writes)==null?void 0:s.some(v=>v.status==="link_only"))?!0:(n=i.children)!=null&&n.length?i.children.some(v=>G(v)):!1};return N({expandAllCategories:P,scrollContainer:L}),(i,e)=>(o(),l("div",{ref_key:"scrollContainer",ref:L,class:"category-tree-container space-y-1 overflow-y-auto p-3"},[t("div",Y,[_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),type:"text",class:"input-bordered input w-full",placeholder:"Kategori ara...",onInput:W},null,544),[[R,m.value]])]),x(V)?(o(),l("div",Z,[t("div",ee,[t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="all"}]),onClick:e[1]||(e[1]=s=>r.value="all")},[k.isCollapsed?(o(),l("span",te,[...e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])):(o(),l("span",se,"Tümü"))],2),t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="public"}]),onClick:e[2]||(e[2]=s=>r.value="public")},[k.isCollapsed?(o(),l("span",ne,[...e[11]||(e[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])])):(o(),l("span",le,"Herkese Açık"))],2),t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="link_only"}]),onClick:e[3]||(e[3]=s=>r.value="link_only")},[k.isCollapsed?(o(),l("span",oe,[...e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])])):(o(),l("span",ie,"Sadece Link"))],2),t("button",{class:a(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="hidden"}]),onClick:e[4]||(e[4]=s=>r.value="hidden")},[k.isCollapsed?(o(),l("span",re,[...e[13]||(e[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])])):(o(),l("span",ae,"Gizli"))],2)]),t("div",ue,[t("button",{onClick:e[5]||(e[5]=s=>w.value=!w.value),class:"btn btn-ghost btn-xs"},[...e[14]||(e[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)])]),w.value?(o(),l("div",de,[t("div",ve,[t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="all"}]),onClick:e[6]||(e[6]=s=>{r.value="all",w.value=!1})},[...e[15]||(e[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2),t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="public"}]),onClick:e[7]||(e[7]=s=>{r.value="public",w.value=!1})},[...e[16]||(e[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])],2),t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="link_only"}]),onClick:e[8]||(e[8]=s=>{r.value="link_only",w.value=!1})},[...e[17]||(e[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])],2),t("button",{class:a(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="hidden"}]),onClick:e[9]||(e[9]=s=>{r.value="hidden",w.value=!1})},[...e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])],2)])])):d("",!0)])])):d("",!0),t("div",ce,[(o(!0),l(M,null,j(T.value,s=>(o(),l("div",{key:s.id},[t("div",{class:a(["rounded-lg bg-base-100 transition-all duration-200",c.value===`/categories/${s.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},[z(x($),{href:i.route("categories.show",{category:s.slug}),class:"block p-3"},{default:B(()=>[t("div",pe,[t("div",we,[s.status==="hidden"?(o(),l("span",ge,[...e[19]||(e[19]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):d("",!0),G(s)?(o(),l("span",be,[...e[20]||(e[20]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)])])):d("",!0),t("h3",{class:a(["max-w-[120px] truncate text-sm font-medium leading-tight",c.value===`/categories/${s.slug}`?"text-base-100":"text-base-content"]),title:s.name},g(s.name),11,ke)]),t("div",fe,[s.children.length?(o(),l("button",{key:0,onClick:O(n=>F(s.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:a(["h-3 w-3 transition-transform",{"rotate-180":!f(s.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,he)):d("",!0),t("div",xe,g(p(s)),1)])])]),_:2},1032,["href"]),s.children.length?_((o(),l("div",me,[e[28]||(e[28]=t("div",{class:"absolute left-6 top-0 h-full w-px bg-base-300"},null,-1)),t("div",ye,[(o(!0),l(M,null,j(s.children,(n,v)=>(o(),l("div",{key:n.id,class:"relative"},[e[27]||(e[27]=t("div",{class:"absolute left-6 top-3 h-px w-4 bg-base-300"},null,-1)),t("div",Ce,[z(x($),{href:i.route("categories.show",{category:n.slug}),class:a(["block rounded-md p-2 transition-all duration-200",c.value===`/categories/${n.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},{default:B(()=>[t("div",_e,[t("div",Me,[n.status==="hidden"||n.parent_hidden?(o(),l("span",je,[...e[22]||(e[22]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):d("",!0),t("span",{class:a(["max-w-[100px] truncate text-sm font-medium",c.value===`/categories/${n.slug}`||c.value===`/categories/${s.slug}`?"text-base-100":"text-base-content"]),title:n.name},g(n.name),11,ze)]),t("div",Be,[n.children.length?(o(),l("button",{key:0,onClick:O(u=>F(n.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:a(["h-3 w-3 transition-transform",{"rotate-180":!f(n.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,$e)):d("",!0),t("div",Ve,g(p(n)),1)])])]),_:2},1032,["href","class"]),n.children.length?_((o(),l("div",Se,[e[26]||(e[26]=t("div",{class:"absolute left-4 top-0 h-full w-px bg-base-300"},null,-1)),(o(!0),l(M,null,j(n.children,(u,h)=>(o(),l("div",{key:u.id,class:"relative"},[e[25]||(e[25]=t("div",{class:"absolute left-4 top-3 h-px w-4 bg-base-300"},null,-1)),t("div",He,[z(x($),{href:i.route("categories.show",{category:u.slug}),class:a(["block rounded-md p-2 transition-all duration-200",c.value===`/categories/${u.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},{default:B(()=>[t("div",Ae,[t("div",Te,[u.status==="hidden"||u.parent_hidden?(o(),l("span",Le,[...e[24]||(e[24]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):d("",!0),t("span",{class:a(["max-w-[80px] truncate text-xs font-medium",c.value===`/categories/${u.slug}`||c.value===`/categories/${s.slug}`?"text-base-100":"text-base-content"]),title:u.name},g(u.name),11,Fe)]),t("div",Ge,g(p(u)),1)])]),_:2},1032,["href","class"])])]))),128))],512)),[[q,!f(n.id)]]):d("",!0)])]))),128))])],512)),[[q,!f(s.id)]]):d("",!0)],2)]))),128)),T.value.length===0?(o(),l("div",Ie,[...e[29]||(e[29]=[t("div",null,"Henüz kategori bulunmuyor",-1)])])):d("",!0)])],512))}}),Ee=X(Oe,[["__scopeId","data-v-0a9e432c"]]);export{Ee as default};
