import{b as R,Q as G,g as b,T as I,z as Q,e as M,w as B,a as e,c as l,j as u,n as C,k as p,o as r,t as c,F as k,l as h,u as i,p as W,h as E,i as v,m as w,v as T,H as $,f as Y,N as J,I as X,E as ee}from"./ssr-CQ9FUimx.js";import{_ as te}from"./CheckScreen-C2AyM-zC.js";import oe from"./BulkImportTab-DJ_Fu7qL.js";const se={class:"space-y-6 py-6"},ne={class:"flex gap-2 border-b border-border"},re={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},le={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},ie={key:0},ae={key:0,class:"rounded-lg border border-yellow-500/30 bg-yellow-500/10 p-4"},de={class:"flex items-start gap-3"},ue={class:"flex-1"},ce={class:"font-medium text-yellow-800 dark:text-yellow-200"},pe={key:0,class:"mt-4 space-y-2"},me={class:"font-medium text-foreground"},ge={class:"ml-2 text-xs text-muted-foreground"},xe={key:0,class:"ml-2 text-xs text-muted-foreground"},ve={class:"flex items-center gap-2 text-xs text-muted-foreground"},fe={key:0,class:"text-xs text-center text-muted-foreground pt-2"},ye={class:"rounded-xl bg-card p-6 ring-1 ring-border/50"},be={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ke={class:"space-y-2"},he={key:0,class:"text-xs text-destructive"},we={key:1,class:"text-xs text-muted-foreground"},_e={key:2,class:"rounded-lg border border-destructive/30 bg-destructive/10 p-3"},Ce={class:"flex items-start gap-2"},je={class:"flex-1"},Me={class:"text-xs font-medium text-destructive"},Be={class:"space-y-2"},Ee={class:"rounded-xl bg-card p-6 ring-1 ring-border/50"},Te={class:"space-y-3"},Se=["onUpdate:modelValue","placeholder","onKeydown"],Ve={class:"flex cursor-pointer items-center gap-1.5 text-xs text-muted-foreground"},We=["checked","onChange"],$e=["onClick"],Ke={class:"group rounded-xl bg-card ring-1 ring-border/50"},Ue={class:"space-y-6 border-t border-border p-6"},ze={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ae={class:"space-y-2"},De={class:"space-y-2"},Le={key:0,class:"space-y-3"},Pe={class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3"},Fe=["onClick"],Ne={class:"text-xs opacity-70"},Ze={class:"space-y-3"},Oe=["onUpdate:modelValue"],He=["onUpdate:modelValue"],qe=["onClick"],Re={class:"space-y-3"},Ge={class:"flex flex-wrap gap-2"},Ie=["onClick"],Qe={class:"flex gap-2"},Ye=["onKeydown"],Je={class:"flex items-center justify-end gap-3"},Xe=["disabled"],st={__name:"Screen",props:{languagePacks:{type:Array,default:()=>[]},incompleteWords:{type:Array,default:()=>[]},incompleteWordsCount:{type:Number,default:0},error:String,screen:Object},setup(x){const j=R(()=>G().props.errors),f=b(!1),y=b(""),_=b(!1),g=b("single"),o=I({word:"",meanings:[{meaning:"",is_primary:!0}],type:"",language:"en",difficulty_level:2,learning_status:0,flag:!1,language_pack_ids:[],example_sentences:[],example_translations:[],synonyms:[]}),d=b({checking:!1,exists:!1,existingWord:null,message:""});let S=null;const K=async()=>{if(!o.word||!o.language){d.value={checking:!1,exists:!1,existingWord:null,message:""};return}d.value.checking=!0;try{const n=await ee.post(route("rendition.words.check-duplicate"),{word:o.word,language:o.language,type:o.type||null});n.data.exists?d.value={checking:!1,exists:!0,existingWord:n.data.word,message:n.data.message}:d.value={checking:!1,exists:!1,existingWord:null,message:""}}catch(n){console.error("Duplicate check error:",n),d.value.checking=!1}},U=()=>{clearTimeout(S),S=setTimeout(()=>{K()},500)};Q([()=>o.word,()=>o.language,()=>o.type],()=>{U()});const z=()=>{d.value.existingWord&&J.visit(d.value.existingWord.edit_url)},A=n=>({noun:"İsim",verb:"Fiil",adjective:"Sıfat",adverb:"Zarf",pronoun:"Zamir",preposition:"Edat",conjunction:"Bağlaç",interjection:"Ünlem",phrase:"Deyim"})[n]||n,D=n=>{const t=o.language_pack_ids.indexOf(n);t>-1?o.language_pack_ids.splice(t,1):o.language_pack_ids.push(n)},L=()=>{o.meanings.push({meaning:"",is_primary:!1})},P=async n=>{o.meanings.push({meaning:"",is_primary:!1}),await X();const t=document.querySelectorAll('input[placeholder*="anlam"]');t[n+1]&&t[n+1].focus()},F=n=>{o.meanings.splice(n,1)},N=n=>{o.meanings.forEach((t,s)=>{t.is_primary=s===n})},Z=()=>{o.example_sentences.push(""),o.example_translations.push("")},O=n=>{o.example_sentences.splice(n,1),o.example_translations.splice(n,1)},V=()=>{y.value.trim()&&(o.synonyms.push(y.value.trim()),y.value="")},H=n=>{o.synonyms.splice(n,1)},q=()=>{if(!o.word.trim())return;f.value=!0;const n=[],t=[];o.example_sentences.forEach((s,a)=>{s.trim()&&(n.push(s),t.push(o.example_translations[a]||""))}),o.example_sentences=n,o.example_translations=t,o.post(route("rendition.words.store"),{onSuccess:()=>{f.value=!1},onError:()=>{f.value=!1}})};return(n,t)=>(r(),M(te,null,{default:B(()=>[e("div",se,[t[37]||(t[37]=e("div",null,[e("h1",{class:"text-2xl font-bold text-foreground"},"Yeni Kelime"),e("p",{class:"mt-1 text-sm text-muted-foreground"},"Tek kelime veya toplu olarak ekleyebilirsiniz")],-1)),e("div",ne,[e("button",{onClick:t[0]||(t[0]=s=>g.value="single"),class:C(["relative px-4 py-2 text-sm font-medium transition-colors",g.value==="single"?"text-primary":"text-muted-foreground hover:text-foreground"])},[t[9]||(t[9]=p(" Tek Kelime ",-1)),g.value==="single"?(r(),l("div",re)):u("",!0)],2),e("button",{onClick:t[1]||(t[1]=s=>g.value="bulk"),class:C(["relative px-4 py-2 text-sm font-medium transition-colors",g.value==="bulk"?"text-primary":"text-muted-foreground hover:text-foreground"])},[t[10]||(t[10]=p(" Toplu Ekleme ",-1)),g.value==="bulk"?(r(),l("div",le)):u("",!0)],2)]),g.value==="single"?(r(),l("div",ie,[x.incompleteWordsCount>0?(r(),l("div",ae,[e("div",de,[t[12]||(t[12]=e("svg",{class:"mt-0.5 h-5 w-5 flex-shrink-0 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("div",ue,[e("h3",ce,c(x.incompleteWordsCount)+" yarım kalan kelime var ",1),t[11]||(t[11]=e("p",{class:"mt-1 text-sm text-yellow-700 dark:text-yellow-300"}," Bu kelimelerin anlamları henüz girilmemiş. ",-1)),e("button",{onClick:t[2]||(t[2]=s=>_.value=!_.value),class:"mt-2 text-sm font-medium text-yellow-800 underline hover:no-underline dark:text-yellow-200"},c(_.value?"Gizle":"Tamamla"),1)])]),_.value?(r(),l("div",pe,[(r(!0),l(k,null,h(x.incompleteWords,s=>(r(),M(i(W),{key:s.id,href:`/rendition/words/${s.id}/edit`,class:"flex items-center justify-between rounded-md border border-yellow-500/20 bg-background p-3 transition-colors hover:bg-accent"},{default:B(()=>[e("div",null,[e("span",me,c(s.word),1),e("span",ge,c(s.language.toUpperCase()),1),s.type?(r(),l("span",xe,"("+c(A(s.type))+")",1)):u("",!0)]),e("div",ve,[e("span",null,c(s.created_at),1),t[13]||(t[13]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])]),_:2},1032,["href"]))),128)),x.incompleteWordsCount>20?(r(),l("p",fe," ... ve "+c(x.incompleteWordsCount-20)+" kelime daha ",1)):u("",!0)])):u("",!0)])):u("",!0),e("form",{onSubmit:E(q,["prevent"]),class:"space-y-6"},[e("div",ye,[t[20]||(t[20]=e("h2",{class:"mb-4 text-lg font-semibold text-foreground"},"Temel Bilgiler",-1)),e("div",be,[e("div",ke,[t[17]||(t[17]=e("label",{class:"text-sm font-medium text-foreground"},[p(" Kelime "),e("span",{class:"text-destructive"},"*")],-1)),v(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i(o).word=s),type:"text",placeholder:"Kelimeyi girin...",class:C(["w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",{"border-destructive":j.value.word||d.value.exists}]),required:""},null,2),[[w,i(o).word]]),j.value.word?(r(),l("p",he,c(j.value.word),1)):u("",!0),d.value.checking?(r(),l("p",we,[...t[14]||(t[14]=[e("span",{class:"inline-block animate-spin"},"⏳",-1),p(" Kontrol ediliyor... ",-1)])])):u("",!0),d.value.exists?(r(),l("div",_e,[e("div",Ce,[t[16]||(t[16]=e("svg",{class:"mt-0.5 h-4 w-4 flex-shrink-0 text-destructive",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("div",je,[e("p",Me,c(d.value.message),1),e("button",{type:"button",onClick:z,class:"mt-2 inline-flex items-center gap-1 text-xs font-medium text-destructive underline hover:no-underline"},[...t[15]||(t[15]=[p(" Mevcut kelimeyi düzenle ",-1),e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])])])])):u("",!0)]),e("div",Be,[t[19]||(t[19]=e("label",{class:"text-sm font-medium text-foreground"},[p(" Dil "),e("span",{class:"text-destructive"},"*")],-1)),v(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>i(o).language=s),class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},[...t[18]||(t[18]=[e("option",{value:"en"},"İngilizce (EN)",-1),e("option",{value:"tr"},"Türkçe (TR)",-1),e("option",{value:"de"},"Almanca (DE)",-1),e("option",{value:"fr"},"Fransızca (FR)",-1),e("option",{value:"es"},"İspanyolca (ES)",-1)])],512),[[T,i(o).language]])])])]),e("div",Ee,[t[24]||(t[24]=e("div",{class:"mb-4 flex items-center justify-between"},[e("div",null,[e("h2",{class:"text-lg font-semibold text-foreground"},"Anlam"),e("p",{class:"text-xs text-muted-foreground"},'Boş bırakırsanız "yarım kalan" olarak kaydedilir')])],-1)),e("div",Te,[(r(!0),l(k,null,h(i(o).meanings,(s,a)=>(r(),l("div",{key:a,class:"flex items-center gap-3"},[v(e("input",{"onUpdate:modelValue":m=>s.meaning=m,type:"text",placeholder:`${a+1}. anlam`,class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",onKeydown:$(E(m=>P(a),["prevent"]),["enter"])},null,40,Se),[[w,s.meaning]]),e("label",Ve,[e("input",{type:"radio",name:"primaryMeaning",checked:s.is_primary,onChange:m=>N(a),class:"h-3.5 w-3.5"},null,40,We),t[21]||(t[21]=p(" Birincil ",-1))]),i(o).meanings.length>1?(r(),l("button",{key:0,type:"button",onClick:m=>F(a),class:"rounded-lg p-2 text-destructive hover:bg-destructive/10"},[...t[22]||(t[22]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,$e)):u("",!0)]))),128)),e("button",{type:"button",onClick:L,class:"inline-flex items-center gap-2 rounded-lg border border-dashed border-border px-3 py-2 text-sm text-muted-foreground transition-colors hover:border-primary hover:text-primary"},[...t[23]||(t[23]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" Anlam Ekle ",-1)])])])]),e("details",Ke,[t[35]||(t[35]=e("summary",{class:"flex cursor-pointer items-center justify-between p-6 font-semibold text-foreground"},[e("span",null,"Detaylar (Opsiyonel)"),e("svg",{class:"h-5 w-5 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1)),e("div",Ue,[e("div",ze,[e("div",Ae,[t[26]||(t[26]=e("label",{class:"text-sm font-medium text-foreground"},"Tür",-1)),v(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>i(o).type=s),class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},[...t[25]||(t[25]=[e("option",{value:""},"Seçiniz",-1),e("option",{value:"noun"},"İsim (Noun)",-1),e("option",{value:"verb"},"Fiil (Verb)",-1),e("option",{value:"adjective"},"Sıfat (Adjective)",-1),e("option",{value:"adverb"},"Zarf (Adverb)",-1),e("option",{value:"pronoun"},"Zamir (Pronoun)",-1),e("option",{value:"preposition"},"Edat (Preposition)",-1),e("option",{value:"conjunction"},"Bağlaç (Conjunction)",-1),e("option",{value:"interjection"},"Ünlem (Interjection)",-1),e("option",{value:"phrase"},"Deyim (Phrase)",-1)])],512),[[T,i(o).type]])]),e("div",De,[t[28]||(t[28]=e("label",{class:"text-sm font-medium text-foreground"},"Zorluk",-1)),v(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>i(o).difficulty_level=s),class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},[...t[27]||(t[27]=[e("option",{value:1},"Kolay",-1),e("option",{value:2},"Orta",-1),e("option",{value:3},"Zor",-1),e("option",{value:4},"Çok Zor",-1)])],512),[[T,i(o).difficulty_level]])])]),x.languagePacks.length>0?(r(),l("div",Le,[t[29]||(t[29]=e("label",{class:"text-sm font-medium text-foreground"},"Dil Paketleri",-1)),e("div",Pe,[(r(!0),l(k,null,h(x.languagePacks,s=>(r(),l("button",{key:s.id,type:"button",onClick:a=>D(s.id),class:C(["flex items-center justify-between rounded-lg border p-3 text-left text-sm transition-colors",i(o).language_pack_ids.includes(s.id)?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"])},[e("span",null,c(s.name),1),e("span",Ne,c(s.language.toUpperCase()),1)],10,Fe))),128))])])):u("",!0),e("div",Ze,[t[32]||(t[32]=e("label",{class:"text-sm font-medium text-foreground"},"Örnek Cümleler",-1)),(r(!0),l(k,null,h(i(o).example_sentences,(s,a)=>(r(),l("div",{key:a,class:"flex gap-2"},[v(e("input",{"onUpdate:modelValue":m=>i(o).example_sentences[a]=m,type:"text",placeholder:"Örnek cümle...",class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},null,8,Oe),[[w,i(o).example_sentences[a]]]),v(e("input",{"onUpdate:modelValue":m=>i(o).example_translations[a]=m,type:"text",placeholder:"Çeviri...",class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"},null,8,He),[[w,i(o).example_translations[a]]]),e("button",{type:"button",onClick:m=>O(a),class:"rounded-lg p-2 text-destructive hover:bg-destructive/10"},[...t[30]||(t[30]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,qe)]))),128)),e("button",{type:"button",onClick:Z,class:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-primary"},[...t[31]||(t[31]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" Örnek Cümle Ekle ",-1)])])]),e("div",Re,[t[34]||(t[34]=e("label",{class:"text-sm font-medium text-foreground"},"Eş Anlamlılar",-1)),e("div",Ge,[(r(!0),l(k,null,h(i(o).synonyms,(s,a)=>(r(),l("span",{key:a,class:"inline-flex items-center gap-1 rounded-full bg-muted px-3 py-1 text-sm"},[p(c(s)+" ",1),e("button",{type:"button",onClick:m=>H(a),class:"ml-1 text-muted-foreground hover:text-destructive"},[...t[33]||(t[33]=[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ie)]))),128))]),e("div",Qe,[v(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>y.value=s),type:"text",placeholder:"Eş anlamlı kelime...",class:"flex-1 rounded-lg border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",onKeydown:$(E(V,["prevent"]),["enter"])},null,40,Ye),[[w,y.value]]),e("button",{type:"button",onClick:V,class:"rounded-lg border border-input px-3 py-2 text-sm hover:bg-accent"}," Ekle ")])])])]),e("div",Je,[Y(i(W),{href:"/rendition/words",class:"rounded-lg border border-border px-4 py-2 text-sm font-medium text-foreground hover:bg-accent"},{default:B(()=>[...t[36]||(t[36]=[p(" İptal ",-1)])]),_:1}),e("button",{type:"submit",disabled:f.value||!i(o).word.trim()||d.value.exists||d.value.checking,class:"rounded-lg bg-primary px-6 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 disabled:opacity-50"},c(f.value?"Kaydediliyor...":"Kaydet"),9,Xe)])],32)])):u("",!0),g.value==="bulk"?(r(),M(oe,{key:1,"language-packs":x.languagePacks,onCancel:t[8]||(t[8]=s=>g.value="single")},null,8,["language-packs"])):u("",!0)])]),_:1}))}};export{st as default};
