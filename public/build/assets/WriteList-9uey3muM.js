import{r as L,l as E,A as I,_ as A,Q as B,i as D,a0 as P,a1 as W,C as $,g,o as m,h as k,F as z,q as V,b as a,J as M,K as j,c as O,w as F,n as C,t as y,f as H,u as J,k as q}from"./app-C0SdH7UC.js";/* empty css            */const G=10*60*1e3;function Q(o,f=G){const c=L(parseInt(localStorage.getItem(`${o}_lastReset`))||Date.now());let d=null;const b=(r,w=!1)=>{d&&clearTimeout(d);const l=()=>{r>0&&(localStorage.setItem(o,r.toString()),console.log(`Saved scroll position for ${o}:`,r))};w?l():d=setTimeout(l,100)},n=()=>{const r=Date.now();if(r-c.value>=f)return console.log(`Resetting scroll position for ${o} due to timeout`),localStorage.removeItem(o),c.value=r,localStorage.setItem(`${o}_lastReset`,r.toString()),0;const l=parseInt(localStorage.getItem(o));return!isNaN(l)&&l>0?l:0},i=()=>{localStorage.removeItem(o),c.value=Date.now(),localStorage.setItem(`${o}_lastReset`,c.value.toString())},v=()=>{d&&clearTimeout(d)};let u;return E(()=>{u=setInterval(()=>{Date.now()-c.value>=f&&i()},Math.min(f,6e4))}),I(()=>{v(),u&&clearInterval(u)}),{saveScrollPosition:b,getSavedScrollPosition:n,resetScroll:i,cleanup:v}}const x=o=>(M("data-v-3ade40c9"),o=o(),j(),o),U={class:"mb-1 flex items-center gap-2"},Y={key:0},Z=x(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),X=[Z],K=x(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),ee=[K],te={class:"text-base-content/70 flex justify-between text-xs"},oe={class:"flex items-center gap-1"},se=x(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-[14px] w-[14px]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),a("circle",{cx:"12",cy:"12",r:"3"})],-1)),ne={key:0,class:"flex h-32 items-center justify-center text-center opacity-50"},ae=x(()=>a("div",null,"Henüz yazı bulunmuyor",-1)),ie=[ae],re="writeList_scrollPosition",le=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:Array,route:Function},setup(o,{expose:f}){const c=o,b=B().props.isAdmin||!1,n=L(null);let i=!1;const v=L(""),{saveScrollPosition:u,getSavedScrollPosition:r,cleanup:w}=Q(re),l=D(()=>b?c.writes:c.writes.filter(s=>s.status!=="private"));f({filteredWrites:l,scrollContainer:n});const T=s=>{var e;const t=((e=n.value)==null?void 0:e.scrollTop)||0;t>0&&u(t,!0)},h=()=>{if(!n.value)return;const s=r();if(s>0){n.value.scrollTop=s;const t=document.querySelector(".border-primary");if(t){const e=n.value.getBoundingClientRect(),p=t.getBoundingClientRect();(p.top<e.top||p.bottom>e.bottom)&&t.scrollIntoView({block:"center",behavior:"instant"})}}};P(()=>{i=!0,h(),S()}),W(()=>{var t;i=!1;const s=((t=n.value)==null?void 0:t.scrollTop)||0;s>0&&u(s,!0)}),$(()=>c.writes,(s,t)=>{JSON.stringify(s)!==JSON.stringify(t)&&h()},{deep:!0});const S=()=>{v.value=window.location.pathname};E(()=>{var R;i=!0,S(),h();const s=()=>{i&&n.value&&u(n.value.scrollTop)};(R=n.value)==null||R.addEventListener("scroll",s,{passive:!0});const t=()=>{i&&(h(),S())},e=()=>{if(i&&n.value){const _=n.value.scrollTop;_>0&&u(_,!0)}},p=()=>{i&&(h(),S())};window.addEventListener("popstate",t),window.addEventListener("inertia:start",e),window.addEventListener("inertia:finish",p),I(()=>{var _;i=!1,w(),(_=n.value)==null||_.removeEventListener("scroll",s),window.removeEventListener("popstate",t),window.removeEventListener("inertia:start",e),window.removeEventListener("inertia:finish",p)})});const N=s=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(s).toLocaleDateString(void 0,t)};return(s,t)=>(m(),g("div",{ref_key:"scrollContainer",ref:n,class:"write-list-container h-full space-y-1 overflow-y-auto p-3"},[(m(!0),g(z,null,V(l.value,e=>(m(),O(J(q),{key:e.id,href:o.route("writes.show",{write:e.slug}),class:C(["block items-center justify-between rounded-lg border px-1 py-2 backdrop-blur-md transition-all duration-200",v.value===`/writes/${e.slug}`?"border-primary bg-primary text-primary-content shadow-md":"border-base-200 bg-base-200 text-base-content hover:bg-base-300"]),onClick:p=>T()},{default:F(()=>[a("div",U,[e.status==="private"?(m(),g("span",Y,X)):k("",!0),e.status==="link_only"?(m(),g("span",{key:1,class:C([v.value===`/writes/${e.slug}`?"text-primary-content":"text-primary"])},ee,2)):k("",!0),a("span",null,y(e.title),1)]),a("div",te,[a("span",null,y(N(e.created_at)),1),a("span",oe,[se,H(" "+y(e.views_count),1)])])]),_:2},1032,["href","class","onClick"]))),128)),l.value.length===0?(m(),g("div",ne,ie)):k("",!0)],512))}}),de=A(le,[["__scopeId","data-v-3ade40c9"]]);export{de as default};
