import{Q as V,l as b,T as S,x as U,C as h,g as u,o as d,b as e,p as D,e as j,h as v,j as c,q as m,u as s,n as _,t as p,a as B,E as w,F as M,m as N,v as T,N as C}from"./app-C_Im7M6e.js";import O from"./RichTextEditor-D6LW3MhH.js";/* empty css            */import"./quill.snow-GOIQf7zb.js";const Y={class:"card"},E={class:"card-body p-6"},F=D('<div class="card-title flex items-center justify-between"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><h2 class="text-gray-800 dark:text-white">Yazıyı Güncelle</h2></div></div>',1),$={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},G={class:"md:col-span-2"},K={class:"form-control w-full"},L=e("label",{class:"label"},[e("span",{class:"label-text"},"Başlık")],-1),A={class:"relative"},W={key:0,class:"label"},H={class:"label-text-alt text-error"},q={class:"form-control w-full"},I=e("label",{class:"label"},[e("span",{class:"label-text"},"Slug")],-1),Q={class:"relative"},J={key:0,class:"label"},P={class:"label-text-alt text-error"},R={class:"form-control w-full"},X=e("label",{class:"label"},[e("span",{class:"label-text"},"Yayınlama Tarihi")],-1),Z={class:"flex space-x-2"},ee={key:0,class:"label"},te={class:"label-text-alt text-error"},se={class:"md:col-span-2"},le={class:"form-control w-full"},ae=e("label",{class:"label"},[e("span",{class:"label-text"},"Özet")],-1),oe={class:"relative"},re={key:0,class:"label"},ie={class:"label-text-alt text-error"},ne={class:"md:col-span-2"},ue=e("label",{class:"label"},[e("span",{class:"label-text"},"Kategori")],-1),de=e("option",{value:"",disabled:""},"Kategori seç",-1),ce=["value"],_e={key:0,class:"label"},pe={class:"label-text-alt text-error"},ve=e("label",{class:"label"},[e("span",{class:"label-text"},"Durumu")],-1),me=e("option",{value:"draft"},"Şablon",-1),be=e("option",{value:"published"},"Yayında",-1),he=e("option",{value:"private"},"Gizli",-1),ge=e("option",{value:"link_only"},"Sadece Link",-1),ye=[me,be,he,ge],xe={key:0,class:"label"},we={class:"label-text-alt text-error"},fe={class:"form-control w-full"},ke=e("label",{class:"label"},[e("span",{class:"label-text"},"Etiketler")],-1),ze={class:"relative"},Ve={key:0,class:"label"},Se={class:"label-text-alt text-error"},Ue={class:"form-control w-full"},De=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Anahtar Kelimeleri")],-1),je={class:"relative"},Be={key:0,class:"label"},Me={class:"label-text-alt text-error"},Ne={class:"form-control w-full"},Te=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Meta Açıklaması")],-1),Ce={class:"relative"},Oe={class:"mt-1 text-xs text-gray-500"},Ye={key:0,class:"label"},Ee={class:"label-text-alt text-error"},Fe=e("div",{class:"mt-1 text-xs text-gray-500"},[e("span",null,"İpucu: Bu açıklama arama sonuçlarında gösterilir. Boş bırakırsanız, özet kısmı kullanılacaktır.")],-1),$e={class:"form-control w-full"},Ge=e("label",{class:"label"},[e("span",{class:"label-text"},"Görüntülenme Sayısı")],-1),Ke={class:"relative"},Le={class:"flex items-center space-x-2"},Ae={class:"label cursor-pointer justify-start gap-2"},We=e("span",{class:"label-text"},"Çizim İçerir",-1),He=e("div",{class:"divider"},null,-1),qe={class:"flex justify-end space-x-3"},Ie=["disabled"],Ze=Object.assign({name:"WriteUpdateForm"},{__name:"WriteUpdateForm",setup(Qe){const{props:y}=V(),f=b(y.categories),i=b(y.write),t=S({title:i.value.title||"",slug:i.value.slug||"",content:i.value.content||"",published_at:i.value.published_at||"",summary:i.value.summary||"",status:i.value.status||"draft",category_id:i.value.category_id||"",seo_keywords:i.value.seo_keywords||"",meta_description:i.value.meta_description||"",tags:i.value.tags||"",views_count:i.value.views_count||0,hasDraw:i.value.hasDraw||!1}),l=b({title:"",slug:"",content:"",published_at:"",summary:"",status:"",category_id:"",seo_keywords:"",meta_description:"",tags:""}),r=b({date:"",time:""});U(()=>{if(t.published_at){const n=new Date(t.published_at);isNaN(n.getTime())||(r.value.date=n.toISOString().split("T")[0],r.value.time=n.toTimeString().substring(0,5))}}),h(r.value,()=>{r.value.date&&r.value.time&&(t.published_at=`${r.value.date}T${r.value.time}:00`)},{deep:!0});const k=()=>{l.value.title=t.title?"":"Başlık zorunludur.",l.value.slug=t.slug?"":"Slug zorunludur.",l.value.content=t.content?"":"İçerik zorunludur.",l.value.published_at=r.value.date&&r.value.time?"":"Yayınlama tarihi zorunludur.",l.value.summary=t.summary?"":"Özet zorunludur.",l.value.category_id=t.category_id?"":"Kategori seçilmelidir.",l.value.published_at||(t.published_at=`${r.value.date}T${r.value.time}:00`)},z=()=>{k(),Object.values(l.value).some(n=>n!=="")||t.put(route("writes.update",{write:i.value.slug}),{onSuccess:()=>{C.visit(route("writes.show",{write:t.slug}))}})};let g=!0;return h(()=>t.title,n=>{g||(t.slug=n.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())}),h(()=>t.slug,(n,o)=>{n!==o&&(g=!0)}),h(()=>t.slug,n=>{n===""&&(g=!1)}),(n,o)=>{var x;return d(),u("div",Y,[e("div",E,[F,e("form",{onSubmit:j(z,["prevent"]),class:"space-y-6"},[e("div",$,[e("div",G,[e("div",K,[L,e("div",A,[c(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>s(t).title=a),placeholder:"Yazının başlığını girin",class:_(["input-bordered input w-full",{"input-error":l.value.title||s(t).errors.title}])},null,2),[[m,s(t).title]])]),l.value.title||s(t).errors.title?(d(),u("label",W,[e("span",H,p(l.value.title||s(t).errors.title),1)])):v("",!0)])]),e("div",null,[e("div",q,[I,e("div",Q,[c(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=a=>s(t).slug=a),placeholder:"örnek-yazı-slug",class:_(["input-bordered input w-full",{"input-error":l.value.slug||s(t).errors.slug}])},null,2),[[m,s(t).slug]])]),l.value.slug||s(t).errors.slug?(d(),u("label",J,[e("span",P,p(l.value.slug||s(t).errors.slug),1)])):v("",!0)])]),e("div",null,[e("div",R,[X,e("div",Z,[c(e("input",{type:"date","onUpdate:modelValue":o[2]||(o[2]=a=>r.value.date=a),class:_(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[m,r.value.date]]),c(e("input",{type:"time","onUpdate:modelValue":o[3]||(o[3]=a=>r.value.time=a),class:_(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[m,r.value.time]])]),l.value.published_at||s(t).errors.published_at?(d(),u("label",ee,[e("span",te,p(l.value.published_at||s(t).errors.published_at),1)])):v("",!0)])]),e("div",se,[e("div",le,[ae,e("div",oe,[c(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=a=>s(t).summary=a),rows:"3",placeholder:"Yazının kısa özeti",class:_(["textarea-bordered textarea w-full",{"textarea-error":l.value.summary||s(t).errors.summary}])},null,2),[[m,s(t).summary]])]),l.value.summary||s(t).errors.summary?(d(),u("label",re,[e("span",ie,p(l.value.summary||s(t).errors.summary),1)])):v("",!0)])]),e("div",ne,[B(O,{modelValue:s(t).content,"onUpdate:modelValue":o[5]||(o[5]=a=>s(t).content=a),label:"İçerik",error:l.value.content||s(t).errors.content,placeholder:"İçeriği buraya yazın...",height:"400px"},null,8,["modelValue","error"])]),e("div",null,[ue,c(e("select",{"onUpdate:modelValue":o[6]||(o[6]=a=>s(t).category_id=a),class:_(["select-bordered select w-full",{"select-error":l.value.category_id||s(t).errors.category_id}])},[de,(d(!0),u(M,null,N(f.value,a=>(d(),u("option",{key:a.id,value:a.id},p(a.name),9,ce))),128))],2),[[w,s(t).category_id]]),l.value.category_id||s(t).errors.category_id?(d(),u("label",_e,[e("span",pe,p(l.value.category_id||s(t).errors.category_id),1)])):v("",!0)]),e("div",null,[ve,c(e("select",{"onUpdate:modelValue":o[7]||(o[7]=a=>s(t).status=a),class:_(["select-bordered select w-full",{"select-error":l.value.status||s(t).errors.status}])},ye,2),[[w,s(t).status]]),l.value.status||s(t).errors.status?(d(),u("label",xe,[e("span",we,p(l.value.status||s(t).errors.status),1)])):v("",!0)]),e("div",null,[e("div",fe,[ke,e("div",ze,[c(e("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=a=>s(t).tags=a),placeholder:"etiket1, etiket2, etiket3",class:_(["input-bordered input w-full",{"input-error":l.value.tags||s(t).errors.tags}])},null,2),[[m,s(t).tags]])]),l.value.tags||s(t).errors.tags?(d(),u("label",Ve,[e("span",Se,p(l.value.tags||s(t).errors.tags),1)])):v("",!0)])]),e("div",null,[e("div",Ue,[De,e("div",je,[c(e("input",{type:"text","onUpdate:modelValue":o[9]||(o[9]=a=>s(t).seo_keywords=a),placeholder:"anahtar1, anahtar2, anahtar3",class:_(["input-bordered input w-full",{"input-error":l.value.seo_keywords||s(t).errors.seo_keywords}])},null,2),[[m,s(t).seo_keywords]])]),l.value.seo_keywords||s(t).errors.seo_keywords?(d(),u("label",Be,[e("span",Me,p(l.value.seo_keywords||s(t).errors.seo_keywords),1)])):v("",!0)])]),e("div",null,[e("div",Ne,[Te,e("div",Ce,[c(e("textarea",{"onUpdate:modelValue":o[10]||(o[10]=a=>s(t).meta_description=a),placeholder:"Arama motorları için kısa bir açıklama (max 160 karakter)",class:_(["textarea-bordered textarea w-full",{"textarea-error":l.value.meta_description||s(t).errors.meta_description}]),maxlength:"160",rows:"2"},null,2),[[m,s(t).meta_description]]),e("div",Oe,p(((x=s(t).meta_description)==null?void 0:x.length)||0)+"/160",1)]),l.value.meta_description||s(t).errors.meta_description?(d(),u("label",Ye,[e("span",Ee,p(l.value.meta_description||s(t).errors.meta_description),1)])):v("",!0),Fe])]),e("div",null,[e("div",$e,[Ge,e("div",Ke,[c(e("input",{type:"number","onUpdate:modelValue":o[11]||(o[11]=a=>s(t).views_count=a),class:"input-bordered input w-full",readonly:""},null,512),[[m,s(t).views_count]])])])]),e("div",Le,[e("label",Ae,[c(e("input",{type:"checkbox","onUpdate:modelValue":o[12]||(o[12]=a=>s(t).hasDraw=a),class:"checkbox checkbox-primary"},null,512),[[T,s(t).hasDraw]]),We])])]),He,e("div",qe,[e("button",{type:"submit",class:_(["btn btn-primary",{loading:s(t).processing}]),disabled:s(t).processing}," Güncelle ",10,Ie)])],32)])])}}});export{Ze as default};
