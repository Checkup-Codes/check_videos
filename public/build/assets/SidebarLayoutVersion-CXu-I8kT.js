import{Q as h,s as k,p as _,W as E,e as b,y as L,m as N,G as u,X as $,Y as A,x as P,j as B,w as g,a as p,b as x,o as C}from"./ssr-CVKOEYhR.js";import{_ as T,a as j}from"./SubSidebarScreen-Ujxqa4GJ.js";import U from"./VersionList-BXuocG2r.js";import{_ as W}from"./app--BojfMby.js";/* empty css            */const R=Object.assign({name:"SidebarLayoutVersion"},{__name:"SidebarLayoutVersion",emits:["update:isNarrow"],setup(z,{emit:y}){const t=h(),l=k(),w=_(()=>t.url),n=E("versions",[]),S=_(()=>{const e=(n==null?void 0:n.value)??n;return e&&Array.isArray(e)&&e.length>0?e:t.props.versions&&Array.isArray(t.props.versions)&&t.props.versions.length>0?t.props.versions:[]}),i=b(l.getters["Writes/isCollapsed"]),r=b(null),V=y;L(i,e=>{V("update:isNarrow",e)});let o=null;const a=()=>{var e,s,v;return(s=(e=r.value)==null?void 0:e.$el)!=null&&s.value?r.value.$el.value:(v=r.value)!=null&&v.$el?r.value.$el:r.value},c=()=>{const e=a();if(e){const s=e.scrollTop||0;l.dispatch("Versions/setScrollPosition",s)}},d=()=>{u(()=>{const e=a();if(e){const s=l.getters["Versions/scrollPosition"];s>0&&(e.scrollTop=s)}})},f=()=>{const e=a();e&&!o&&(o=()=>c(),e.addEventListener("scroll",o,{passive:!0}))},m=()=>{const e=a();e&&o&&(e.removeEventListener("scroll",o),o=null)};return N(()=>{i.value=l.getters["Writes/isCollapsed"],u(()=>{f(),d()})}),$(()=>{u(()=>{f(),d()})}),A(()=>{c(),m()}),P(()=>{c(),m()}),(e,s)=>(C(),B(j,{isNarrow:i.value},{default:g(()=>[s[0]||(s[0]=p("div",{class:"relative z-10 shrink-0 border-b border-border bg-background p-3"},[p("div",{class:"flex items-center justify-between gap-2"},[p("span",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},"Versiyonlar")])],-1)),x(T,{ref_key:"scrollableRef",ref:r,class:"sidebar-content-embedded min-h-0 flex-1",infoClass:"flex-1 min-h-0"},{default:g(()=>[x(U,{versions:S.value,currentUrl:w.value},null,8,["versions","currentUrl"])]),_:1},512)]),_:1},8,["isNarrow"]))}}),O=W(R,[["__scopeId","data-v-bc90f461"]]);export{O as default};
