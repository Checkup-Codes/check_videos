import{Q as x,g as p,z as N,C as j,b as t,x as A,A as K,c as V,f as b,u as k,Z as q,w as M,a as D,n as H,r as I,e as L,j as Q,o as C,K as Z,a1 as G,F as J,q as T}from"./ssr-CQ9FUimx.js";import{_ as R}from"./CheckLayout-CnWaZgaM.js";import X from"./SidebarLayoutTest-C6aCyFCr.js";import Y from"./SidebarLayoutCategory--ROML2R0.js";import{_ as ee}from"./FlashMessage-BZAFsLPE.js";import{u as te}from"./useSidebar-CkHWOBPT.js";import"./TestList-DLyRL74V.js";import"./app-BdvGTFnm.js";/* empty css            */import"./SubSidebarScreen-DsSt_YNy.js";import"./IconMenu-B1gVh4vS.js";import"./IconFolder-DiFgnbVr.js";import"./CategoryTree-3bkTFqVp.js";import"./IconChevronDown-BICgdKEK.js";function se(){var r;const{props:m}=x(),n=p(((r=m.flash)==null?void 0:r.success)||"");return N(()=>{var o;return(o=m.flash)==null?void 0:o.success},o=>{o?n.value=o:n.value=""}),{flashMessage:n}}const we=Object.assign({name:"LayoutTestCategories"},{__name:"LayoutTestCategories",setup(m){const{isCollapsed:n}=te(),{flashMessage:r}=se(),o=j(),B=()=>{r.value=""},s=x(),v=t(()=>{var e;return((e=s.props.screen)==null?void 0:e.name)||"tests"}),E=t(()=>{var e,i,u,c,d,W;return((u=(i=(e=s.props)==null?void 0:e.screen)==null?void 0:i.seo)==null?void 0:u.title)||((W=(d=(c=s.props)==null?void 0:c.app)==null?void 0:d.seo)==null?void 0:W.title)||"Testler"}),P={tests:X,test_categories:Y};t(()=>!!(s.props.auth&&s.props.auth.user));const f=p(typeof window<"u"?window.innerWidth:1024),g=t(()=>f.value<1024),y=()=>{typeof window<"u"&&(f.value=window.innerWidth)},w=t(()=>{const e=s.url||"",i=e.startsWith("/tests/")&&e!=="/tests"&&!e.includes("/tests/create")&&!e.includes("/tests/edit")&&!e.includes("/tests/take")&&!e.includes("/tests/result"),u=e==="/tests/create"||e.includes("/tests/edit"),c=e.startsWith("/test-categories/")&&e!=="/test-categories"&&!e.includes("/test-categories/create")&&!e.includes("/test-categories/edit"),d=e==="/test-categories/create"||e.includes("/test-categories/edit");return i||u||c||d}),a=t(()=>{const e=s.url;return e.includes("/take")||e.includes("/result")}),h=t(()=>g.value?!w.value:!0),S=t(()=>g.value?w.value:!0),z=t(()=>n.value&&v.value&&!a.value&&h.value&&P[v.value]||null),l=p(o.getters["Writes/isCollapsed"]);N(()=>o.getters["Writes/isCollapsed"],e=>{l.value=e},{immediate:!0});const F=t(()=>{const e={"transition-all duration-300":!0,"lg:ml-[-200px]":l.value&&!a.value,"lg:ml-[00px]":!l.value&&!a.value,"lg:ml-0":a.value};return g.value&&w.value&&(e["w-full"]=!0),e}),O=e=>{l.value=e},_=p(!1);A(()=>{_.value=!0,document.body.style.overflow="hidden",typeof window<"u"&&(f.value=window.innerWidth,window.addEventListener("resize",y))}),K(()=>{document.body.style.overflow="",typeof window<"u"&&window.removeEventListener("resize",y)});const U=t(()=>s.props.categories||[]),$=t(()=>s.props.tests||[]);return T("categories",U),T("tests",$),(e,i)=>(C(),V(J,null,[b(k(q),{title:E.value},null,8,["title"]),b(ee,{message:k(r),onClose:B},null,8,["message"]),b(R,{isCollapsed:!a.value,"show-sidebar-on-mobile":h.value,"show-main-content-on-mobile":S.value},{sidebar:M(()=>[!a.value&&_.value&&h.value?(C(),L(Z,{key:0,max:5,include:["SidebarLayoutTest","SidebarLayoutCategory"]},[(C(),L(G(z.value),{key:v.value,"onUpdate:isNarrow":O},null,32))],1024)):Q("",!0)]),default:M(()=>[D("div",{class:H([S.value?"block":"hidden lg:block",F.value])},[I(e.$slots,"screen")],2)]),_:3},8,["isCollapsed","show-sidebar-on-mobile","show-main-content-on-mobile"])],64))}});export{we as default};
