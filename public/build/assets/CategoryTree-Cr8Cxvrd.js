import{W as S,b as g,g as B,Q as q,B as H,c as o,j as a,F as x,l as v,a as n,o as i,f as c,i as z,w as b,n as u,t as p,h as L,u as y,p as k,q as O}from"./ssr-B7YpsODM.js";import w from"./IconLock-DyUHM9EX.js";import I from"./IconLink-CY2PK2cx.js";import T from"./IconChevronDown-efevmXk6.js";import{_ as M}from"./app-BgUr1Aw2.js";/* empty css            */const P={class:"space-y-1 p-3"},Q={class:"flex items-center justify-between"},J={class:"flex min-w-0 flex-1 items-center gap-2"},K={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},R={key:1,class:"shrink-0 text-primary",title:"Sadece link yazıları"},U=["title"],X={class:"flex shrink-0 items-center gap-2"},Y=["onClick"],Z={class:"inline-flex items-center rounded-full border border-border bg-secondary px-2 py-0.5 text-xs font-semibold text-secondary-foreground"},ee={key:0,class:"pb-1"},te={class:"space-y-0.5 pl-4"},se={class:"flex items-center justify-between"},ne={class:"flex min-w-0 flex-1 items-center gap-2"},re={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},oe=["title"],ie={class:"flex shrink-0 items-center gap-2"},le=["onClick"],ae={class:"inline-flex items-center rounded-full border border-border bg-secondary px-1.5 py-0.5 text-xs font-semibold text-secondary-foreground"},ce={key:0,class:"pb-1"},de={class:"space-y-0.5 pl-4"},ue={class:"flex items-center justify-between"},fe={class:"flex min-w-0 flex-1 items-center gap-2"},pe={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},me=["title"],_e={class:"inline-flex shrink-0 items-center rounded-full border border-border bg-secondary px-1.5 py-0.5 text-xs font-semibold text-secondary-foreground"},ge={key:0,class:"flex h-32 items-center justify-center text-center text-muted-foreground opacity-50"},he=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1},expandAll:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(xe,{expose:V,emit:ve}){const m=S("categories",[]),F=g(()=>{const e=(m==null?void 0:m.value)??m;return Array.isArray(e)?e:[]}),G=S("isAdmin",!1),N=B("all");B(!1);const W=q();function C(e,l){return e.map(t=>{const s=C(t.children||[],l);let r=!0;return G&&l!=="all"&&(l==="public"?r=t.status!=="hidden"&&t.status!=="link_only":r=t.status===l),r||s.length>0?{...t,children:s}:null}).filter(Boolean).sort((t,s)=>d(s)-d(t))}const D=g(()=>F.value.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0).sort((e,l)=>d(l)-d(e))),$=g(()=>C(D.value,N.value)),f=g(()=>W.url),h=H(),d=e=>{let l=e.writes_count||0;return e.children&&e.children.length&&e.children.forEach(t=>{l+=d(t)}),l},E=(e=!0)=>{h.dispatch("CategorySidebar/expandAllCategories",e)},j=e=>{h.dispatch("CategorySidebar/toggleCollapse",e)},_=e=>h.getters["CategorySidebar/isCollapsed"](e),A=e=>{var t,s;return((t=e.writes)==null?void 0:t.some(r=>r.status==="link_only"))?!0:(s=e.children)!=null&&s.length?e.children.some(r=>A(r)):!1};return V({expandAllCategories:E}),(e,l)=>(i(),o("div",P,[(i(!0),o(x,null,v($.value,t=>(i(),o("div",{key:t.id},[n("div",{class:u(["group rounded-md transition-colors",f.value===`/categories/${t.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[c(y(k),{href:e.route("categories.show",{category:t.slug}),class:"block px-3 py-2"},{default:b(()=>[n("div",Q,[n("div",J,[t.status==="hidden"?(i(),o("span",K,[c(w,{class:"h-3 w-3"})])):a("",!0),A(t)?(i(),o("span",R,[c(I,{class:"h-3 w-3"})])):a("",!0),n("h3",{class:u(["truncate text-sm font-medium",f.value===`/categories/${t.slug}`?"text-accent-foreground":"text-foreground"]),title:t.name},p(t.name),11,U)]),n("div",X,[t.children.length?(i(),o("button",{key:0,onClick:L(s=>j(t.id),["prevent","stop"]),class:"inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},[c(T,{class:u(["h-3 w-3 transition-transform duration-200",{"rotate-180":!_(t.id)}])},null,8,["class"])],8,Y)):a("",!0),n("div",Z,p(d(t)),1)])])]),_:2},1032,["href"]),t.children.length?z((i(),o("div",ee,[n("div",te,[(i(!0),o(x,null,v(t.children,s=>(i(),o("div",{key:s.id},[n("div",{class:u(["group rounded-md transition-colors",f.value===`/categories/${s.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[c(y(k),{href:e.route("categories.show",{category:s.slug}),class:"block px-3 py-1.5"},{default:b(()=>[n("div",se,[n("div",ne,[s.status==="hidden"||s.parent_hidden?(i(),o("span",re,[c(w,{class:"h-3 w-3"})])):a("",!0),n("span",{class:u(["truncate text-sm font-medium",f.value===`/categories/${s.slug}`?"text-accent-foreground":"text-foreground"]),title:s.name},p(s.name),11,oe)]),n("div",ie,[s.children.length?(i(),o("button",{key:0,onClick:L(r=>j(s.id),["prevent","stop"]),class:"inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},[c(T,{class:u(["h-3 w-3 transition-transform duration-200",{"rotate-180":!_(s.id)}])},null,8,["class"])],8,le)):a("",!0),n("div",ae,p(d(s)),1)])])]),_:2},1032,["href"]),s.children.length?z((i(),o("div",ce,[n("div",de,[(i(!0),o(x,null,v(s.children,r=>(i(),o("div",{key:r.id},[n("div",{class:u(["group rounded-md transition-colors",f.value===`/categories/${r.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[c(y(k),{href:e.route("categories.show",{category:r.slug}),class:"block px-3 py-1.5"},{default:b(()=>[n("div",ue,[n("div",fe,[r.status==="hidden"||r.parent_hidden?(i(),o("span",pe,[c(w,{class:"h-3 w-3"})])):a("",!0),n("span",{class:u(["truncate text-xs font-medium",f.value===`/categories/${r.slug}`?"text-accent-foreground":"text-foreground"]),title:r.name},p(r.name),11,me)]),n("div",_e,p(d(r)),1)])]),_:2},1032,["href"])],2)]))),128))])],512)),[[O,!_(s.id)]]):a("",!0)],2)]))),128))])],512)),[[O,!_(t.id)]]):a("",!0)],2)]))),128)),$.value.length===0?(i(),o("div",ge,[...l[0]||(l[0]=[n("div",null,"Henüz kategori bulunmuyor",-1)])])):a("",!0)]))}}),je=M(he,[["__scopeId","data-v-b510b2cc"]]);export{je as default};
