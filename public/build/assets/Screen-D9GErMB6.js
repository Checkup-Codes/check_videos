import{Q as L,l as r,E as M,x as w,i as k,g as n,b as l,F as h,m,n as y,h as C,t as d,o as i,s as N}from"./app-Bp_7ERFU.js";/* empty css            */const T={class:"grid grid-cols-1 p-5 leading-loose"},j={class:"rounded-lg bg-white p-3 shadow-lg"},z={key:0,class:"space-y-4"},A=N('<div class="h-28 w-40 flex-shrink-0 rounded-lg bg-gray-200 md:w-52"></div><div class="flex-1 space-y-4 py-1"><div class="h-4 w-3/4 rounded bg-gray-200"></div><div class="h-4 w-1/2 rounded bg-gray-200"></div><div class="h-4 w-1/3 rounded bg-gray-200"></div></div>',2),F=[A],H={key:1,class:"mt-6 space-y-4"},K={class:"mb-4 h-28 w-full flex-shrink-0 md:mb-0 md:w-40 lg:w-52"},Q=["src"],X={class:"w-full md:px-12"},Y=["href"],G={class:"text-sm text-gray-500"},O={class:"text-sm text-gray-500"},U={class:"text-sm text-gray-500"},q={class:"mt-6 flex items-center justify-center space-x-2"},J=["disabled"],W={key:0},Z=["onClick"],tt={key:1},et=["disabled"],I="https://www.googleapis.com/youtube/v3",P=10,ot={__name:"Screen",setup(st){const{props:S}=L(),$=r(S.lesson),_="AIzaSyCoIcX9-KNL9aOYwsvdDpflXxHImczwFlQ",D=r($.value.playlist_id),v=r([]),g=r(!1),s=r(1),x=r(null),R=r(null),b=r(0);M(()=>{f()});const f=async(a="")=>{g.value=!0,v.value=[];try{const e=await w.get(`${I}/playlistItems`,{params:{part:"snippet",playlistId:D.value,maxResults:P,pageToken:a,key:_}}),t=e.data.items.map(o=>o.snippet.resourceId.videoId);b.value=e.data.pageInfo.totalResults;const u=await w.get(`${I}/videos`,{params:{part:"snippet,contentDetails,statistics",id:t.join(","),key:_}});v.value=u.data.items.map(o=>({id:o.id,title:o.snippet.title,thumbnail:o.snippet.thumbnails.default.url,duration:B(o.contentDetails.duration),viewCount:o.statistics.viewCount.toLocaleString(),likeCount:o.statistics.likeCount.toLocaleString()})),x.value=e.data.nextPageToken||null,R.value=a||null}catch(e){console.error("Error fetching videos:",e)}finally{g.value=!1}},c=k(()=>Math.ceil(b.value/P)),V=k(()=>{const a=[],e=c.value;if(s.value>2&&s.value<e-1)for(let t=s.value-1;t<=s.value+1;t++)a.push(t);else if(s.value<=2)for(let t=2;t<=Math.min(3,e-1);t++)a.push(t);else if(s.value>=e-1)for(let t=Math.max(e-2,2);t<e;t++)a.push(t);return a}),p=a=>{s.value=a,f(a===1?"":x.value)},B=a=>{const e=/PT(\d+H)?(\d+M)?(\d+S)?/,t=a.match(e),u=t[1]?t[1].slice(0,-1):"00",o=t[2]?t[2].slice(0,-1):"00",E=t[3]?t[3].slice(0,-1):"00";return`${u}:${o}:${E}`};return(a,e)=>(i(),n("div",T,[l("div",j,[g.value?(i(),n("div",z,[(i(),n(h,null,m(10,t=>l("div",{key:t,class:"flex animate-pulse items-center space-x-4"},F)),64))])):(i(),n("ul",H,[(i(!0),n(h,null,m(v.value,t=>(i(),n("li",{key:t.id,class:"flex flex-col items-start rounded-lg bg-gray-100 p-4 shadow-sm md:flex-row md:items-center"},[l("div",K,[l("img",{src:t.thumbnail,alt:"Video Thumbnail",class:"h-full w-full rounded-lg object-cover shadow-sm"},null,8,Q)]),l("div",X,[l("a",{href:`https://www.youtube.com/watch?v=${t.id}`,target:"_blank",class:"text-md font-semibold text-gray-800 hover:underline md:text-lg"},d(t.title),9,Y),l("p",G,"Süre: "+d(t.duration),1),l("p",O,"Görüntülenme: "+d(t.viewCount),1),l("p",U,"Beğeniler: "+d(t.likeCount),1)])]))),128))])),l("div",q,[l("button",{disabled:s.value===1,onClick:e[0]||(e[0]=t=>p(1)),class:y(["rounded px-3 py-2 text-sm transition-all hover:bg-gray-300",s.value===1?"bg-gray-800 text-white":"bg-gray-200 text-gray-800"])}," 1 ",10,J),s.value>3?(i(),n("span",W,"...")):C("",!0),(i(!0),n(h,null,m(V.value,t=>(i(),n("button",{key:t,onClick:u=>p(t),class:y(["rounded px-3 py-2 text-sm transition-all hover:bg-gray-300",s.value===t?"bg-gray-800 text-white":"bg-gray-200 text-gray-800"])},d(t),11,Z))),128)),s.value<c.value-2?(i(),n("span",tt,"...")):C("",!0),l("button",{disabled:s.value===c.value,onClick:e[1]||(e[1]=t=>p(c.value)),class:y(["rounded px-3 py-2 text-sm transition-all hover:bg-gray-300",s.value===c.value?"bg-gray-800 text-white":"bg-gray-200 text-gray-800"])},d(c.value),11,et)])])]))}};export{ot as default};
