import{T as B,g as a,e as z,w as V,a as r,h as L,i as u,c as n,j as m,k as b,n as c,u as t,o as i,F as j,l as M,t as d,v as S,m as f,f as q,p as I}from"./ssr-D-O19Sjt.js";import{_ as K}from"./CheckScreen-CfAad_1h.js";const N={class:"space-y-4 py-6"},T={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},A=["value"],E={key:0,class:"mt-1 text-xs text-destructive"},F={key:0,class:"mt-1 text-xs text-destructive"},G={key:0,class:"mt-1 text-xs text-destructive"},Y={key:0,class:"mt-1 text-xs text-destructive"},$={key:0,class:"mt-1 text-xs text-destructive"},D={key:0,class:"mt-1 text-xs text-destructive"},O={key:0,class:"mt-1 text-xs text-destructive"},P={class:"flex justify-end gap-2 pt-2"},H=["disabled"],J={key:0,class:"mr-1 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Q={key:1,xmlns:"http://www.w3.org/2000/svg",class:"mr-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Z={__name:"Screen",props:{bookmark:{type:Object,required:!0},categories:{type:Array,default:()=>[]}},setup(p){const l=p,o=B({name:l.bookmark.name||"",description:l.bookmark.description||"",my_comment:l.bookmark.my_comment||"",extended_comment_link:l.bookmark.extended_comment_link||"",link:l.bookmark.link||"",preview_image:l.bookmark.preview_image||"",bookmark_category_id:l.bookmark.bookmark_category_id||"",order:l.bookmark.order||0,_method:"PUT"}),k=a(null),v=a(null),x=a(null),y=a(null),_=a(null),w=a(null),h=a(null),C=()=>{},U=()=>{o.post(`/bookmarks/${l.bookmark.id}`,{onError:g=>{var R;console.error("Update errors:",g);const e=Object.keys(g)[0],s={bookmark_category_id:k,name:v,link:x,preview_image:y,description:_,my_comment:w,extended_comment_link:h};(R=s[e])!=null&&R.value&&s[e].value.scrollIntoView({behavior:"smooth",block:"center"})}})};return(g,e)=>(i(),z(K,null,{default:V(()=>[r("div",N,[r("form",{onSubmit:L(U,["prevent"]),class:"space-y-4"},[r("div",T,[r("div",{class:"md:col-span-2",ref_key:"categoryRef",ref:k},[r("div",null,[e[8]||(e[8]=r("label",{class:"mb-1 block text-sm font-medium text-foreground"},[b(" Kategori "),r("span",{class:"text-destructive"},"*")],-1)),u(r("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>t(o).bookmark_category_id=s),class:c(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":t(o).errors.bookmark_category_id}]),required:""},[e[7]||(e[7]=r("option",{value:""},"Kategori Seçin",-1)),(i(!0),n(j,null,M(p.categories,s=>(i(),n("option",{key:s.id,value:s.id},d(s.name),9,A))),128))],2),[[S,t(o).bookmark_category_id]]),t(o).errors.bookmark_category_id?(i(),n("p",E,d(t(o).errors.bookmark_category_id),1)):m("",!0)])],512),r("div",{class:"md:col-span-2",ref_key:"nameRef",ref:v},[r("div",null,[e[9]||(e[9]=r("label",{class:"mb-1 block text-sm font-medium text-foreground"},[b(" İsim "),r("span",{class:"text-destructive"},"*")],-1)),u(r("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>t(o).name=s),placeholder:"Yer imi adı",class:c(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":t(o).errors.name}]),required:""},null,2),[[f,t(o).name]]),t(o).errors.name?(i(),n("p",F,d(t(o).errors.name),1)):m("",!0)])],512),r("div",{class:"md:col-span-2",ref_key:"linkRef",ref:x},[r("div",null,[e[10]||(e[10]=r("label",{class:"mb-1 block text-sm font-medium text-foreground"},[b(" Link "),r("span",{class:"text-destructive"},"*")],-1)),u(r("input",{type:"url","onUpdate:modelValue":e[2]||(e[2]=s=>t(o).link=s),placeholder:"https://...",class:c(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":t(o).errors.link}]),required:"",onBlur:C},null,34),[[f,t(o).link]]),t(o).errors.link?(i(),n("p",G,d(t(o).errors.link),1)):m("",!0)])],512),r("div",{class:"md:col-span-2",ref_key:"previewImageRef",ref:y},[r("div",null,[e[11]||(e[11]=r("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Ön İzleme Resmi (URL)",-1)),u(r("input",{type:"url","onUpdate:modelValue":e[3]||(e[3]=s=>t(o).preview_image=s),placeholder:"https://...",class:c(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":t(o).errors.preview_image}])},null,2),[[f,t(o).preview_image]]),t(o).errors.preview_image?(i(),n("p",Y,d(t(o).errors.preview_image),1)):m("",!0),e[12]||(e[12]=r("p",{class:"mt-1 text-xs text-muted-foreground"}," Link'ten otomatik olarak alınabilir veya manuel olarak eklenebilir ",-1))])],512),r("div",{class:"md:col-span-2",ref_key:"descriptionRef",ref:_},[e[13]||(e[13]=r("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Açıklama",-1)),u(r("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>t(o).description=s),placeholder:"Kısa açıklama...",rows:"2",class:c(["flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":t(o).errors.description}])},null,2),[[f,t(o).description]]),t(o).errors.description?(i(),n("p",$,d(t(o).errors.description),1)):m("",!0)],512),r("div",{class:"md:col-span-2",ref_key:"myCommentRef",ref:w},[e[14]||(e[14]=r("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Kendi Yorumum",-1)),u(r("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>t(o).my_comment=s),placeholder:"Bu yer imi hakkındaki düşünceleriniz, notlarınız...",rows:"4",class:c(["flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":t(o).errors.my_comment}])},null,2),[[f,t(o).my_comment]]),t(o).errors.my_comment?(i(),n("p",D,d(t(o).errors.my_comment),1)):m("",!0)],512),r("div",{class:"md:col-span-2",ref_key:"extendedCommentLinkRef",ref:h},[r("div",null,[e[15]||(e[15]=r("label",{class:"mb-1 block text-sm font-medium text-foreground"},"Genişletilmiş Yorum Linki",-1)),u(r("input",{type:"url","onUpdate:modelValue":e[6]||(e[6]=s=>t(o).extended_comment_link=s),placeholder:"https://...",class:c(["flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":t(o).errors.extended_comment_link}])},null,2),[[f,t(o).extended_comment_link]]),t(o).errors.extended_comment_link?(i(),n("p",O,d(t(o).errors.extended_comment_link),1)):m("",!0),e[16]||(e[16]=r("p",{class:"mt-1 text-xs text-muted-foreground"}," Bu yer imi ile ilgili detaylı yorumunuzun veya referansınızın linki ",-1))])],512)]),r("div",P,[q(t(I),{href:`/bookmarks/${p.bookmark.id}`,class:"inline-flex h-9 items-center justify-center rounded-md border border-input bg-background px-4 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",disabled:t(o).processing},{default:V(()=>[...e[17]||(e[17]=[b(" İptal ",-1)])]),_:1},8,["href","disabled"]),r("button",{type:"submit",class:"inline-flex h-9 items-center justify-center rounded-md bg-primary px-4 text-sm font-medium text-primary-foreground ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-primary/90",disabled:t(o).processing},[t(o).processing?(i(),n("svg",J,[...e[18]||(e[18]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),n("svg",Q,[...e[19]||(e[19]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])),b(" "+d(t(o).processing?"Güncelleniyor...":"Güncelle"),1)],8,H)])],32)])]),_:1}))}};export{Z as default};
