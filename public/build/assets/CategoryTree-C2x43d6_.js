import{L as q,r as b,p as M,Q as J,C as R,c as o,o as l,a as e,h as u,k as j,v as X,u as m,n as d,F as z,g as B,S as Y,U as Z,e as $,w as S,t as w,l as N,i as V,q as Q}from"./ssr-CelVhnxm.js";import{_ as ee}from"./app-DqonJLi-.js";/* empty css            */const a=g=>(Y("data-v-0a9e432c"),g=g(),Z(),g),te={class:"mb-3"},se={key:0,class:"mb-3"},ne={class:"hidden gap-2 sm:flex"},oe={key:0},le=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),ie=[le],ae={key:1},re={key:0},de=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),ce=[de],ue={key:1},he={key:0},ve=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),_e=[ve],pe={key:1},we={key:0},ge=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),be=[ge],ke={key:1},fe={class:"relative inline-block sm:hidden"},xe=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)),me=[xe],Ce={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},ye={class:"flex flex-col gap-1 py-1"},Me=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),je=[Me],ze=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)),Be=[ze],$e=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)),Se=[$e],Ve=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)),He=[Ve],Ae={class:"space-y-2"},Le={class:"flex items-center justify-between"},Te={class:"flex items-center gap-2"},Ie={key:0,class:"text-warning",title:"Gizli kategori"},Fe=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),Ge=[Fe],Oe={key:1,class:"text-info",title:"Sadece link yazıları"},qe=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),Ne=[qe],Qe=["title"],De={class:"flex items-center gap-2"},Ee=["onClick"],Ue=a(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),We=[Ue],Ke={class:"badge badge-sm"},Pe={key:0,class:"relative px-3 pb-3"},Je=a(()=>e("div",{class:"absolute left-6 top-0 h-full w-px bg-base-300"},null,-1)),Re={class:"space-y-1"},Xe=a(()=>e("div",{class:"absolute left-6 top-3 h-px w-4 bg-base-300"},null,-1)),Ye={class:"ml-8"},Ze={class:"flex items-center justify-between"},et={class:"flex items-center gap-2"},tt={key:0,class:"text-warning",title:"Gizli kategori"},st=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),nt=[st],ot=["title"],lt={class:"flex items-center gap-2"},it=["onClick"],at=a(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),rt=[at],dt={class:"badge badge-xs"},ct={key:0,class:"relative mt-1"},ut=a(()=>e("div",{class:"absolute left-4 top-0 h-full w-px bg-base-300"},null,-1)),ht=a(()=>e("div",{class:"absolute left-4 top-3 h-px w-4 bg-base-300"},null,-1)),vt={class:"ml-8"},_t={class:"flex items-center justify-between"},pt={class:"flex items-center gap-2"},wt={key:0,class:"text-warning",title:"Gizli kategori"},gt=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),bt=[gt],kt=["title"],ft={class:"badge badge-xs"},xt={key:0,class:"flex h-32 items-center justify-center text-center opacity-50"},mt=a(()=>e("div",null,"Henüz kategori bulunmuyor",-1)),Ct=[mt],yt=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(g,{expose:D,emit:Mt}){const k=g,E=q("categories",[]),H=q("isAdmin",!1),C=b(""),A=b(""),r=b("all"),p=b(!1);function L(i,s,t){return i.map(n=>{const h=L(n.children||[],s,t),c=n.name.toLowerCase().includes(s.toLowerCase());let x=!0;return H&&t!=="all"&&(t==="public"?x=n.status!=="hidden"&&n.status!=="link_only":x=n.status===t),c&&x||h.length>0?{...n,children:h}:null}).filter(Boolean).sort((n,h)=>_(h)-_(n))}const U=M(()=>E.filter(i=>!i.parent_id||i.parent_id===null||i.parent_id==="null"||i.parent_id===0).sort((i,s)=>_(s)-_(i)));let T=null;const W=()=>{clearTimeout(T),T=setTimeout(()=>{A.value=C.value},300)},I=M(()=>L(U.value,A.value,r.value)),K=J(),v=M(()=>K.url),F=b(null),y=R(),_=i=>{let s=i.writes_count||0;return i.children&&i.children.length&&i.children.forEach(t=>{s+=_(t)}),s},P=(i=!0)=>{y.dispatch("CategorySidebar/expandAllCategories",i)},G=i=>{y.dispatch("CategorySidebar/toggleCollapse",i)},f=i=>y.getters["CategorySidebar/isCollapsed"](i),O=i=>{var t,n;return((t=i.writes)==null?void 0:t.some(h=>h.status==="link_only"))?!0:(n=i.children)!=null&&n.length?i.children.some(h=>O(h)):!1};return D({expandAllCategories:P,scrollContainer:F}),(i,s)=>(l(),o("div",{ref_key:"scrollContainer",ref:F,class:"category-tree-container space-y-1 overflow-y-auto p-3"},[e("div",te,[j(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>C.value=t),type:"text",class:"input-bordered input w-full",placeholder:"Kategori ara...",onInput:W},null,544),[[X,C.value]])]),m(H)?(l(),o("div",se,[e("div",ne,[e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="all"}]),onClick:s[1]||(s[1]=t=>r.value="all")},[k.isCollapsed?(l(),o("span",oe,ie)):(l(),o("span",ae,"Tümü"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="public"}]),onClick:s[2]||(s[2]=t=>r.value="public")},[k.isCollapsed?(l(),o("span",re,ce)):(l(),o("span",ue,"Herkese Açık"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="link_only"}]),onClick:s[3]||(s[3]=t=>r.value="link_only")},[k.isCollapsed?(l(),o("span",he,_e)):(l(),o("span",pe,"Sadece Link"))],2),e("button",{class:d(["btn btn-outline btn-xs flex items-center justify-center",{"btn-neutral":r.value==="hidden"}]),onClick:s[4]||(s[4]=t=>r.value="hidden")},[k.isCollapsed?(l(),o("span",we,be)):(l(),o("span",ke,"Gizli"))],2)]),e("div",fe,[e("button",{onClick:s[5]||(s[5]=t=>p.value=!p.value),class:"btn btn-ghost btn-xs"},me),p.value?(l(),o("div",Ce,[e("div",ye,[e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="all"}]),onClick:s[6]||(s[6]=t=>{r.value="all",p.value=!1})},je,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="public"}]),onClick:s[7]||(s[7]=t=>{r.value="public",p.value=!1})},Be,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="link_only"}]),onClick:s[8]||(s[8]=t=>{r.value="link_only",p.value=!1})},Se,2),e("button",{class:d(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"btn-neutral":r.value==="hidden"}]),onClick:s[9]||(s[9]=t=>{r.value="hidden",p.value=!1})},He,2)])])):u("",!0)])])):u("",!0),e("div",Ae,[(l(!0),o(z,null,B(I.value,t=>(l(),o("div",{key:t.id},[e("div",{class:d(["rounded-lg bg-base-100 transition-all duration-200",v.value===`/categories/${t.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},[$(m(V),{href:i.route("categories.show",{category:t.slug}),class:"block p-3"},{default:S(()=>[e("div",Le,[e("div",Te,[t.status==="hidden"?(l(),o("span",Ie,Ge)):u("",!0),O(t)?(l(),o("span",Oe,Ne)):u("",!0),e("h3",{class:d(["max-w-[120px] truncate text-sm font-medium leading-tight",v.value===`/categories/${t.slug}`?"text-base-100":"text-base-content"]),title:t.name},w(t.name),11,Qe)]),e("div",De,[t.children.length?(l(),o("button",{key:0,onClick:N(n=>G(t.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-3 w-3 transition-transform",{"rotate-180":!f(t.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},We,2))],8,Ee)):u("",!0),e("div",Ke,w(_(t)),1)])])]),_:2},1032,["href"]),t.children.length?j((l(),o("div",Pe,[Je,e("div",Re,[(l(!0),o(z,null,B(t.children,(n,h)=>(l(),o("div",{key:n.id,class:"relative"},[Xe,e("div",Ye,[$(m(V),{href:i.route("categories.show",{category:n.slug}),class:d(["block rounded-md p-2 transition-all duration-200",v.value===`/categories/${n.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},{default:S(()=>[e("div",Ze,[e("div",et,[n.status==="hidden"||n.parent_hidden?(l(),o("span",tt,nt)):u("",!0),e("span",{class:d(["max-w-[100px] truncate text-sm font-medium",v.value===`/categories/${n.slug}`||v.value===`/categories/${t.slug}`?"text-base-100":"text-base-content"]),title:n.name},w(n.name),11,ot)]),e("div",lt,[n.children.length?(l(),o("button",{key:0,onClick:N(c=>G(n.id),["prevent","stop"]),class:"btn btn-ghost btn-xs btn-square"},[(l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:d(["h-3 w-3 transition-transform",{"rotate-180":!f(n.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},rt,2))],8,it)):u("",!0),e("div",dt,w(_(n)),1)])])]),_:2},1032,["href","class"]),n.children.length?j((l(),o("div",ct,[ut,(l(!0),o(z,null,B(n.children,(c,x)=>(l(),o("div",{key:c.id,class:"relative"},[ht,e("div",vt,[$(m(V),{href:i.route("categories.show",{category:c.slug}),class:d(["block rounded-md p-2 transition-all duration-200",v.value===`/categories/${c.slug}`?"bg-base-content text-base-100":"hover:bg-base-300"])},{default:S(()=>[e("div",_t,[e("div",pt,[c.status==="hidden"||c.parent_hidden?(l(),o("span",wt,bt)):u("",!0),e("span",{class:d(["max-w-[80px] truncate text-xs font-medium",v.value===`/categories/${c.slug}`||v.value===`/categories/${t.slug}`?"text-base-100":"text-base-content"]),title:c.name},w(c.name),11,kt)]),e("div",ft,w(_(c)),1)])]),_:2},1032,["href","class"])])]))),128))],512)),[[Q,!f(n.id)]]):u("",!0)])]))),128))])],512)),[[Q,!f(t.id)]]):u("",!0)],2)]))),128)),I.value.length===0?(l(),o("div",xt,Ct)):u("",!0)])],512))}}),$t=ee(yt,[["__scopeId","data-v-0a9e432c"]]);export{$t as default};
