import{s as W,Q as B,p as f,W as P,e as m,y as V,m as R,E as p,X as j,Y as A,x as z,j as K,w as c,a as _,b as a,u as w,i as y,n as S,c as k,h as E,o as v}from"./ssr-DE0PqSHa.js";import D from"./TestList-DGv6f-Uj.js";import{_ as H,a as I}from"./SubSidebarScreen-BkpxDIs3.js";import{u as M}from"./useSidebar-CpHu8Nug.js";import O from"./IconMenu-DOaveBXy.js";import Q from"./IconFolder-C6MBbnWN.js";import{_ as U}from"./app-Vsdp8_Ja.js";/* empty css            */const X={class:"relative z-10 shrink-0 border-b border-border bg-background p-2"},Y={class:"flex items-center justify-between gap-2"},q={class:"flex items-center gap-1"},F={key:0},G={key:0},J=Object.assign({name:"SidebarLayoutTest"},{__name:"SidebarLayoutTest",emits:["update:isNarrow"],setup(Z,{emit:C}){M();const l=W(),u=B();f(()=>!!(u.props.auth&&u.props.auth.user));const h=f(()=>{const e=u.url;return e.startsWith("/tests")&&!e.startsWith("/test-categories")}),n=P("tests",[]),N=f(()=>{const e=(n==null?void 0:n.value)??n;return Array.isArray(e)?e:[]}),$=m(null),s=m(null),r=m(l.getters["Writes/isCollapsed"]),T=C;V(r,e=>{T("update:isNarrow",e)});let o=null;const i=()=>{var e,t,L;return(t=(e=s.value)==null?void 0:e.$el)!=null&&t.value?s.value.$el.value:(L=s.value)!=null&&L.$el?s.value.$el:s.value},d=()=>{const e=i();if(e){const t=e.scrollTop||0;l.dispatch("Writes/setScrollPosition",t)}},g=()=>{p(()=>{const e=i();if(e){const t=l.getters["Writes/scrollPosition"];t>0&&(e.scrollTop=t)}})},x=()=>{const e=i();e&&!o&&(o=()=>d(),e.addEventListener("scroll",o,{passive:!0}))},b=()=>{const e=i();e&&o&&(e.removeEventListener("scroll",o),o=null)};return R(()=>{r.value=l.getters["Writes/isCollapsed"],p(()=>{x(),g()})}),j(()=>{p(()=>{x(),g()})}),A(()=>{d(),b()}),z(()=>{d(),b()}),(e,t)=>(v(),K(I,{isNarrow:r.value},{default:c(()=>[_("div",X,[_("div",Y,[_("div",q,[a(w(y),{href:e.route("tests.index"),class:S(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",h.value?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"]),title:"Liste görünümü"},{default:c(()=>[a(O,{class:"h-3 w-3"}),r.value?E("",!0):(v(),k("span",F,"Liste"))]),_:1},8,["href","class"]),a(w(y),{href:e.route("test-categories.index"),class:S(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",h.value?"text-muted-foreground hover:bg-accent hover:text-accent-foreground":"bg-accent text-accent-foreground"]),title:"Kategori görünümü"},{default:c(()=>[a(Q,{class:"h-3 w-3"}),r.value?E("",!0):(v(),k("span",G,"Kategori"))]),_:1},8,["href","class"])])])]),a(H,{ref_key:"scrollableRef",ref:s,class:"sidebar-content-embedded min-h-0 flex-1",infoClass:"flex-1 min-h-0"},{default:c(()=>[a(D,{ref_key:"testListRef",ref:$,tests:N.value,isCollapsed:r.value},null,8,["tests","isCollapsed"])]),_:1},512)]),_:1},8,["isNarrow"]))}}),ie=U(J,[["__scopeId","data-v-5d7a5e8d"]]);export{ie as default};
