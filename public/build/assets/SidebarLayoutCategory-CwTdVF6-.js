import{_ as x}from"./CheckSubsidebar-CQDcnxRu.js";import{_ as L}from"./SubSidebarScreen-B10uT4DR.js";import w from"./CategoryTree-DvWN_NdN.js";import{_ as A}from"./TopSubsidebar-BbelJhRQ.js";import{u as k}from"./useSidebar-BZXAjftO.js";import{D as N,p as n,M as I,r as o,s as R,m as u,j as g,w as m,e as f,h as $,o as _,n as W}from"./ssr-BzisTTDH.js";import{_ as j}from"./app-Cur2rsn2.js";/* empty css            */const B=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(O,{emit:C}){k();const a=N(),h=n(()=>a.getters["Theme/getCurrentTheme"]),c=I("categories",[]);n(()=>c.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0));const i=n(()=>a.getters["CategorySidebar/collapsedSet"].size===0),v=()=>"",S=o(!0),b=o(null),r=o(a.getters["Writes/isCollapsed"]),t=o(null),y=C,T=e=>{r.value=e,a.commit("Writes/SET_COLLAPSED",e)};R(r,e=>{y("update:isNarrow",e)}),u(()=>{r.value=a.getters["Writes/isCollapsed"]});const d=e=>{const s=e.target.scrollTop;localStorage.setItem("categorySidebarScroll",s)},p=e=>{let s=[];return e.forEach(l=>{s.push(l.id),l.children&&l.children.length>0&&(s=s.concat(p(l.children)))}),s},E=()=>{if(i.value){const e=p(c);a.dispatch("CategorySidebar/collapseAll",e)}else a.dispatch("CategorySidebar/expandAll")};return u(()=>{if(t.value&&(t.value.addEventListener&&t.value.addEventListener("scroll",d),t.value.$el)){t.value.$el.addEventListener("scroll",d);const e=localStorage.getItem("categorySidebarScroll");e&&(t.value.$el.scrollTop=parseInt(e,10))}}),(e,s)=>(_(),g(x,{isNarrow:r.value,class:W(h.value)},{default:m(()=>[f(A,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:i.value,onToggleExpand:E,onToggleWidth:T,class:"border-base-200 bg-base-200"},null,8,["isExpanded"]),f(L,{ref_key:"scrollableRef",ref:t,class:"bg-base-200"},{default:m(()=>[S.value?(_(),g(w,{key:0,ref_key:"categoryTreeRef",ref:b,getLinkClasses:v,expandAll:i.value,isCollapsed:r.value},null,8,["expandAll","isCollapsed"])):$("",!0)]),_:1},512)]),_:1},8,["isNarrow","class"]))}}),F=j(B,[["__scopeId","data-v-a770e9cd"]]);export{F as default};
