import{Q as K,r as c,p as Y,m as J,I as j,y as X,s as $,c as n,j as Z,o as s,a as e,e as D,f as P,w as R,h as b,F as A,t as m,n as k,u as B,i as ee,g as V,S as te,U as se,N as W}from"./ssr-CelVhnxm.js";import{_ as oe}from"./ExcalidrawComponent-Cqe9XR8U.js";import{_ as ne}from"./CheckScreen-B6XK6NzI.js";import{_ as le}from"./app-DqonJLi-.js";import{u as ae}from"./useProcessedQuillContent-BIqHrpB7.js";/* empty css            */const a=y=>(te("data-v-bcc520cc"),y=y(),se(),y),re={key:0,class:"relative h-screen w-full"},ie=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)),ce={class:"mx-auto max-w-4xl"},de={class:"bg-base-100 transition-all duration-200"},ue={class:"p-6 pt-12 sm:p-8 sm:pt-16"},he={class:"mb-8"},fe={key:0,class:"space-y-3"},ve=a(()=>e("div",{class:"skeleton h-8 w-3/4 rounded"},null,-1)),be=a(()=>e("div",{class:"skeleton h-4 w-24 rounded"},null,-1)),_e=[ve,be],we={class:"mb-3 text-2xl font-bold text-base-content"},pe={class:"text-base-content/60 text-sm"},ge={key:0,class:"mb-6 flex items-center justify-between"},me={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},xe={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},ke={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},ye={key:0,class:"flex items-center gap-2"},Ce=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),Me=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),je=[Me],Le={key:1,class:"space-y-3"},Se=a(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),ze=a(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Ae=a(()=>e("div",{class:"skeleton h-4 w-4/6 rounded"},null,-1)),Be=a(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Ie=a(()=>e("div",{class:"skeleton h-4 w-3/4 rounded"},null,-1)),Te=a(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Ee=a(()=>e("div",{class:"skeleton h-32 w-full rounded"},null,-1)),He=a(()=>e("div",{class:"skeleton h-4 w-2/3 rounded"},null,-1)),Ne=a(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Oe=[Se,ze,Ae,Be,Ie,Te,Ee,He,Ne],$e={key:2},De={class:"content-container"},Pe=["innerHTML"],Re={key:1,class:"content-placeholder"},Ve=a(()=>e("div",{class:"space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-5/6 rounded"}),e("div",{class:"skeleton h-4 w-4/6 rounded"}),e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-3/4 rounded"})],-1)),We=[Ve],qe={key:3,class:"text-base-content/60 mt-8 text-sm"},Fe=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),Ue=[Fe],Ge={class:"flex h-full flex-col"},Qe=a(()=>e("h3",{class:"text-lg font-semibold text-base-content"},"İçindekiler",-1)),Ke=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Ye=[Ke],Je={class:"flex-1 overflow-y-auto p-4"},Xe={key:0,class:"text-base-content/60 py-8 text-center text-sm"},Ze={key:1,class:"space-y-1"},et=["onClick"],tt={class:"text-base-content"},st=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),ot=[st],nt={class:"rounded-lg bg-base-100 shadow-lg"},lt=a(()=>e("h3",{class:"text-sm font-semibold text-base-content"},"İçindekiler",-1)),at=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),rt=[at],it={class:"overflow-y-auto p-3",style:{"max-height":"calc(100vh - 120px)"}},ct={key:0,class:"text-base-content/60 py-4 text-center text-xs"},dt={key:1,class:"space-y-1"},ut=["onClick"],ht={class:"text-base-content"},ft=Object.assign({name:"WriteByCategoryScreen"},{__name:"Screen",setup(y){const{props:C}=K(),q=c(C.category||{}),d=c(C.write||{}),p=c(null),F=C.auth||{},r=c(!1),u=c(!0),_=c(!1),g=c(!1),h=c(!1),w=c([]),I=c(null),L=c(!1),S=ae(p,Y(()=>_.value?d.value.content:"")),U=o=>{if(!o)return"";const l=new Date(o),t=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],i=l.getDate(),f=t[l.getMonth()],v=l.getFullYear();return`${i} ${f} ${v}`},G=o=>new Intl.NumberFormat("tr-TR").format(o);let M=null;J(()=>{L.value=window.innerWidth>=1536,_.value=!1,setTimeout(()=>{u.value=!1;const l=document.querySelector(".content-placeholder");l?(M=new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting&&!_.value&&(_.value=!0,j(()=>{T(),setTimeout(()=>{z(),L.value&&w.value.length>0&&(h.value=!0)},100)}))})},{threshold:.1,rootMargin:"50px"}),M.observe(l)):(_.value=!0,j(()=>{T(),setTimeout(()=>{z(),L.value&&w.value.length>0&&(h.value=!0)},100)}))},300),window.location.pathname.includes("categories")?r.value=!0:r.value=C.showDraw||!1;const o=new URLSearchParams(window.location.search);if(r.value=o.has("draw"),r.value||j(()=>{const l=new IntersectionObserver(i=>{i.forEach(f=>{if(f.isIntersecting){const v=f.target;v.setAttribute("loading","eager"),v.setAttribute("importance","high"),l.unobserve(v)}})},{rootMargin:"200px 0px",threshold:.01});document.querySelectorAll(".article-content img").forEach(i=>l.observe(i))}),d.value.content&&d.value.content.includes("<img")){const l=/<img[^>]+src="([^"]+)"/g;let t;for(;(t=l.exec(d.value.content))!==null;){const i=new Image;i.src=t[1]}}}),X(()=>{M&&M.disconnect()});const T=()=>{if(!p.value)return;p.value.querySelectorAll("a").forEach(l=>{const t=l.getAttribute("href");t&&!t.startsWith("/")&&!t.startsWith("#")&&(l.setAttribute("target","_blank"),l.setAttribute("rel","noopener noreferrer"))})},z=()=>{if(!p.value)return;const o=p.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),l=[];o.forEach((t,i)=>{t.id||(t.id=`heading-${i}`);const f=parseInt(t.tagName.charAt(1)),v=t.textContent.trim();v&&l.push({id:t.id,text:v,level:f})}),w.value=l,g.value=l.length>0},E=()=>{r.value=!r.value;const o=new URL(window.location.href);r.value?o.searchParams.set("draw","1"):o.searchParams.delete("draw"),window.history.pushState({},"",o)},Q=o=>{confirm("Bu yazıyı silmek istediğinize emin misiniz?")&&W.delete(route("writes.destroy",o),{onSuccess:()=>{W.visit(route("categories.show",q.value.slug))}})},H=o=>{const l=document.getElementById(o);l&&(I.value=o,l.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(h.value=!1))},N=o=>{switch(o){case 1:return"pl-0";case 2:return"pl-4 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2";case 3:return"pl-8 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 4:return"pl-12 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 5:return"pl-16 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 6:return"pl-20 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";default:return"pl-0"}},O=o=>I.value===o?"bg-base-content/10 text-base-content border-l-2 border-base-content":"",x=()=>{h.value=!h.value};return $(S,()=>{_.value&&S.value&&j(()=>{z()})},{flush:"post"}),$(r,o=>{o&&(h.value=!1)}),(o,l)=>r.value?(s(),n("div",re,[e("div",{class:"absolute left-4 top-4 z-10"},[e("button",{onClick:E,class:"flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm text-base-content shadow-lg transition-all duration-200 hover:bg-base-200"},[ie,P(" Metne Dön ")])]),D(oe,{write:d.value},null,8,["write"])])):(s(),Z(ne,{key:1},{default:R(()=>[e("div",ce,[e("div",de,[e("div",ue,[e("div",he,[u.value?(s(),n("div",fe,_e)):(s(),n(A,{key:1},[e("h1",we,m(d.value.title),1),e("div",pe,m(U(d.value.created_at)),1)],64))]),u.value?b("",!0):(s(),n("div",ge,[e("button",{onClick:E,class:k(["flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm transition-all duration-200 hover:bg-base-200",r.value?"border-primary bg-primary text-primary-content":"text-base-content"])},[(s(),n("svg",me,[r.value?(s(),n("path",xe)):(s(),n("path",ke))])),P(" "+m(r.value?"Metni Göster":"Çizimi Göster"),1)],2),B(F).user?(s(),n("div",ye,[D(B(ee),{href:o.route("writes.edit",d.value.id),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300",title:"Düzenle"},{default:R(()=>[Ce]),_:1},8,["href"]),e("button",{onClick:l[0]||(l[0]=t=>Q(d.value.id)),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-error transition-all duration-200 hover:bg-error hover:text-error-content",title:"Sil"},je)])):b("",!0)])),u.value?(s(),n("div",Le,Oe)):(s(),n("div",$e,[e("div",De,[_.value?(s(),n("div",{key:0,class:"article-content ql-editor",ref_key:"contentRef",ref:p,innerHTML:B(S)},null,8,Pe)):(s(),n("div",Re,We))])])),u.value?b("",!0):(s(),n("div",qe,m(G(d.value.views_count))+" görüntülenme ",1))])])]),!u.value&&g.value&&!r.value?(s(),n("button",{key:0,onClick:x,class:"fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:hidden"},Ue)):b("",!0),!u.value&&g.value&&!r.value?(s(),n("div",{key:1,class:k(["fixed right-0 top-0 z-40 h-full w-80 transform bg-base-100 shadow-2xl transition-transform duration-300 2xl:hidden",{"translate-x-full":!h.value}])},[e("div",Ge,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-4"},[Qe,e("button",{onClick:x,class:"btn btn-ghost btn-sm"},Ye)]),e("div",Je,[w.value.length===0?(s(),n("div",Xe," İçindekiler bulunamadı ")):(s(),n("div",Ze,[(s(!0),n(A,null,V(w.value,(t,i)=>(s(),n("div",{key:i,onClick:f=>H(t.id),class:k(["cursor-pointer rounded-lg p-2 text-sm transition-colors hover:bg-base-200",[N(t.level),O(t.id)]])},[e("span",tt,m(t.text),1)],10,et))),128))]))])])],2)):b("",!0),!u.value&&g.value&&!r.value?(s(),n("button",{key:2,onClick:x,class:"fixed right-4 top-4 z-50 flex hidden h-10 w-10 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:flex"},ot)):b("",!0),!u.value&&g.value&&!r.value?(s(),n("div",{key:3,class:k(["fixed right-4 top-4 z-30 hidden w-64 transition-all duration-300 ease-in-out 2xl:block",h.value?"translate-x-0 opacity-100":"pointer-events-none translate-x-full opacity-0"])},[e("div",nt,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-3"},[lt,e("button",{onClick:x,class:"btn btn-ghost btn-xs"},rt)]),e("div",it,[w.value.length===0?(s(),n("div",ct," İçindekiler bulunamadı ")):(s(),n("div",dt,[(s(!0),n(A,null,V(w.value,(t,i)=>(s(),n("div",{key:i,onClick:f=>H(t.id),class:k(["cursor-pointer rounded p-2 text-xs transition-colors hover:bg-base-200",[N(t.level),O(t.id)]])},[e("span",ht,m(t.text),1)],10,ut))),128))]))])])],2)):b("",!0),!u.value&&g.value&&h.value&&!r.value?(s(),n("div",{key:4,onClick:x,class:"fixed inset-0 z-30 bg-black/20 2xl:hidden"})):b("",!0)]),_:1}))}}),mt=le(ft,[["__scopeId","data-v-bcc520cc"]]);export{mt as default};
