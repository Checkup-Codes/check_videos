import{Q as h}from"./quill-CywTKu3Q.js";import{_ as p}from"./app-D1F1K9mU.js";import{g as b,s as y,H as x,y as k,x as v,c as i,j as c,a as S,t as u,P as T,o as s}from"./ssr-B7YpsODM.js";/* empty css            */const V={class:"w-full"},_={key:0,class:"mb-1 block text-sm font-medium text-foreground"},q={key:1,class:"mt-1 text-xs text-destructive"},H={__name:"RichTextEditor",props:{modelValue:{type:String,default:""},label:{type:String,default:""},error:{type:String,default:""},placeholder:{type:String,default:"İçeriği buraya yazın..."},height:{type:String,default:"500px"}},emits:["update:modelValue"],setup(l,{expose:m,emit:f}){const r=l,d=f,a=b(null);let t=null;const g=(e,n="")=>{if(!t)return;const o=t.getSelection(!0);t.insertEmbed(o.index,"image",e),t.setSelection(o.index+1)};return y(async()=>{if(await x(),!a.value)return;t=new h(a.value,{theme:"snow",placeholder:r.placeholder,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]]}});const e=a.value.querySelector(".ql-toolbar"),n=a.value.querySelector(".ql-container");if(e&&(e.style.position="sticky",e.style.top="0",e.style.zIndex="10",e.style.backgroundColor="hsl(var(--background))",e.style.borderBottom="1px solid hsl(var(--border))"),n){const o=e?e.offsetHeight:42;n.style.height=`calc(${r.height} - ${o}px)`,n.style.overflowY="auto"}r.modelValue&&(t.root.innerHTML=r.modelValue),t.on("text-change",()=>{const o=t.root.innerHTML;o==="<p><br></p>"?d("update:modelValue",""):d("update:modelValue",o)})}),k(()=>r.modelValue,e=>{t&&t.root.innerHTML!==e&&(t.root.innerHTML=e||"")}),v(()=>{t&&(t=null)}),m({insertImage:g}),(e,n)=>(s(),i("div",V,[l.label?(s(),i("label",_,u(l.label),1)):c("",!0),S("div",{ref_key:"editorContainer",ref:a,class:"quill-editor-container rounded-md border border-input bg-background",style:T({height:l.height})},null,4),l.error?(s(),i("p",q,u(l.error),1)):c("",!0)]))}},C=p(H,[["__scopeId","data-v-5146d812"]]);export{C as default};
