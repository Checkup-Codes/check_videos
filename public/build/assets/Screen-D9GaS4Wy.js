import{Q as V,p as b,e as z,T as C,j,w as y,a as s,t as d,l as w,k as v,c as l,h as f,n as p,u as i,v as m,o as n,F as B,g as M,H as N,f as g,b as A,i as U,N as x}from"./ssr-CVKOEYhR.js";import{_ as $}from"./CheckScreen-BYm6Ecw3.js";const D={class:"mx-auto max-w-4xl"},F={class:"mb-6"},H={class:"mt-1 text-sm text-muted-foreground"},K={class:"rounded-lg border border-border bg-card p-6 shadow-sm"},L={class:"space-y-5"},O={key:0,class:"mt-1.5 text-xs text-destructive"},T={key:0,class:"mt-1.5 text-xs text-destructive"},q={class:"grid grid-cols-1 gap-5 sm:grid-cols-2"},E={class:"relative"},G={key:0,class:"mt-1.5 text-xs text-destructive"},I=["value"],P={key:0,class:"mt-1.5 text-xs text-destructive"},Q={class:"flex items-center justify-between gap-3"},W={class:"flex gap-3"},Y=["disabled"],J={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},R={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},se={__name:"Screen",setup(X){const{props:k}=V(),u=b(()=>k.service||{}),r=z({name:"",description:"",price:"",parent_id:""}),c=b(()=>u.value.id),t=C({name:u.value.name||"",description:u.value.description||"",price:u.value.price||null,parent_id:u.value.sub_category_id||null});t.processing=!1;const h=b(()=>(k.services||[]).filter(a=>a.id!==c.value)),_=()=>{t.put(`/services/${c.value}`,{onSuccess:()=>{x.visit("/services")},onError:a=>{a&&Object.keys(a).forEach(e=>{r.value.hasOwnProperty(e)&&(r.value[e]=a[e])})}})},S=()=>{confirm("Bu servisi silmek istediğinize emin misiniz?")&&x.delete(`/services/${c.value}`,{onSuccess:()=>{x.visit("/services")}})};return(a,e)=>(n(),j($,null,{default:y(()=>[s("div",D,[s("div",F,[e[4]||(e[4]=s("h1",{class:"text-2xl font-semibold text-foreground"},"Servisi Düzenle",-1)),s("p",H,d(u.value.name),1)]),s("form",{onSubmit:w(_,["prevent"]),class:"space-y-6"},[s("div",K,[s("div",L,[s("div",null,[e[5]||(e[5]=s("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Servis Adı",-1)),v(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i(t).name=o),type:"text",placeholder:"Örn: Web Geliştirme",class:p(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":r.value.name||i(t).errors.name}]),required:""},null,2),[[m,i(t).name]]),r.value.name||i(t).errors.name?(n(),l("p",O,d(r.value.name||i(t).errors.name),1)):f("",!0)]),s("div",null,[e[6]||(e[6]=s("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Açıklama",-1)),v(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>i(t).description=o),rows:"8",placeholder:"Servis hakkında detaylı açıklama yazabilirsiniz...",class:p(["flex min-h-[200px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y",{"border-destructive focus-visible:ring-destructive":r.value.description||i(t).errors.description}])},null,2),[[m,i(t).description]]),r.value.description||i(t).errors.description?(n(),l("p",T,d(r.value.description||i(t).errors.description),1)):f("",!0)]),s("div",q,[s("div",null,[e[8]||(e[8]=s("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Fiyat",-1)),s("div",E,[v(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>i(t).price=o),type:"number",step:"0.01",placeholder:"0.00",class:p(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 pr-12 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":r.value.price||i(t).errors.price}])},null,2),[[m,i(t).price]]),e[7]||(e[7]=s("span",{class:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground"},"₺",-1))]),r.value.price||i(t).errors.price?(n(),l("p",G,d(r.value.price||i(t).errors.price),1)):f("",!0)]),s("div",null,[e[10]||(e[10]=s("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Üst Kategori",-1)),v(s("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>i(t).parent_id=o),class:p(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive focus-visible:ring-destructive":r.value.parent_id||i(t).errors.parent_id}])},[e[9]||(e[9]=s("option",{value:null},"Yok",-1)),(n(!0),l(B,null,M(h.value,o=>(n(),l("option",{key:o.id,value:o.id},d(o.name),9,I))),128))],2),[[N,i(t).parent_id]]),r.value.parent_id||i(t).errors.parent_id?(n(),l("p",P,d(r.value.parent_id||i(t).errors.parent_id),1)):f("",!0)])])])]),s("div",Q,[s("button",{onClick:w(S,["prevent"]),type:"button",class:"inline-flex h-10 items-center justify-center gap-2 rounded-md border border-destructive bg-background px-4 text-sm font-medium text-destructive ring-offset-background transition-colors hover:bg-destructive hover:text-destructive-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[...e[11]||(e[11]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),g(" Sil ",-1)])]),s("div",W,[A(i(U),{href:`/services/${c.value}`,class:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 text-sm font-medium text-foreground ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},{default:y(()=>[...e[12]||(e[12]=[g(" İptal ",-1)])]),_:1},8,["href"]),s("button",{type:"submit",class:"inline-flex h-10 items-center justify-center gap-2 rounded-md bg-primary px-6 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",disabled:i(t).processing},[i(t).processing?(n(),l("svg",J,[...e[13]||(e[13]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),l("svg",R,[...e[14]||(e[14]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])),g(" "+d(i(t).processing?"Kaydediliyor...":"Kaydet"),1)],8,Y)])])],32)])]),_:1}))}};export{se as default};
