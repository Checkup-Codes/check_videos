import{Q as F,r as d,p as U,m as G,K as y,z as K,s as T,j as Q,o as n,w as I,c as l,h as f,a as e,F as E,t as b,n as C,f as N,u as z,e as O,i as Y,g as J,S as X,U as Z,N as H}from"./ssr-CjiXWBsh.js";import{_ as ee}from"./ExcalidrawComponent-Nk8HXT2H.js";import{_ as te}from"./CheckScreen-CuReo6W4.js";import{_ as se}from"./app-BimC6DIB.js";import{u as oe}from"./useProcessedQuillContent-DUpX1BGw.js";/* empty css            */const r=g=>(X("data-v-c190ddbd"),g=g(),Z(),g),ne={key:0,class:"mx-auto max-w-4xl"},le={class:"bg-base-100 transition-all duration-200"},re={class:"p-6 pt-12 sm:p-8 sm:pt-16"},ae={class:"mb-8"},ie={key:0,class:"space-y-3"},ce=r(()=>e("div",{class:"skeleton h-8 w-3/4 rounded"},null,-1)),de=r(()=>e("div",{class:"skeleton h-4 w-24 rounded"},null,-1)),ue=[ce,de],he={class:"mb-3 text-2xl font-bold text-base-content"},ve={class:"text-base-content/60 text-sm"},me={key:0,class:"mb-6 flex items-center justify-between"},_e={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},we={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},fe={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},be={key:0,class:"flex items-center gap-2"},ge=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),pe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),ke=[pe],xe={key:1,class:"space-y-3"},ye=r(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Ce=r(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Me=r(()=>e("div",{class:"skeleton h-4 w-4/6 rounded"},null,-1)),je=r(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Le=r(()=>e("div",{class:"skeleton h-4 w-3/4 rounded"},null,-1)),Se=r(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),ze=r(()=>e("div",{class:"skeleton h-32 w-full rounded"},null,-1)),Ae=r(()=>e("div",{class:"skeleton h-4 w-2/3 rounded"},null,-1)),Be=r(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Te=[ye,Ce,Me,je,Le,Se,ze,Ae,Be],Ie={key:2},Ee={class:"content-container"},Ne=["innerHTML"],Oe={key:1,class:"content-placeholder"},He=r(()=>e("div",{class:"space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-5/6 rounded"}),e("div",{class:"skeleton h-4 w-4/6 rounded"}),e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-3/4 rounded"})],-1)),De=[He],Ve={key:3,class:"text-base-content/60 mt-8 text-sm"},$e={key:1,class:"relative h-screen w-full"},Pe=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)),Re=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),qe=[Re],We={class:"flex h-full flex-col"},Fe=r(()=>e("h3",{class:"text-lg font-semibold text-base-content"},"İçindekiler",-1)),Ue=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Ge=[Ue],Ke={class:"flex-1 overflow-y-auto p-4"},Qe={key:0,class:"text-base-content/60 py-8 text-center"},Ye=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mx-auto mb-4 h-12 w-12 opacity-50"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),Je=r(()=>e("p",null,"İçindekiler bulunamadı",-1)),Xe=[Ye,Je],Ze={key:1,class:"space-y-2"},et=["onClick"],tt={class:"flex items-center gap-2"},st={class:"text-base-content/50 font-mono text-xs"},ot={class:"line-clamp-2 text-sm font-medium"},nt=Object.assign({name:"WriteByCategoryScreen"},{__name:"Screen",setup(g){const{props:p}=F(),D=d(p.category||{}),c=d(p.write||{}),w=d(null),V=p.auth||{},a=d(!1),u=d(!0),v=d(!1),k=d(!1),m=d(!1),M=d([]),j=oe(w,U(()=>v.value?c.value.content:"")),$=s=>{if(!s)return"";const t=new Date(s),o=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],i=t.getDate(),_=o[t.getMonth()],h=t.getFullYear();return`${i} ${_} ${h}`},P=s=>new Intl.NumberFormat("tr-TR").format(s);let x=null;G(()=>{v.value=!1,setTimeout(()=>{u.value=!1;const t=document.querySelector(".content-placeholder");t?(x=new IntersectionObserver(o=>{o.forEach(i=>{i.isIntersecting&&!v.value&&(v.value=!0,y(()=>{A(),setTimeout(()=>{L()},100)}))})},{threshold:.1,rootMargin:"50px"}),x.observe(t)):(v.value=!0,y(()=>{A(),setTimeout(()=>{L()},100)}))},300),window.location.pathname.includes("categories")?a.value=!0:a.value=p.showDraw||!1;const s=new URLSearchParams(window.location.search);if(a.value=s.has("draw"),a.value||y(()=>{const t=new IntersectionObserver(i=>{i.forEach(_=>{if(_.isIntersecting){const h=_.target;h.setAttribute("loading","eager"),h.setAttribute("importance","high"),t.unobserve(h)}})},{rootMargin:"200px 0px",threshold:.01});document.querySelectorAll(".article-content img").forEach(i=>t.observe(i))}),c.value.content&&c.value.content.includes("<img")){const t=/<img[^>]+src="([^"]+)"/g;let o;for(;(o=t.exec(c.value.content))!==null;){const i=new Image;i.src=o[1]}}}),K(()=>{x&&x.disconnect()});const A=()=>{if(!w.value)return;w.value.querySelectorAll("a").forEach(t=>{const o=t.getAttribute("href");o&&!o.startsWith("/")&&!o.startsWith("#")&&(t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"))})},L=()=>{if(!w.value)return;const s=w.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),t=[];s.forEach((o,i)=>{o.id||(o.id=`heading-${i}`);const _=parseInt(o.tagName.charAt(1)),h=o.textContent.trim();h&&t.push({id:o.id,text:h,level:_})}),M.value=t,k.value=t.length>0},B=()=>{a.value=!a.value;const s=new URL(window.location.href);a.value?s.searchParams.set("draw","1"):s.searchParams.delete("draw"),window.history.pushState({},"",s)},R=s=>{confirm("Bu yazıyı silmek istediğinize emin misiniz?")&&H.delete(route("writes.destroy",s),{onSuccess:()=>{H.visit(route("categories.show",D.value.slug))}})},q=s=>{const t=document.getElementById(s);t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(m.value=!1))},W=s=>{switch(s){case 1:return"border-l-4 border-primary bg-primary/5";case 2:return"border-l-4 border-secondary bg-secondary/5 ml-4";case 3:return"border-l-4 border-accent bg-accent/5 ml-8";case 4:return"border-l-4 border-base-300 bg-base-200/50 ml-12";case 5:return"border-l-4 border-base-300 bg-base-200/30 ml-16";case 6:return"border-l-4 border-base-300 bg-base-200/20 ml-20";default:return""}},S=()=>{m.value=!m.value};return T(j,()=>{v.value&&j.value&&y(()=>{L()})},{flush:"post"}),T(a,s=>{s&&(m.value=!1)}),(s,t)=>(n(),Q(te,null,{default:I(()=>[a.value?(n(),l("div",$e,[e("div",{class:"absolute left-4 top-4 z-10"},[e("button",{onClick:B,class:"flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm text-base-content shadow-lg transition-all duration-200 hover:bg-base-200"},[Pe,N(" Metne Dön ")])]),O(ee,{write:c.value},null,8,["write"])])):(n(),l("div",ne,[e("div",le,[e("div",re,[e("div",ae,[u.value?(n(),l("div",ie,ue)):(n(),l(E,{key:1},[e("h1",he,b(c.value.title),1),e("div",ve,b($(c.value.created_at)),1)],64))]),u.value?f("",!0):(n(),l("div",me,[e("button",{onClick:B,class:C(["flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm transition-all duration-200 hover:bg-base-200",a.value?"border-primary bg-primary text-primary-content":"text-base-content"])},[(n(),l("svg",_e,[a.value?(n(),l("path",we)):(n(),l("path",fe))])),N(" "+b(a.value?"Metni Göster":"Çizimi Göster"),1)],2),z(V).user?(n(),l("div",be,[O(z(Y),{href:s.route("writes.edit",c.value.slug),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300",title:"Düzenle"},{default:I(()=>[ge]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=o=>R(c.value.id)),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-error transition-all duration-200 hover:bg-error hover:text-error-content",title:"Sil"},ke)])):f("",!0)])),u.value?(n(),l("div",xe,Te)):(n(),l("div",Ie,[e("div",Ee,[v.value?(n(),l("div",{key:0,class:"article-content ql-editor",ref_key:"contentRef",ref:w,innerHTML:z(j)},null,8,Ne)):(n(),l("div",Oe,De))])])),u.value?f("",!0):(n(),l("div",Ve,b(P(c.value.views_count))+" görüntülenme ",1))])])])),!u.value&&k.value&&!a.value?(n(),l("button",{key:2,onClick:S,class:C(["hover:bg-primary-focus fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-primary text-primary-content shadow-lg transition-all duration-200 hover:shadow-xl",{"bg-primary-focus":m.value}])},qe,2)):f("",!0),!u.value&&k.value&&!a.value?(n(),l("div",{key:3,class:C(["fixed right-0 top-0 z-40 h-full w-80 transform bg-base-100 shadow-2xl transition-transform duration-300",{"translate-x-full":!m.value}])},[e("div",We,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-4"},[Fe,e("button",{onClick:S,class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300"},Ge)]),e("div",Ke,[M.value.length===0?(n(),l("div",Qe,Xe)):(n(),l("div",Ze,[(n(!0),l(E,null,J(M.value,(o,i)=>(n(),l("div",{key:i,onClick:_=>q(o.id),class:C(["cursor-pointer rounded-lg p-3 transition-colors duration-200 hover:bg-base-200",W(o.level)])},[e("div",tt,[e("span",st,b(i+1),1),e("span",ot,b(o.text),1)])],10,et))),128))]))])])],2)):f("",!0),!u.value&&k.value&&m.value&&!a.value?(n(),l("div",{key:4,onClick:S,class:"fixed inset-0 z-30 bg-black/20"})):f("",!0)]),_:1}))}}),ut=se(nt,[["__scopeId","data-v-c190ddbd"]]);export{ut as default};
