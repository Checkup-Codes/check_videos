import{Q as N,l as c,y as S,c as V,w as i,o as r,a as l,b as g,j as D,D as T,g as o,m,e as h,t as _,n as p,u as y,k as v,F as k,h as w}from"./app-RTnT3r-p.js";import{a as F,_ as R}from"./CheckSubsidebar-CJxeX1PX.js";import j from"./TopSubsidebar-DccYbsuf.js";/* empty css            */const z={class:"h-[calc(100vh-7rem)] overflow-y-auto overscroll-contain lg:h-[calc(100vh-5rem)]",ref:"scrollContainer"},A={class:"p-4"},G={key:0,class:"border-l border-gray-300 pl-4"},K={key:0,class:"border-l border-gray-300 pl-4"},I={__name:"SidebarLayoutCategory",setup(M){const{props:b,url:x}=N(),u=c(b.categories||[]),E=c(b.writes||[]),C=c([]),d=c(!0),$=()=>{d.value=!d.value},f=e=>x===e?"text-gray-900 font-semibold":"text-gray-700",B=()=>{const e={};E.value.forEach(t=>{t.category_id&&(e[t.category_id]=(e[t.category_id]||0)+1)}),u.value.forEach(t=>{t.writeCount=e[t.id]||0})},L=()=>{const e={},t=[];u.value.forEach(s=>{e[s.id]={...s,children:[]}}),u.value.forEach(s=>{var a;s.parent_id?(a=e[s.parent_id])==null||a.children.push(e[s.id]):t.push(e[s.id])}),C.value=t};return S(()=>{B(),L()}),(e,t)=>(r(),V(F,null,{default:i(()=>[l(R,{isCollapsed:!1,onClick:$}),l(j,{title:"KATEGORÄ°LER"}),g("div",z,[D(g("div",A,[g("ul",null,[(r(!0),o(k,null,m(C.value,s=>(r(),o("li",{key:s.id,class:"mb-2"},[l(y(v),{href:e.route("categories.show",{category:s.slug}),class:p([f(`/categories/${s.slug}`),"block py-2 text-base font-medium text-gray-700"])},{default:i(()=>[h(_(s.name),1)]),_:2},1032,["href","class"]),s.children.length?(r(),o("ul",G,[(r(!0),o(k,null,m(s.children,a=>(r(),o("li",{key:a.id,class:"mt-1"},[l(y(v),{href:e.route("categories.show",{category:a.slug}),class:p([f(`/categories/${a.slug}`),"block py-1 text-sm text-gray-600"])},{default:i(()=>[h(_(a.name),1)]),_:2},1032,["href","class"]),a.children.length?(r(),o("ul",K,[(r(!0),o(k,null,m(a.children,n=>(r(),o("li",{key:n.id,class:"mt-1"},[l(y(v),{href:e.route("categories.show",{category:n.slug}),class:p([f(`/categories/${n.slug}`),"block py-1 text-xs text-gray-500"])},{default:i(()=>[h(_(n.name),1)]),_:2},1032,["href","class"])]))),128))])):w("",!0)]))),128))])):w("",!0)]))),128))])],512),[[T,d.value]])],512)]),_:1}))}};export{I as default};
