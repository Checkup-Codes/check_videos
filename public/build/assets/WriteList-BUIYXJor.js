import{B as z,W as F,b as d,Q as P,g as S,X as j,Y as C,y as D,H as M,s as V,x as H,c as l,j as v,F as O,l as T,a as r,o,e as I,w as R,n as y,t as x,f,u as Y,p as G}from"./ssr-C_PJoyLf.js";import K from"./IconCalendar-CzCgGzmK.js";import Q from"./IconEye-Ddd3xyIy.js";import U from"./IconLock-D87Tg8v8.js";import X from"./IconLink-b8uRG4C0.js";import{_ as q}from"./app-C7nLCr5l.js";/* empty css            */const J={class:"space-y-1 p-2"},Z={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},ee={class:"flex items-center gap-1"},te={class:"truncate"},se={class:"flex items-center gap-1"},ae={class:"truncate"},re={class:"flex items-center gap-1 self-start sm:self-center"},ne={key:0,class:"text-yellow-500 dark:text-yellow-400",title:"Gizli yazı"},oe={key:1,class:"text-blue-500 dark:text-blue-400",title:"Sadece link"},ie={key:0,class:"flex h-32 items-center justify-center text-center text-muted-foreground"},le=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(w,{expose:b}){const k=z(),m=w,c=F("writes",[]),A=d(()=>{if(m.writes&&m.writes.length>0)return m.writes;const e=(c==null?void 0:c.value)??c;return e&&Array.isArray(e)&&e.length>0?e:[]}),p=P(),W=p.props.isAdmin||!1;let n=!1;const u=S(""),g=d(()=>k.getters["Writes/filter"]);d(()=>{const e=p.url;return e.startsWith("/writes")&&!e.startsWith("/categories")});const $=e=>{const t=window.location.pathname;if(t.includes("/categories/")){const s=t.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return route("categories.showByCategory",{category:a,slug:e.slug})}}return route("writes.show",{write:e.slug})},h=e=>{const t=window.location.pathname;if(t.includes("/categories/")){const s=t.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return`/categories/${a}/${e.slug}`}}return`/writes/${e.slug}`},_=d(()=>{let e=A.value;return W?(g.value==="published"?e=e.filter(t=>t.status==="published"):g.value==="link_only"?e=e.filter(t=>t.status==="link_only"):g.value==="private"&&(e=e.filter(t=>t.status==="private")),e):(e=e.filter(t=>t.status!=="private"),e)});b({filteredWrites:_}),j(()=>{n=!0,i()}),C(()=>{n=!1}),D(()=>p.url,()=>{M(()=>{i()})});const i=()=>{u.value=window.location.pathname};V(()=>{n=!0,i();const e=()=>{n&&i()},t=()=>{n&&i()};window.addEventListener("popstate",e),window.addEventListener("inertia:finish",t),H(()=>{n=!1,window.removeEventListener("popstate",e),window.removeEventListener("inertia:finish",t)})});const E=e=>{const t=new Date(e),s=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],a=t.getDate(),N=s[t.getMonth()],B=t.getFullYear();return`${a} ${N} ${B}`},L=e=>new Intl.NumberFormat("tr-TR").format(e);return(e,t)=>(o(),l("div",J,[(o(!0),l(O,null,T(_.value,s=>(o(),I(Y(G),{key:s.id,href:$(s),class:y(["block rounded-lg border border-transparent p-3",[u.value===h(s)?"bg-primary text-primary-foreground":"border-border bg-card hover:bg-accent"]])},{default:R(()=>[r("h3",{class:y(["line-clamp-2 text-sm font-medium leading-tight",u.value===h(s)?"text-primary-foreground":"text-foreground"])},x(s.title),3),r("div",{class:y(["flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:justify-between",u.value===h(s)?"text-primary-foreground/70":"text-muted-foreground"])},[r("div",Z,[r("span",ee,[f(K,{class:"h-3 w-3 flex-shrink-0"}),r("span",te,x(E(s.created_at)),1)]),r("span",se,[f(Q,{class:"h-3 w-3 flex-shrink-0"}),r("span",ae,x(L(s.views_count))+" görüntülenme",1)])]),r("div",re,[s.status==="private"?(o(),l("span",ne,[f(U,{class:"h-3 w-3"})])):v("",!0),s.status==="link_only"?(o(),l("span",oe,[f(X,{class:"h-3 w-3"})])):v("",!0)])],2)]),_:2},1032,["href","class"]))),128)),_.value.length===0?(o(),l("div",ie,[...t[0]||(t[0]=[r("div",null,"Henüz yazı bulunmuyor",-1)])])):v("",!0)]))}}),he=q(le,[["__scopeId","data-v-eff10b64"]]);export{he as default};
