import{p as x,U as M,Q as N,e as p,V,W as I,y as C,D as E,m as $,A as D,c as u,a as r,h as y,F as P,g as H,o as c,j as T,w as O,n as _,t as k,u as K,i as R}from"./ssr-B00CJT2V.js";import{_ as U}from"./app-KO3EYfs6.js";/* empty css            */const G={class:"flex flex-col h-full min-h-0"},Q={class:"space-y-2"},Y={class:"mb-1"},q={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},J={class:"flex items-center gap-1"},X={class:"truncate"},Z={class:"flex items-center gap-1"},ee={class:"truncate"},te={class:"flex items-center gap-1 self-start sm:self-center"},se={key:0,class:"text-yellow-500 dark:text-yellow-400",title:"Gizli yazı"},re={key:1,class:"text-blue-500 dark:text-blue-400",title:"Sadece link"},ae={key:0,class:"flex h-32 items-center justify-center text-center text-muted-foreground"},ne=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(S,{expose:z}){const g=S,W=x(()=>{if(g.writes&&g.writes.length>0)return g.writes;const e=M("writes",[]);return e&&e.length>0?e:[]}),m=N(),F=m.props.isAdmin||!1,n=p(null);p(null);let l=!1;const f=p(""),o=p("all");x(()=>{const e=m.url;return e.startsWith("/writes")&&!e.startsWith("/categories")});const j=e=>{const t=window.location.pathname;if(t.includes("/categories/")){const s=t.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return route("categories.showByCategory",{category:a,slug:e.slug})}}return route("writes.show",{write:e.slug})},h=e=>{const t=window.location.pathname;if(t.includes("/categories/")){const s=t.split("/").filter(a=>a.length>0);if(s.length>=2&&s[0]==="categories"){const a=s[1];if(a&&a!=="create"&&a!=="edit")return`/categories/${a}/${e.slug}`}}return`/writes/${e.slug}`},w=x(()=>{let e=W.value;return F?(o.value==="published"?e=e.filter(t=>t.status==="published"):o.value==="link_only"?e=e.filter(t=>t.status==="link_only"):o.value==="private"&&(e=e.filter(t=>t.status==="private")),e):(e=e.filter(t=>t.status!=="private"),e)});z({filteredWrites:w,scrollContainer:n}),V(()=>{l=!0,d()}),I(()=>{l=!1}),C(()=>m.url,()=>{E(()=>{d()})});const d=()=>{f.value=window.location.pathname},b=()=>`writeListScroll_${o.value}`,L=e=>{localStorage.setItem(b(),e.target.scrollTop)};$(()=>{l=!0;const e=localStorage.getItem("writeListFilter");e&&(o.value=e),d(),E(()=>{if(n.value){n.value.addEventListener("scroll",L);const i=localStorage.getItem(b());i&&(n.value.scrollTop=parseInt(i,10))}});const t=()=>{l&&d()},s=()=>{},a=()=>{l&&d()},v=i=>{o.value=i.detail};window.addEventListener("popstate",t),window.addEventListener("inertia:start",s),window.addEventListener("inertia:finish",a),window.addEventListener("writeFilterChanged",v),D(()=>{l=!1,n.value&&n.value.removeEventListener("scroll",L),window.removeEventListener("popstate",t),window.removeEventListener("inertia:start",s),window.removeEventListener("inertia:finish",a),window.removeEventListener("writeFilterChanged",v)})});const A=e=>{const t=new Date(e),s=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],a=t.getDate(),v=s[t.getMonth()],i=t.getFullYear();return`${a} ${v} ${i}`},B=e=>new Intl.NumberFormat("tr-TR").format(e);return C(o,e=>{localStorage.setItem("writeListFilter",e)}),(e,t)=>(c(),u("div",G,[r("div",{ref_key:"scrollContainer",ref:n,class:"write-list-container flex-1 min-h-0 space-y-1 overflow-y-auto overscroll-none p-3"},[r("div",Q,[(c(!0),u(P,null,H(w.value,s=>(c(),T(K(R),{key:s.id,href:j(s),class:_(["block rounded-lg p-3",f.value===h(s)?"bg-primary text-primary-foreground":"border border-border bg-card hover:bg-accent"])},{default:O(()=>[r("div",Y,[r("h3",{class:_(["line-clamp-2 text-sm font-medium leading-tight",f.value===h(s)?"text-primary-foreground":"text-foreground"])},k(s.title),3)]),r("div",{class:_(["flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:justify-between",f.value===h(s)?"text-primary-foreground/70":"text-muted-foreground"])},[r("div",q,[r("span",J,[t[0]||(t[0]=r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),r("span",X,k(A(s.created_at)),1)]),r("span",Z,[t[1]||(t[1]=r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),r("span",ee,k(B(s.views_count))+" görüntülenme",1)])]),r("div",te,[s.status==="private"?(c(),u("span",se,[...t[2]||(t[2]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):y("",!0),s.status==="link_only"?(c(),u("span",re,[...t[3]||(t[3]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)])])):y("",!0)])],2)]),_:2},1032,["href","class"]))),128))]),w.value.length===0?(c(),u("div",ae,[...t[4]||(t[4]=[r("div",null,"Henüz yazı bulunmuyor",-1)])])):y("",!0)],512)]))}}),ce=U(ne,[["__scopeId","data-v-c9b2e5fa"]]);export{ce as default};
