import{g as x,Q as O,B as D,b as y,y as V,s as F,H as z,X as R,Y as A,z as I,e as w,w as i,a as o,f as d,u as v,p,n as h,c as a,j as n,o as s,F as C,l as L,t as u}from"./ssr-B7YpsODM.js";import{_ as Q,a as X}from"./SubSidebarScreen-CHMXoCjj.js";import Y from"./IconBolt-bZBfTTbM.js";import q from"./IconFolder-DM_bbdMW.js";import G from"./IconUsers-BjdukDRr.js";import{_ as J}from"./app-BgUr1Aw2.js";function K(){const g=x(!0);return{isCollapsed:g,toggleSidebar:()=>{g.value=!g.value},sidebarStyle:x("")}}const Z={class:"relative z-10 shrink-0 border-b border-border bg-background p-2"},U={class:"flex items-center justify-between gap-2"},ee={class:"flex items-center gap-1"},te={key:0},se={key:0},re={key:0},oe={class:"space-y-1 p-2"},ae={key:0,class:"space-y-1"},ne={key:0,class:"p-2 text-xs text-muted-foreground"},le={class:"flex items-center gap-2"},ce={class:"truncate font-medium"},ie={key:0,class:"mt-0.5 truncate text-xs opacity-70"},ue={key:1,class:"space-y-1"},de={key:0,class:"p-2 text-xs text-muted-foreground"},me={class:"flex items-center gap-2"},fe={class:"truncate font-medium"},ve={key:0,class:"mt-0.5 truncate text-xs opacity-70"},pe={key:2,class:"space-y-1"},he={key:0,class:"p-2 text-xs text-muted-foreground"},_e={class:"flex items-center gap-2"},xe={class:"truncate font-medium"},ge={key:0,class:"mt-0.5 truncate text-xs opacity-70"},ke=Object.assign({name:"SidebarLayoutProject"},{__name:"SidebarLayoutProject",emits:["update:isNarrow"],setup(g,{emit:B}){K();const _=O(),k=D(),m=x(null),l=x(k.getters["Writes/isCollapsed"]),c=x("services"),j=y(()=>_.props.services||[]),S=y(()=>_.props.projects||[]),$=y(()=>_.props.customers||[]),W=y(()=>_.url||"");V(W,e=>{e.startsWith("/services")?c.value="services":e.startsWith("/projects")?c.value="projects":e.startsWith("/customers")&&(c.value="customers")},{immediate:!0});const T=B;V(l,e=>{T("update:isNarrow",e)});const M=e=>{const r=_.url;return r===e||r.startsWith(e+"/")};let f=null;const b=()=>{var e,r,t;return(r=(e=m.value)==null?void 0:e.$el)!=null&&r.value?m.value.$el.value:(t=m.value)!=null&&t.$el?m.value.$el:m.value},P=()=>{const e=b();if(e){const r=e.scrollTop||0;k.dispatch("Projects/setScrollPosition",r)}},H=()=>{z(()=>{const e=b();if(e){const r=k.getters["Projects/scrollPosition"];r>0&&(e.scrollTop=r)}})},E=()=>{const e=b();e&&!f&&(f=()=>P(),e.addEventListener("scroll",f,{passive:!0}))},N=()=>{const e=b();e&&f&&(e.removeEventListener("scroll",f),f=null)};return F(()=>{l.value=k.getters["Writes/isCollapsed"],z(()=>{E(),H()})}),R(()=>{z(()=>{E(),H()})}),A(()=>{P(),N()}),I(()=>{P(),N()}),(e,r)=>(s(),w(X,{isNarrow:l.value},{default:i(()=>[o("div",Z,[o("div",U,[o("div",ee,[d(v(p),{href:e.route("services.index"),class:h(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",c.value==="services"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"]),title:"Servisler"},{default:i(()=>[d(Y,{class:"h-3 w-3"}),l.value?n("",!0):(s(),a("span",te,"Servisler"))]),_:1},8,["href","class"]),d(v(p),{href:e.route("projects.index"),class:h(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",c.value==="projects"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"]),title:"Projeler"},{default:i(()=>[d(q,{class:"h-3 w-3"}),l.value?n("",!0):(s(),a("span",se,"Projeler"))]),_:1},8,["href","class"]),d(v(p),{href:e.route("customers.index"),class:h(["inline-flex h-6 items-center gap-1 rounded px-2 text-xs transition-colors",c.value==="customers"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"]),title:"Müşteriler"},{default:i(()=>[d(G,{class:"h-3 w-3"}),l.value?n("",!0):(s(),a("span",re,"Müşteriler"))]),_:1},8,["href","class"])])])]),d(Q,{ref_key:"scrollableRef",ref:m,class:"sidebar-content-embedded min-h-0 flex-1",infoClass:"flex-1 min-h-0"},{default:i(()=>[o("div",oe,[c.value==="services"?(s(),a("div",ae,[!j.value||j.value.length===0?(s(),a("div",ne," Henüz servis bulunmamaktadır. ")):n("",!0),(s(!0),a(C,null,L(j.value,t=>(s(),w(v(p),{key:t.id,href:`/services/${t.id}`,class:h(["flex flex-col rounded-md p-2 text-sm transition-colors",M(`/services/${t.id}`)?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"])},{default:i(()=>[o("div",le,[r[0]||(r[0]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),o("span",ce,u(t.name),1)]),!l.value&&t.description?(s(),a("span",ie,u(t.description),1)):n("",!0)]),_:2},1032,["href","class"]))),128))])):n("",!0),c.value==="projects"?(s(),a("div",ue,[!S.value||S.value.length===0?(s(),a("div",de," Henüz proje bulunmamaktadır. ")):n("",!0),(s(!0),a(C,null,L(S.value,t=>(s(),w(v(p),{key:t.id,href:`/projects/${t.id}`,class:h(["flex flex-col rounded-md p-2 text-sm transition-colors",M(`/projects/${t.id}`)?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"])},{default:i(()=>[o("div",me,[r[1]||(r[1]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),o("span",fe,u(t.project_name),1)]),!l.value&&t.customer?(s(),a("span",ve,u(t.customer.first_name)+" "+u(t.customer.last_name),1)):n("",!0)]),_:2},1032,["href","class"]))),128))])):n("",!0),c.value==="customers"?(s(),a("div",pe,[!$.value||$.value.length===0?(s(),a("div",he," Henüz müşteri bulunmamaktadır. ")):n("",!0),(s(!0),a(C,null,L($.value,t=>(s(),w(v(p),{key:t.id,href:`/customers/${t.id}`,class:h(["flex flex-col rounded-md p-2 text-sm transition-colors",M(`/customers/${t.id}`)?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"])},{default:i(()=>[o("div",_e,[r[2]||(r[2]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),o("span",xe,u(t.first_name)+" "+u(t.last_name),1)]),l.value?n("",!0):(s(),a("span",ge,u(t.email),1))]),_:2},1032,["href","class"]))),128))])):n("",!0)])]),_:1},512)]),_:1},8,["isNarrow"]))}}),be=J(ke,[["__scopeId","data-v-675ab2c9"]]),Pe=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"}));export{be as S,Pe as a,K as u};
