import{Q,r as h,p as A,m as K,I as L,y as Y,N as E,s as J,c as s,j as X,o as t,a as e,e as D,f as P,w as V,h as v,F as T,t as m,n as x,u as z,i as Z,g as F,S as ee,U as te}from"./ssr-CelVhnxm.js";import{_ as se}from"./ExcalidrawComponent-Chfxq3pb.js";import{_ as oe}from"./CheckScreen-B6XK6NzI.js";import{_ as ne}from"./app-DKGn_rdn.js";import{S as le,u as R}from"./useGsapAnimation-YdCTlSWf.js";import{u as re}from"./useProcessedQuillContent-BIqHrpB7.js";import{g as ae}from"./index-D3jsOSc0.js";/* empty css            */const l=k=>(ee("data-v-d345c72f"),k=k(),te(),k),ie={key:0,class:"relative h-screen w-full"},ce=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)),de={class:"mx-auto max-w-4xl"},ue={class:"bg-base-100 transition-all duration-200"},he={class:"p-6 pt-12 sm:p-8 sm:pt-16"},fe={class:"mb-8"},ve={key:0,class:"space-y-3"},be=l(()=>e("div",{class:"skeleton h-8 w-3/4 rounded"},null,-1)),_e=l(()=>e("div",{class:"skeleton h-4 w-24 rounded"},null,-1)),we=[be,_e],pe={class:"mb-3 text-2xl font-bold text-base-content"},me={class:"text-base-content/60 text-sm"},ge={key:0,class:"mb-6 flex items-center justify-between"},xe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},ke={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},ye={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},Ce={key:0,class:"flex items-center gap-2"},Me=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),Se=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),je=[Se],Le={key:1,class:"space-y-3"},Te=l(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),ze=l(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Be=l(()=>e("div",{class:"skeleton h-4 w-4/6 rounded"},null,-1)),Ie=l(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Ne=l(()=>e("div",{class:"skeleton h-4 w-3/4 rounded"},null,-1)),He=l(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Oe=l(()=>e("div",{class:"skeleton h-32 w-full rounded"},null,-1)),$e=l(()=>e("div",{class:"skeleton h-4 w-2/3 rounded"},null,-1)),Ae=l(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Ee=[Te,ze,Be,Ie,Ne,He,Oe,$e,Ae],De={key:2},Pe={class:"content-container"},Ve=["innerHTML"],Fe={key:1,class:"content-placeholder"},Re=l(()=>e("div",{class:"space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-5/6 rounded"}),e("div",{class:"skeleton h-4 w-4/6 rounded"}),e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-3/4 rounded"})],-1)),We=[Re],qe={key:3,class:"text-base-content/60 mt-8 text-sm"},Ge=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),Ue=[Ge],Qe={class:"flex h-full flex-col"},Ke=l(()=>e("h3",{class:"text-lg font-semibold text-base-content"},"İçindekiler",-1)),Ye=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Je=[Ye],Xe={class:"flex-1 overflow-y-auto p-4"},Ze={key:0,class:"text-base-content/60 py-8 text-center text-sm"},et={key:1,class:"space-y-1"},tt=["onClick"],st={class:"text-base-content"},ot=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),nt=[ot],lt={class:"rounded-lg bg-base-100 shadow-lg"},rt=l(()=>e("h3",{class:"text-sm font-semibold text-base-content"},"İçindekiler",-1)),at=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),it=[at],ct={class:"overflow-y-auto p-3",style:{"max-height":"calc(100vh - 120px)"}},dt={key:0,class:"text-base-content/60 py-4 text-center text-xs"},ut={key:1,class:"space-y-1"},ht=["onClick"],ft={class:"text-base-content"},vt=Object.assign({name:"ShowWriteScreen"},{__name:"Screen",setup(k){ae.registerPlugin(le);const{props:B}=Q(),c=h(B.write||{}),W=B.auth,w=h(null),a=h(!1),d=h(!1),f=h(!1),b=h([]),p=h(!1),I=h(null),M=h(!1),u=A(()=>!c.value.title),S=re(w,A(()=>d.value?c.value.content:"")),q=o=>{if(!o)return"";const r=new Date(o),n=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],i=r.getDate(),_=n[r.getMonth()],C=r.getFullYear();return`${i} ${_} ${C}`},G=o=>new Intl.NumberFormat("tr-TR").format(o),N=()=>{a.value=!a.value,!a.value&&!d.value&&(d.value=!0)},U=async o=>{if(confirm("Bu yazıyı silmek istediğinizden emin misiniz?"))try{await E.delete(route("writes.destroy",{write:o}))}catch(r){console.error("Error deleting write:",r)}},j=()=>{if(!w.value)return;const o=w.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),r=[];o.forEach((n,i)=>{n.id||(n.id=`heading-${i}`);const _=parseInt(n.tagName.charAt(1)),C=n.textContent.trim();C&&r.push({id:n.id,text:C,level:_})}),b.value=r,p.value=r.length>0},g=()=>{f.value=!f.value},H=o=>{const r=document.getElementById(o);r&&(I.value=o,r.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(f.value=!1))},O=o=>{switch(o){case 1:return"pl-0";case 2:return"pl-4 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2";case 3:return"pl-8 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 4:return"pl-12 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 5:return"pl-16 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";case 6:return"pl-20 relative before:absolute before:left-0 before:top-1/2 before:h-px before:w-3 before:bg-base-300 before:-translate-y-1/2 after:absolute after:left-0 after:top-0 after:h-full after:w-px after:bg-base-300";default:return"pl-0"}},$=o=>I.value===o?"bg-base-content/10 text-base-content border-l-2 border-base-content":"";let y=null;return K(()=>{M.value=window.innerWidth>=1536,d.value=!1;const o=document.querySelector(".content-placeholder");o?(y=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting&&!d.value&&(d.value=!0,L(()=>{R(w,{duration:.8}),setTimeout(()=>{j(),M.value&&b.value.length>0&&(f.value=!0)},100)}))})},{threshold:.1,rootMargin:"50px"}),y.observe(o)):(d.value=!0,L(()=>{R(w,{duration:.8}),setTimeout(()=>{j(),M.value&&b.value.length>0&&(f.value=!0)},100)}));const r=new URLSearchParams(window.location.search);if(a.value=r.has("draw"),c.value.content&&c.value.content.includes("<img")){const n=/<img[^>]+src="([^"]+)"/g;let i;for(;(i=n.exec(c.value.content))!==null;){const _=new Image;_.src=i[1]}}}),Y(()=>{y&&y.disconnect()}),E.on("before",()=>{const o=document.querySelector(".write-list-container");o&&localStorage.setItem("writeListScrollPosition",o.scrollTop.toString())}),J(S,()=>{d.value&&S.value&&L(()=>{j()})},{flush:"post"}),(o,r)=>a.value?(t(),s("div",ie,[e("div",{class:"absolute left-4 top-4 z-10"},[e("button",{onClick:N,class:"flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm text-base-content shadow-lg transition-all duration-200 hover:bg-base-200"},[ce,P(" Metne Dön ")])]),D(se,{write:c.value},null,8,["write"])])):(t(),X(oe,{key:1},{default:V(()=>[e("div",de,[e("div",ue,[e("div",he,[e("div",fe,[u.value?(t(),s("div",ve,we)):(t(),s(T,{key:1},[e("h1",pe,m(c.value.title),1),e("div",me,m(q(c.value.created_at)),1)],64))]),u.value?v("",!0):(t(),s("div",ge,[e("button",{onClick:N,class:x(["flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm transition-all duration-200 hover:bg-base-200",a.value?"border-primary bg-primary text-primary-content":"text-base-content"])},[(t(),s("svg",xe,[a.value?(t(),s("path",ke)):(t(),s("path",ye))])),P(" "+m(a.value?"Metni Göster":"Çizimi Göster"),1)],2),z(W).user?(t(),s("div",Ce,[D(z(Z),{href:o.route("writes.edit",c.value.id),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300",title:"Düzenle"},{default:V(()=>[Me]),_:1},8,["href"]),e("button",{onClick:r[0]||(r[0]=n=>U(c.value.id)),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-error transition-all duration-200 hover:bg-error hover:text-error-content",title:"Sil"},je)])):v("",!0)])),u.value?(t(),s("div",Le,Ee)):(t(),s("div",De,[e("div",Pe,[d.value?(t(),s("div",{key:0,class:"article-content ql-editor",ref_key:"contentRef",ref:w,innerHTML:z(S)},null,8,Ve)):(t(),s("div",Fe,We))])])),u.value?v("",!0):(t(),s("div",qe,m(G(c.value.views_count))+" görüntülenme ",1))])])]),!u.value&&p.value&&!a.value?(t(),s("button",{key:0,onClick:g,class:"fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:hidden"},Ue)):v("",!0),!u.value&&p.value&&!a.value?(t(),s("div",{key:1,class:x(["fixed right-0 top-0 z-40 h-full w-80 transform bg-base-100 shadow-2xl transition-transform duration-300 2xl:hidden",{"translate-x-full":!f.value}])},[e("div",Qe,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-4"},[Ke,e("button",{onClick:g,class:"btn btn-ghost btn-sm"},Je)]),e("div",Xe,[b.value.length===0?(t(),s("div",Ze," İçindekiler bulunamadı ")):(t(),s("div",et,[(t(!0),s(T,null,F(b.value,(n,i)=>(t(),s("div",{key:i,onClick:_=>H(n.id),class:x(["cursor-pointer rounded-lg p-2 text-sm transition-colors hover:bg-base-200",[O(n.level),$(n.id)]])},[e("span",st,m(n.text),1)],10,tt))),128))]))])])],2)):v("",!0),!u.value&&p.value&&!a.value?(t(),s("button",{key:2,onClick:g,class:"fixed right-4 top-4 z-50 flex hidden h-10 w-10 items-center justify-center rounded-full bg-base-content text-base-100 shadow-lg transition-all duration-200 hover:bg-base-300 2xl:flex"},nt)):v("",!0),!u.value&&p.value&&!a.value?(t(),s("div",{key:3,class:x(["fixed right-4 top-4 z-30 hidden w-64 transition-all duration-300 ease-in-out 2xl:block",f.value?"translate-x-0 opacity-100":"pointer-events-none translate-x-full opacity-0"])},[e("div",lt,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-3"},[rt,e("button",{onClick:g,class:"btn btn-ghost btn-xs"},it)]),e("div",ct,[b.value.length===0?(t(),s("div",dt," İçindekiler bulunamadı ")):(t(),s("div",ut,[(t(!0),s(T,null,F(b.value,(n,i)=>(t(),s("div",{key:i,onClick:_=>H(n.id),class:x(["cursor-pointer rounded p-2 text-xs transition-colors hover:bg-base-200",[O(n.level),$(n.id)]])},[e("span",ft,m(n.text),1)],10,ht))),128))]))])])],2)):v("",!0),!u.value&&p.value&&f.value&&!a.value?(t(),s("div",{key:4,onClick:g,class:"fixed inset-0 z-30 bg-black/20 2xl:hidden"})):v("",!0)]),_:1}))}}),yt=ne(vt,[["__scopeId","data-v-d345c72f"]]);export{yt as default};
