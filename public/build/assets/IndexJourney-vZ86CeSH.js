import{g as b,b as v,s as $,x as F,e as T,w as Y,a as e,c as r,j as i,o,n as c,F as y,l as k,f as D,u as N,p as E,t as n,k as M}from"./ssr-BxLEzc_r.js";import H from"./LayoutJourney-Dk5y0Xu3.js";import"./FlashMessage-DDTcKlM0.js";const O={class:"min-h-screen bg-background"},S={class:"mx-auto max-w-4xl px-4 py-8 sm:px-6"},W={class:"space-y-6"},I={class:"absolute left-1 top-4 flex h-5 w-5 items-center justify-center sm:left-2 sm:h-5 sm:w-5"},J={key:0,class:"absolute h-5 w-5 animate-ping rounded-full bg-primary/30"},R={class:"flex flex-col sm:flex-row"},U={key:0,class:"relative w-full flex-shrink-0 sm:w-80 md:w-96 lg:w-[420px]"},q={class:"aspect-video w-full overflow-hidden"},G=["src","alt"],K={key:0,class:"absolute bottom-2 right-2 rounded bg-yellow-500/90 px-1.5 py-0.5 text-xs font-medium text-yellow-900"},P={key:1,class:"relative hidden aspect-video w-80 flex-shrink-0 items-center justify-center bg-muted/50 sm:flex md:w-96 lg:w-[420px]"},Q={key:0,class:"absolute bottom-2 right-2 rounded bg-yellow-500/90 px-1.5 py-0.5 text-xs font-medium text-yellow-900"},X={class:"flex min-w-0 flex-1 flex-col justify-center p-4 sm:p-5"},Z={class:"flex items-center gap-2 text-xs text-muted-foreground"},ee={key:0,class:"rounded bg-yellow-500/20 px-1.5 py-0.5 text-xs font-medium text-yellow-600 dark:text-yellow-400 sm:hidden"},te={class:"mt-2 line-clamp-2 text-base font-semibold text-foreground transition-colors group-hover:text-primary sm:text-lg"},se={key:0,class:"mt-2 line-clamp-2 text-sm text-muted-foreground"},oe={key:1,class:"py-16 text-center"},re={class:"text-muted-foreground"},le={key:0,class:"border-t border-border bg-muted/30"},ne={class:"mx-auto max-w-4xl px-4 py-5 sm:px-6"},ie={class:"flex flex-wrap items-center justify-center gap-x-8 gap-y-2 text-sm"},ae={class:"flex items-center gap-2"},de={class:"text-muted-foreground"},ue={class:"text-foreground"},ce={class:"flex items-center gap-2"},me={class:"text-muted-foreground"},fe={class:"text-foreground"},xe={class:"flex items-center gap-2"},ve={class:"text-muted-foreground"},pe={class:"flex h-full flex-col"},ge={class:"flex-1 overflow-y-auto p-4"},he={class:"space-y-1"},we={class:"text-xs opacity-70"},be=["onClick"],ye={class:"text-xs opacity-70"},ke={class:"rounded-xl border border-border bg-popover/95 shadow-xl backdrop-blur-sm"},_e={class:"overflow-y-auto p-2",style:{"max-height":"calc(100vh - 200px)"}},je={class:"space-y-0.5"},Ce={class:"opacity-70"},Ye=["onClick"],Me={class:"opacity-70"},Le={__name:"IndexJourney",props:{entries:{type:Array,default:()=>[]},entriesByYear:{type:Object,default:()=>({})}},setup(f){const p=f,a=b(null),d=b(!1),B=b(!1),u=v(()=>Object.keys(p.entriesByYear||{}).sort((l,t)=>Number(t)-Number(l))),m=v(()=>u.value.length>1),_=v(()=>a.value?p.entries.filter(l=>L(l.entry_date)===a.value):p.entries),z=v(()=>u.value.length>0?u.value[u.value.length-1]:"-"),A=v(()=>u.value.length>0?u.value[0]:"-"),L=l=>l?new Date(l).getFullYear().toString():"",V=l=>l?new Date(l).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}):"",j=l=>{var t;return((t=p.entriesByYear[l])==null?void 0:t.length)||0},x=()=>{d.value=!d.value},g=l=>{a.value=l,window.innerWidth<1280&&(d.value=!1)},C=()=>{const l=window.innerWidth>=1280;B.value=l,l&&m.value?d.value=!0:l||(d.value=!1)};let h=null;return $(()=>{C(),h=()=>{C()},window.addEventListener("resize",h)}),F(()=>{h&&window.removeEventListener("resize",h)}),(l,t)=>(o(),T(H,null,{screen:Y(()=>[e("div",O,[e("div",S,[t[8]||(t[8]=e("h1",{class:"xl:-translate-x-[80px] mb-5 text-2xl font-bold text-foreground sm:text-3xl"},"Yolculuk",-1)),_.value.length>0?(o(),r("div",{key:0,class:c(["relative transition-all duration-300",{"xl:-translate-x-[80px]":m.value&&d.value}])},[t[5]||(t[5]=e("div",{class:"absolute bottom-0 left-3 top-0 w-0.5 bg-gradient-to-b from-primary/50 via-border to-border sm:left-4"},null,-1)),e("div",W,[(o(!0),r(y,null,k(_.value,(s,w)=>(o(),r("div",{key:s.id,class:"timeline-entry relative pl-10 sm:pl-12"},[e("div",I,[w===0?(o(),r("div",J)):i("",!0),e("div",{class:c(["relative h-3 w-3 rounded-full border-2 border-primary bg-background sm:h-3 sm:w-3",{"bg-primary":w===0}])},null,2)]),D(N(E),{href:`/journey/${s.id}`,class:"group block overflow-hidden rounded-xl bg-card ring-1 ring-border/50 transition-all duration-200 hover:ring-primary/40 hover:shadow-lg"},{default:Y(()=>[e("div",R,[s.image?(o(),r("div",U,[e("div",q,[e("img",{src:`/storage/${s.image}`,alt:s.title,class:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,G)]),s.status==="draft"?(o(),r("span",K," Taslak ")):i("",!0)])):(o(),r("div",P,[t[2]||(t[2]=e("svg",{class:"h-12 w-12 text-muted-foreground/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),s.status==="draft"?(o(),r("span",Q," Taslak ")):i("",!0)])),e("div",X,[e("div",Z,[t[3]||(t[3]=e("svg",{class:"h-3.5 w-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,n(V(s.entry_date)),1),s.status==="draft"&&!s.image?(o(),r("span",ee," Taslak ")):i("",!0)]),e("h3",te,n(s.title),1),s.description?(o(),r("p",se,n(s.description),1)):i("",!0),t[4]||(t[4]=e("div",{class:"mt-3 flex items-center gap-1 text-xs text-muted-foreground transition-colors group-hover:text-primary"},[e("span",null,"Devamını oku"),e("svg",{class:"h-3.5 w-3.5 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])])]),_:2},1032,["href"])]))),128))]),t[6]||(t[6]=e("div",{class:"relative mt-6 pl-10 sm:pl-12"},[e("div",{class:"absolute left-1 top-0 flex h-5 w-5 items-center justify-center sm:left-2"},[e("div",{class:"h-2 w-2 rounded-full bg-border"})]),e("p",{class:"text-xs text-muted-foreground"},"Yolculuğun başlangıcı")],-1))],2)):(o(),r("div",oe,[t[7]||(t[7]=e("div",{class:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted"},[e("svg",{class:"h-8 w-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",re,n(a.value?`${a.value} yılında kayıt bulunamadı`:"Henüz kayıt yok"),1)]))]),f.entries.length>0?(o(),r("div",le,[e("div",ne,[e("div",ie,[e("div",ae,[t[10]||(t[10]=e("div",{class:"h-2 w-2 rounded-full bg-primary"},null,-1)),e("span",de,[e("strong",ue,n(f.entries.length),1),t[9]||(t[9]=M(" kayıt",-1))])]),e("div",ce,[t[12]||(t[12]=e("div",{class:"h-2 w-2 rounded-full bg-primary/60"},null,-1)),e("span",me,[e("strong",fe,n(u.value.length),1),t[11]||(t[11]=M(" yıl",-1))])]),e("div",xe,[t[13]||(t[13]=e("div",{class:"h-2 w-2 rounded-full bg-primary/30"},null,-1)),e("span",ve,n(z.value)+" - "+n(A.value),1)])])])])):i("",!0)]),m.value?(o(),r("button",{key:0,onClick:x,class:"fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg transition-all hover:bg-primary/90 hover:scale-105 xl:hidden"},[...t[14]||(t[14]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})],-1)])])):i("",!0),m.value?(o(),r("div",{key:1,class:c(["fixed right-0 top-12 z-40 h-[calc(100vh-3rem)] w-72 transform border-l border-border bg-popover shadow-2xl transition-transform duration-300 lg:h-[calc(100vh-5.5rem)] xl:hidden",{"translate-x-full":!d.value}])},[e("div",pe,[e("div",{class:"flex items-center justify-between border-b border-border p-4"},[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-foreground"},"Yıllar",-1)),e("button",{onClick:x,class:"inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground"},[...t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ge,[e("nav",he,[e("button",{onClick:t[0]||(t[0]=s=>g(null)),class:c(["flex w-full items-center justify-between rounded-lg px-3 py-2.5 text-left text-sm transition-colors",a.value===null?"bg-primary text-primary-foreground font-medium":"text-muted-foreground hover:bg-accent hover:text-foreground"])},[t[17]||(t[17]=e("span",null,"Tümü",-1)),e("span",we,n(f.entries.length),1)],2),(o(!0),r(y,null,k(u.value,s=>(o(),r("button",{key:s,onClick:w=>g(s),class:c(["flex w-full items-center justify-between rounded-lg px-3 py-2.5 text-left text-sm transition-colors",a.value===s?"bg-primary text-primary-foreground font-medium":"text-muted-foreground hover:bg-accent hover:text-foreground"])},[e("span",null,n(s),1),e("span",ye,n(j(s)),1)],10,be))),128))])])])],2)):i("",!0),m.value?(o(),r("button",{key:2,onClick:x,class:"fixed right-4 top-28 z-50 hidden h-10 w-10 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg transition-all hover:bg-primary/90 hover:scale-105 xl:flex"},[...t[18]||(t[18]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})],-1)])])):i("",!0),m.value?(o(),r("div",{key:3,class:c(["fixed right-4 top-28 z-30 hidden w-48 transition-all duration-300 ease-in-out xl:block",d.value?"translate-x-0 opacity-100":"pointer-events-none translate-x-full opacity-0"])},[e("div",ke,[e("div",{class:"flex items-center justify-between border-b border-border px-4 py-3"},[t[20]||(t[20]=e("h3",{class:"text-sm font-semibold text-foreground"},"Yıllar",-1)),e("button",{onClick:x,class:"inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-accent hover:text-accent-foreground"},[...t[19]||(t[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-3.5 w-3.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",_e,[e("nav",je,[e("button",{onClick:t[1]||(t[1]=s=>g(null)),class:c(["flex w-full items-center justify-between rounded-lg px-3 py-2 text-left text-xs transition-colors",a.value===null?"bg-primary text-primary-foreground font-medium":"text-muted-foreground hover:bg-accent/50 hover:text-foreground"])},[t[21]||(t[21]=e("span",null,"Tümü",-1)),e("span",Ce,n(f.entries.length),1)],2),(o(!0),r(y,null,k(u.value,s=>(o(),r("button",{key:s,onClick:w=>g(s),class:c(["flex w-full items-center justify-between rounded-lg px-3 py-2 text-left text-xs transition-colors",a.value===s?"bg-primary text-primary-foreground font-medium":"text-muted-foreground hover:bg-accent/50 hover:text-foreground"])},[e("span",null,n(s),1),e("span",Me,n(j(s)),1)],10,Ye))),128))])])])],2)):i("",!0),m.value&&d.value?(o(),r("div",{key:4,onClick:x,class:"fixed inset-0 z-30 bg-black/20 backdrop-blur-sm xl:hidden"})):i("",!0)]),_:1}))}};export{Le as default};
