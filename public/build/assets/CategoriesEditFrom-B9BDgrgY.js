import{Q as k,l as f,T as C,i as V,J as z,g as l,b as r,a as n,w as g,u as d,o as u,j as S,q as $,F as K,m as B,t as L,e as y}from"./app-CcIPdWom.js";import{_ as j,a as b}from"./Form-C5iA-WoZ.js";import{_ as x}from"./Button-BQfpaMTG.js";/* empty css            */const D={class:"bg-screen-bg mx-auto mt-10 w-full max-w-full overflow-auto px-5 lg:mt-0"},F={class:"container mx-auto p-4"},N=r("h1",{class:"mb-4 text-2xl font-bold"},"Kategoriyi Düzenle",-1),T=r("p",{class:"mb-6 border-l-4 border-gray-300 pl-4 text-sm text-gray-700"}," Kategorileriniz için düzenlemeler yapabilirsiniz. İsterseniz bir üst kategori seçebilirsiniz. ",-1),U={class:"mt-4"},E=r("label",{for:"parent_id_input",class:"block text-sm font-medium text-gray-700"},"Üst Kategori",-1),q={key:0,class:"mt-2 max-h-40 overflow-y-auto rounded-md border border-gray-300 bg-white shadow-sm"},A=["onClick"],G={key:1,class:"mt-2 text-sm text-gray-500"},O={__name:"CategoriesEditFrom",setup(J){var _;const{props:s}=k(),m=f(s.categories||[]),o=C({name:s.category.name||"",slug:s.category.slug||"",parent_id:s.category.parent_id||null}),i=f(((_=s.category.parent)==null?void 0:_.name)||""),p=V(()=>i.value?m.value.filter(e=>e.name.toLowerCase().includes(i.value.toLowerCase())):m.value),v=e=>{o.parent_id=e.id,i.value=e.name},c=async()=>{const t=await(await fetch(route("categories.index"),{headers:{Accept:"application/json"}})).json();m.value=t.categories||[]},h=()=>{o.put(route("categories.update",{category:s.category.id})).then(()=>{c()})},w=e=>{confirm("Bu kategoriyi silmek istediğinize emin misiniz?")&&o.delete(route("categories.destroy",{category:e})).then(()=>{c()})};return z(()=>o.name,e=>{o.slug=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}),c(),(e,t)=>(u(),l("div",D,[r("div",F,[N,T,n(j,{onSubmit:h},{default:g(()=>[n(b,{modelValue:d(o).name,"onUpdate:modelValue":t[0]||(t[0]=a=>d(o).name=a),id:"name",label:"İsim"},null,8,["modelValue"]),n(b,{modelValue:d(o).slug,"onUpdate:modelValue":t[1]||(t[1]=a=>d(o).slug=a),id:"slug",label:"Slug"},null,8,["modelValue"]),r("div",U,[E,S(r("input",{type:"text",id:"parent_id_input","onUpdate:modelValue":t[2]||(t[2]=a=>i.value=a),placeholder:"Üst kategori arayın",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[$,i.value]]),p.value.length?(u(),l("ul",q,[(u(!0),l(K,null,B(p.value,a=>(u(),l("li",{key:a.id,onClick:M=>v(a),class:"cursor-pointer px-4 py-2 hover:bg-gray-100"},L(a.name),9,A))),128))])):(u(),l("p",G,"Sonuç bulunamadı."))]),n(x,{type:"submit",class:"mt-4"},{default:g(()=>[y("Kategoriyi Güncelle")]),_:1})]),_:1}),n(x,{onClick:t[3]||(t[3]=a=>w(d(s).category.id)),variant:"outline",class:"m-2 ml-auto text-black"},{default:g(()=>[y(" Kategoriyi Sil ")]),_:1})])]))}};export{O as default};
