import{r as f,p as B,c as n,a as t,k as v,v as T,D as V,B as N,h as u,t as l,F as E,g as K,o as i,n as R,N as H}from"./ssr-Dv_HsqzD.js";const U={class:"overflow-hidden rounded-lg bg-white shadow"},W={class:"border-b p-4"},Z={class:"flex flex-wrap gap-4"},$={class:"min-w-[200px] flex-1"},q={class:"min-w-[200px] flex-1"},I={key:0,class:"p-8 text-center"},O={key:1,class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},j={class:"bg-gray-50"},G={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},J={class:"divide-y divide-gray-200 bg-white"},P={key:0,class:"text-center"},X=["colspan"],Y={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},ee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},te={class:"whitespace-nowrap px-6 py-4 text-sm capitalize text-gray-500"},se={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ae={class:"ml-1 text-xs text-gray-400"},ne={key:0,class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ie={class:"flex space-x-3"},oe=["href"],le=["onClick"],re={class:"border-t bg-gray-50 px-6 py-4"},ce={class:"text-sm text-gray-600"},de={__name:"WordsTable",props:{words:{type:Array,required:!0},isLoading:{type:Boolean,default:!1},showActions:{type:Boolean,default:!0}},setup(c){const x=c,o=f(""),r=f(""),p=B(()=>x.words?x.words.filter(s=>{if(!s)return!1;const a=!o.value.trim()||s.word&&s.word.toLowerCase().includes(o.value.toLowerCase())||s.meaning&&s.meaning.toLowerCase().includes(o.value.toLowerCase()),e=!r.value||s.language&&s.language===r.value;return a&&e}):[]),d=s=>{var m;if(!s)return 0;const a=s.review_count||0,e=s.incorrect_count||0,g=s.difficulty||1,w=((m=s.sentences)==null?void 0:m.length)||0,y=s.last_review_date?new Date(s.last_review_date):null,C=new Date,z=Math.min(a/10,1),F=a>0?1-e/a:0,S=1-(g-1)/3,A=Math.min(w/5,1),D=y?(C-y)/(1e3*60*60*24):30,L=Math.max(0,1-D/30),M=Math.max(0,1-e*.2);return Math.round((F*.3+z*.2+S*.15+A*.15+L*.1+M*.1)*100)},h=s=>s>=80?"Çok İyi":s>=60?"İyi":s>=40?"Orta":s>=20?"Zayıf":"Çok Zayıf",_=s=>s>=80?"text-green-600":s>=60?"text-green-500":s>=40?"text-yellow-500":s>=20?"text-orange-500":"text-red-500",k=s=>{confirm(`"${s.word}" kelimesini silmek istediğinize emin misiniz?`)&&H.delete(route("rendition.words.destroy",s.id))},b=()=>{o.value="",r.value=""};return(s,a)=>(i(),n("div",U,[t("div",W,[t("div",Z,[t("div",$,[v(t("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),type:"text",placeholder:"Kelime veya anlam ara...",class:"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[T,o.value]])]),t("div",q,[v(t("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),class:"w-full rounded-lg border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...a[2]||(a[2]=[N('<option value="">Tüm Diller</option><option value="tr">Türkçe (TR)</option><option value="en">İngilizce (EN)</option><option value="de">Almanca (DE)</option><option value="fr">Fransızca (FR)</option><option value="es">İspanyolca (ES)</option><option value="it">İtalyanca (IT)</option><option value="ru">Rusça (RU)</option><option value="ar">Arapça (AR)</option>',9)])],512),[[V,r.value]])]),t("button",{onClick:b,class:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Filtreleri Temizle ")])]),c.isLoading?(i(),n("div",I,[...a[3]||(a[3]=[t("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"},null,-1),t("p",{class:"mt-2 text-gray-600"},"Kelime listesi yükleniyor...",-1)])])):(i(),n("div",O,[t("table",Q,[t("thead",j,[t("tr",null,[a[4]||(a[4]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Kelime",-1)),a[5]||(a[5]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Anlam",-1)),a[6]||(a[6]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Tür",-1)),a[7]||(a[7]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Başarı Durumu ",-1)),c.showActions?(i(),n("th",G," İşlemler ")):u("",!0)])]),t("tbody",J,[p.value.length===0?(i(),n("tr",P,[t("td",{colspan:c.showActions?5:4,class:"px-6 py-4 text-sm text-gray-500"},l(o.value||r.value?"Arama kriterlerine uygun kelime bulunamadı.":"Henüz kelime bulunmamaktadır."),9,X)])):u("",!0),(i(!0),n(E,null,K(p.value,e=>(i(),n("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",Y,l((e==null?void 0:e.word)||"-"),1),t("td",ee,l((e==null?void 0:e.meaning)||"-"),1),t("td",te,l((e==null?void 0:e.type)||"-"),1),t("td",se,[t("span",{class:R(_(d(e)))},l(h(d(e))),3),t("span",ae," ("+l(d(e))+"%) ",1)]),c.showActions?(i(),n("td",ne,[t("div",ie,[e!=null&&e.id?(i(),n("a",{key:0,href:s.route("rendition.words.edit",e.id),class:"text-gray-400 hover:text-blue-600",title:"Düzenle"},[...a[8]||(a[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)])],8,oe)):u("",!0),e!=null&&e.id&&(e!=null&&e.word)?(i(),n("button",{key:1,onClick:g=>k(e),class:"text-gray-400 hover:text-red-600",title:"Sil"},[...a[9]||(a[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,le)):u("",!0)])])):u("",!0)]))),128))])])])),t("div",re,[t("p",ce,"Toplam Kelime Sayısı: "+l(p.value.length),1)])]))}};export{de as default};
