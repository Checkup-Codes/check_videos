import{T as C,g as j,e as V,w as b,a as t,h as c,i as u,c as i,j as a,k as p,n as f,u as s,m as g,o as n,t as m,E as x,f as B,p as U}from"./ssr-CHe0FcHz.js";import _ from"./LayoutJourney-DKSf16mm.js";import"./FlashMessage-BD1jy2Rs.js";const D={class:"mx-auto max-w-2xl px-4 py-6 sm:px-6"},T={key:0,class:"mt-1 text-xs text-destructive"},L={key:0,class:"mt-1 text-xs text-destructive"},M={key:0,class:"mt-1 text-xs text-destructive"},z={key:0,class:"text-center p-4"},I=["src"],R={key:1,class:"mt-1 text-xs text-destructive"},N={class:"flex gap-4"},S={class:"flex cursor-pointer items-center gap-2"},K={class:"flex cursor-pointer items-center gap-2"},O={class:"flex items-center justify-end gap-3 pt-2"},$=["disabled"],q={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},P={__name:"CreateJourney",setup(A){const v=new Date().toISOString().split("T")[0],r=C({entry_date:v,title:"",description:"",image:null,status:"published"}),l=j(null),y=d=>{const e=d.target.files[0];e&&(r.image=e,l.value=URL.createObjectURL(e))},k=d=>{const e=d.dataTransfer.files[0];e&&e.type.startsWith("image/")&&(r.image=e,l.value=URL.createObjectURL(e))},h=()=>{r.image=null,l.value=null},w=()=>{r.post("/journey",{forceFormData:!0})};return(d,e)=>(n(),V(_,null,{screen:b(()=>[t("div",D,[t("form",{onSubmit:c(w,["prevent"]),class:"space-y-5"},[t("div",null,[e[7]||(e[7]=t("label",{class:"mb-1.5 block text-sm font-medium text-foreground"},[p(" Başlık "),t("span",{class:"text-destructive"},"*")],-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s(r).title=o),type:"text",class:f(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",{"border-destructive":s(r).errors.title}]),placeholder:"Bu günün başlığı...",required:""},null,2),[[g,s(r).title]]),s(r).errors.title?(n(),i("p",T,m(s(r).errors.title),1)):a("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{class:"mb-1.5 block text-sm font-medium text-foreground"},[p(" Tarih "),t("span",{class:"text-destructive"},"*")],-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s(r).entry_date=o),type:"date",class:f(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",{"border-destructive":s(r).errors.entry_date}]),required:""},null,2),[[g,s(r).entry_date]]),s(r).errors.entry_date?(n(),i("p",L,m(s(r).errors.entry_date),1)):a("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{class:"mb-1.5 block text-sm font-medium text-foreground"},"Açıklama",-1)),u(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>s(r).description=o),rows:"5",class:f(["flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",{"border-destructive":s(r).errors.description}]),placeholder:"Bu gün hakkında notlarınız..."},null,2),[[g,s(r).description]]),s(r).errors.description?(n(),i("p",M,m(s(r).errors.description),1)):a("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"mb-1.5 block text-sm font-medium text-foreground"},"Görsel",-1)),t("div",{class:"relative flex min-h-[140px] cursor-pointer items-center justify-center rounded-md border-2 border-dashed border-input bg-muted/30 transition-colors hover:border-primary/50 hover:bg-muted/50",onClick:e[3]||(e[3]=o=>d.$refs.imageInput.click()),onDragover:e[4]||(e[4]=c(()=>{},["prevent"])),onDrop:c(k,["prevent"])},[t("input",{ref:"imageInput",type:"file",accept:"image/*",onChange:y,class:"hidden"},null,544),l.value?(n(),i("img",{key:1,src:l.value,alt:"Preview",class:"h-full max-h-[200px] w-full rounded-md object-cover"},null,8,I)):(n(),i("div",z,[...e[10]||(e[10]=[t("svg",{class:"mx-auto h-10 w-10 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),t("p",{class:"mt-2 text-sm text-muted-foreground"},"Tıklayın veya sürükleyin",-1)])]))],32),l.value?(n(),i("button",{key:0,type:"button",onClick:h,class:"mt-2 text-xs text-destructive hover:underline"}," Görseli Kaldır ")):a("",!0),s(r).errors.image?(n(),i("p",R,m(s(r).errors.image),1)):a("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{class:"mb-1.5 block text-sm font-medium text-foreground"},"Durum",-1)),t("div",N,[t("label",S,[u(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=o=>s(r).status=o),value:"published",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[x,s(r).status]]),e[12]||(e[12]=t("span",{class:"text-sm text-foreground"},"Yayınla",-1))]),t("label",K,[u(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=o=>s(r).status=o),value:"draft",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[x,s(r).status]]),e[13]||(e[13]=t("span",{class:"text-sm text-foreground"},"Taslak",-1))])])]),t("div",O,[B(s(U),{href:"/journey",class:"inline-flex h-9 items-center justify-center rounded-md border border-input bg-background px-4 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground"},{default:b(()=>[...e[15]||(e[15]=[p(" İptal ",-1)])]),_:1}),t("button",{type:"submit",disabled:s(r).processing,class:"inline-flex h-9 items-center justify-center gap-2 rounded-md bg-primary px-4 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 disabled:pointer-events-none disabled:opacity-50"},[s(r).processing?(n(),i("svg",q,[...e[16]||(e[16]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):a("",!0),p(" "+m(s(r).processing?"Kaydediliyor...":"Kaydet"),1)],8,$)])],32)])]),_:1}))}};export{P as default};
