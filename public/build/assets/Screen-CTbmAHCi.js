import{Q as $,r as u,p as U,m as F,K as y,z as G,s as A,j as Q,o as t,w as I,a as e,c as s,h,F as O,t as v,n as C,f as E,u as z,e as H,i as K,g as J,S as X,U as Y,N as V}from"./ssr-BySCZBCh.js";import{_ as Z}from"./ExcalidrawComponent-BtmuTYCw.js";import{_ as ee}from"./CheckScreen-31M00tFG.js";import{_ as te}from"./app-mNG7N0o1.js";import{u as se}from"./useProcessedQuillContent-D5PC7h5E.js";/* empty css            */const n=f=>(X("data-v-663b462e"),f=f(),Y(),f),oe={class:"card border border-base-200 bg-base-100 shadow-md transition-all duration-200"},ne={class:"card-body p-4 sm:p-6"},le={class:"mb-2 sm:mb-4"},re={key:0,class:"skeleton-wrapper"},ae=n(()=>e("div",{class:"skeleton h-8 w-3/4 rounded-lg"},null,-1)),ie=n(()=>e("div",{class:"mt-2"},[e("div",{class:"skeleton h-4 w-24 rounded-lg"})],-1)),ce=[ae,ie],de={class:"break-words text-xl font-bold sm:text-2xl"},ue={class:"mt-2"},he={key:0,class:"badge badge-outline text-xs"},ve={class:"sticky"},me={class:"flex items-center justify-between"},_e={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-1 h-4 w-4"},we={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},ge={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},pe={key:1,class:"flex gap-2"},fe=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-1 h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),be=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-1 h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),ke=[be],xe=n(()=>e("div",{class:"divider my-1"},null,-1)),ye={key:0,class:"space-y-4"},Ce=n(()=>e("div",{class:"skeleton h-4 w-full rounded-lg"},null,-1)),Me=n(()=>e("div",{class:"skeleton h-4 w-5/6 rounded-lg"},null,-1)),Se=n(()=>e("div",{class:"skeleton h-4 w-4/6 rounded-lg"},null,-1)),Le=n(()=>e("div",{class:"skeleton h-4 w-full rounded-lg"},null,-1)),je=n(()=>e("div",{class:"skeleton h-4 w-3/4 rounded-lg"},null,-1)),ze=n(()=>e("div",{class:"skeleton h-4 w-5/6 rounded-lg"},null,-1)),Be=n(()=>e("div",{class:"skeleton h-32 w-full rounded-lg"},null,-1)),Te=n(()=>e("div",{class:"skeleton h-4 w-2/3 rounded-lg"},null,-1)),Ae=n(()=>e("div",{class:"skeleton h-4 w-full rounded-lg"},null,-1)),Ie=[Ce,Me,Se,Le,je,ze,Be,Te,Ae],Oe={key:1},Ee={key:0,class:"min-h-[500px]"},He={key:1,class:"content-container"},Ve={key:0,class:"alert alert-info mb-4 px-3 py-2 text-sm sm:mb-6 sm:p-4"},Ne=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-5 w-5 shrink-0 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),De=["innerHTML"],Pe={key:2,class:"content-placeholder"},Re=n(()=>e("div",{class:"skeleton-wrapper space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded-lg"}),e("div",{class:"skeleton h-4 w-5/6 rounded-lg"}),e("div",{class:"skeleton h-4 w-4/6 rounded-lg"}),e("div",{class:"skeleton h-4 w-full rounded-lg"}),e("div",{class:"skeleton h-4 w-3/4 rounded-lg"})],-1)),qe=[Re],We={key:2,class:"text-base-content/70 mt-4 flex flex-col space-y-2 p-2 text-xs sm:mt-6 sm:flex-row sm:items-center sm:justify-between sm:space-y-0 sm:p-3 sm:text-sm"},$e={class:"flex flex-wrap items-center gap-2"},Ue={class:"flex items-center gap-1"},Fe=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"h-3.5 w-3.5 sm:h-4 sm:w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),Ge={key:0,class:"whitespace-nowrap"},Qe=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),Ke=[Qe],Je={class:"flex h-full flex-col"},Xe=n(()=>e("h3",{class:"text-lg font-semibold"},"İçindekiler",-1)),Ye=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Ze=[Ye],et={class:"flex-1 overflow-y-auto p-4"},tt={key:0,class:"text-base-content/60 py-8 text-center"},st=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mx-auto mb-4 h-12 w-12 opacity-50"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),ot=n(()=>e("p",null,"İçindekiler bulunamadı",-1)),nt=[st,ot],lt={key:1,class:"space-y-2"},rt=["onClick"],at={class:"flex items-center gap-2"},it={class:"text-base-content/50 font-mono text-xs"},ct={class:"line-clamp-2 text-sm font-medium"},dt=Object.assign({name:"WriteByCategoryScreen"},{__name:"Screen",setup(f){const{props:b}=$(),N=u(b.category||{}),a=u(b.write||{}),w=u(null),D=b.auth||{},i=u(!1),d=u(!0),m=u(!1),k=u(!1),_=u(!1),M=u([]),S=se(w,U(()=>m.value?a.value.content:"")),B=l=>l?new Date(l).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric"}):"";let x=null;F(()=>{m.value=!1,setTimeout(()=>{d.value=!1;const o=document.querySelector(".content-placeholder");o?(x=new IntersectionObserver(r=>{r.forEach(c=>{c.isIntersecting&&!m.value&&(m.value=!0,y(()=>{T(),setTimeout(()=>{L()},100)}))})},{threshold:.1,rootMargin:"50px"}),x.observe(o)):(m.value=!0,y(()=>{T(),setTimeout(()=>{L()},100)}))},300),window.location.pathname.includes("categories")?i.value=!0:i.value=b.showDraw||!1;const l=new URLSearchParams(window.location.search);if(i.value=l.has("draw"),i.value||y(()=>{const o=new IntersectionObserver(c=>{c.forEach(p=>{if(p.isIntersecting){const g=p.target;g.setAttribute("loading","eager"),g.setAttribute("importance","high"),o.unobserve(g)}})},{rootMargin:"200px 0px",threshold:.01});document.querySelectorAll(".article-content img").forEach(c=>o.observe(c))}),a.value.content&&a.value.content.includes("<img")){const o=/<img[^>]+src="([^"]+)"/g;let r;for(;(r=o.exec(a.value.content))!==null;){const c=new Image;c.src=r[1]}}}),G(()=>{x&&x.disconnect()});const T=()=>{if(!w.value)return;w.value.querySelectorAll("a").forEach(o=>{const r=o.getAttribute("href");r&&!r.startsWith("/")&&!r.startsWith("#")&&(o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer"))})},L=()=>{if(!w.value)return;const l=w.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),o=[];l.forEach((r,c)=>{r.id||(r.id=`heading-${c}`);const p=parseInt(r.tagName.charAt(1)),g=r.textContent.trim();g&&o.push({id:r.id,text:g,level:p})}),M.value=o,k.value=o.length>0},P=()=>{i.value=!i.value;const l=new URL(window.location.href);i.value?l.searchParams.set("draw","1"):l.searchParams.delete("draw"),window.history.pushState({},"",l)},R=l=>{confirm("Bu yazıyı silmek istediğinize emin misiniz?")&&V.delete(route("writes.destroy",l),{onSuccess:()=>{V.visit(route("categories.show",N.value.slug))}})},q=l=>{const o=document.getElementById(l);o&&(o.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(_.value=!1))},W=l=>{switch(l){case 1:return"border-l-4 border-primary bg-primary/5";case 2:return"border-l-4 border-secondary bg-secondary/5 ml-4";case 3:return"border-l-4 border-accent bg-accent/5 ml-8";case 4:return"border-l-4 border-base-300 bg-base-200/50 ml-12";case 5:return"border-l-4 border-base-300 bg-base-200/30 ml-16";case 6:return"border-l-4 border-base-300 bg-base-200/20 ml-20";default:return""}},j=()=>{_.value=!_.value};return A(S,()=>{m.value&&S.value&&y(()=>{L()})},{flush:"post"}),A(i,l=>{l&&(_.value=!1)}),(l,o)=>(t(),Q(ee,null,{default:I(()=>[e("div",oe,[e("div",ne,[e("div",le,[d.value?(t(),s("div",re,ce)):(t(),s(O,{key:1},[e("h1",de,v(a.value.title),1),e("div",ue,[a.value.category?(t(),s("span",he,v(a.value.category.name),1)):h("",!0)])],64))]),e("div",ve,[e("div",me,[d.value?h("",!0):(t(),s("button",{key:0,onClick:P,class:C(["btn btn-sm grow-0 sm:grow-0",i.value?"btn-primary":"btn-outline"])},[(t(),s("svg",_e,[i.value?(t(),s("path",we)):(t(),s("path",ge))])),E(" "+v(i.value?"Metni Göster":"Çizimi Göster"),1)],2)),z(D).user&&!d.value?(t(),s("div",pe,[H(z(K),{href:l.route("writes.edit",a.value.slug),class:"btn btn-ghost btn-sm text-xs"},{default:I(()=>[fe]),_:1},8,["href"]),e("button",{onClick:o[0]||(o[0]=r=>R(a.value.id)),class:"btn btn-ghost btn-sm text-xs text-error"},ke)])):h("",!0)])]),xe,d.value?(t(),s("div",ye,Ie)):(t(),s("div",Oe,[i.value?(t(),s("div",Ee,[H(Z,{write:a.value},null,8,["write"])])):(t(),s("div",He,[a.value.summary?(t(),s("div",Ve,[Ne,e("span",null,v(a.value.summary),1)])):h("",!0),m.value?(t(),s("div",{key:1,class:"article-content ql-editor",ref_key:"contentRef",ref:w,innerHTML:z(S)},null,8,De)):(t(),s("div",Pe,qe))]))])),d.value?h("",!0):(t(),s("div",We,[e("div",null,"Oluşturma: "+v(B(a.value.created_at)),1),e("div",$e,[e("span",Ue,[Fe,E(" "+v(a.value.views_count)+" görüntüleme ",1)]),a.value.updated_at!==a.value.created_at?(t(),s("span",Ge," Son güncelleme: "+v(B(a.value.updated_at)),1)):h("",!0)])]))])]),!d.value&&k.value?(t(),s("button",{key:0,onClick:j,class:C(["btn btn-primary btn-circle fixed right-4 top-1/2 z-50 -translate-y-1/2 transform shadow-lg transition-all duration-200 hover:shadow-xl",{"btn-active":_.value}])},Ke,2)):h("",!0),!d.value&&k.value?(t(),s("div",{key:1,class:C(["fixed right-0 top-0 z-40 h-full w-80 transform bg-base-100 shadow-2xl transition-transform duration-300",{"translate-x-full":!_.value}])},[e("div",Je,[e("div",{class:"flex items-center justify-between border-b border-base-200 p-4"},[Xe,e("button",{onClick:j,class:"btn btn-ghost btn-sm btn-circle"},Ze)]),e("div",et,[M.value.length===0?(t(),s("div",tt,nt)):(t(),s("div",lt,[(t(!0),s(O,null,J(M.value,(r,c)=>(t(),s("div",{key:c,onClick:p=>q(r.id),class:C(["cursor-pointer rounded-lg p-3 transition-colors duration-200 hover:bg-base-200",W(r.level)])},[e("div",at,[e("span",it,v(c+1),1),e("span",ct,v(r.text),1)])],10,rt))),128))]))])])],2)):h("",!0),!d.value&&k.value&&_.value?(t(),s("div",{key:2,onClick:j,class:"fixed inset-0 z-30 bg-black/20"})):h("",!0)]),_:1}))}}),gt=te(dt,[["__scopeId","data-v-663b462e"]]);export{gt as default};
