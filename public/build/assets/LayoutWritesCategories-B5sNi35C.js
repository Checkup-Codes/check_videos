import{Q as b,r as h,s as v,C as L,p as u,a1 as f,c as $,o as i,e as C,j as p,h as B,u as a,w as _,a as M,n as d,b as T,a2 as F,a3 as j,F as V}from"./ssr-DzRk3HnO.js";import{_ as z,a as A}from"./FlashMessage-C9tcOgf3.js";import D from"./SidebarLayoutWrite-zfxAW4jc.js";import E from"./SidebarLayoutCategory-DcENe-U7.js";import{_ as K}from"./ToggleSubSidebarButton-BCsEVjXP.js";import{u as O}from"./useSidebar-Cy0sRDNl.js";import"./TopSubsidebar-CzcICS7i.js";import"./WriteList-Ciprg9OU.js";import"./app-CJ9FyM0q.js";import"./CheckSubsidebar-L1dK-8HJ.js";import"./SubSidebarScreen-aQxghY_9.js";import"./CategoryTree-Dg-IBTU6.js";function Q(){var r;const{props:l}=b(),s=h(((r=l.flash)==null?void 0:r.success)||"");return v(()=>{var e;return(e=l.flash)==null?void 0:e.success},e=>{e&&(s.value=e,setTimeout(()=>{s.value=""},3e3))}),{flashMessage:s}}const ae=Object.assign({name:"LayoutWritesCategories"},{__name:"LayoutWritesCategories",setup(l){var g;const{isCollapsed:s,isMobile:r,toggleSidebar:e,sidebarStyle:y}=O(),{flashMessage:S}=Q(),n=L(),k=u(()=>n.getters["Theme/getCurrentTheme"]),{props:c}=b(),m=((g=c.screen)==null?void 0:g.name)||"",w={writes:D,categories:E},N=u(()=>s.value&&m&&w[m]||null),o=h(n.getters["Writes/isCollapsed"]);v(()=>n.getters["Writes/isCollapsed"],t=>{o.value=t},{immediate:!0});const W=u(()=>({"transition-all duration-300":!0,"lg:ml-[-200px]":o.value,"lg:ml-[00px]":!o.value})),x=t=>{o.value=t};return f("categories",c.categories||[]),f("writes",c.writes||[]),(t,U)=>(i(),$(V,null,[C(z,{message:a(S)},null,8,["message"]),a(s)?B("",!0):(i(),p(K,{key:0,isCollapsed:!0,toggle:a(e)},null,8,["toggle"])),C(A,{isCollapsed:!0,class:d(k.value)},{sidebar:_(()=>[(i(),p(F,{max:5,include:["SidebarLayoutWrite","SidebarLayoutCategory"]},[(i(),p(j(N.value),{key:a(m),class:d(a(y)),"onUpdate:isNarrow":x},null,40,["class"]))],1024))]),default:_(()=>[M("div",{class:d([a(r)?"hidden lg:block":"block",W.value])},[T(t.$slots,"screen")],2)]),_:3},8,["class"])],64))}});export{ae as default};
