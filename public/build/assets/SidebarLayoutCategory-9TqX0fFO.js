import{Q as A,l as t,x as T,c as d,o as f,w as _,a as n,h as b}from"./app-B_HoVpoV.js";import{_ as w}from"./CheckSubsidebar-B6OndF4C.js";import{_ as L}from"./ToggleSubSidebarButton-D3vsptvM.js";import{_ as y}from"./SubSidebarScreen-CqpuTMTD.js";import R from"./CategoryTree-CGWa1Vxu.js";import{_ as $}from"./TopSubsidebar-CRVt7a0h.js";/* empty css            */const M=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isCollapsed"],setup(B,{emit:m}){const{props:i,url:C}=A(),u=t(i.categories||[]);t(i.writes||[]);const p=t([]),g=t(!0),o=t(!0),s=t(!1),l=t(null),v=m,h=()=>{o.value=!o.value,v("update:isCollapsed",o.value)},x=()=>{s.value=!s.value,l.value&&l.value.expandAllCategories(s.value)},E=a=>C===a?"active":"",k=()=>{const a={},r=[];u.value.forEach(e=>{a[e.id]={...e,children:[]}}),u.value.forEach(e=>{var c;e.parent_id&&a[e.parent_id]?(c=a[e.parent_id])==null||c.children.push(a[e.id]):e.parent_id||r.push(a[e.id])}),p.value=r};return T(()=>{k()}),(a,r)=>(f(),d(w,null,{default:_(()=>[n(L,{isCollapsed:!1,toggle:h}),n($,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:s.value,onToggleExpand:x},null,8,["isExpanded"]),n(y,null,{default:_(()=>[g.value?(f(),d(R,{key:0,ref_key:"categoryTreeRef",ref:l,parentCategories:p.value,getLinkClasses:E,expandAll:s.value},null,8,["parentCategories","expandAll"])):b("",!0)]),_:1})]),_:1}))}});export{M as default};
