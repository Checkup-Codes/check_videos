import{Q as k,l as f,T as C,i as V,z,g as i,b as u,a as l,w as g,u as n,G as y,o as d,j as S,q as $,F as B,m as K,t as L,e as b}from"./app-DyaYed08.js";import{_ as j,a as x}from"./Form-qpldrVzD.js";/* empty css            */const F={class:"bg-screen-bg mx-auto mt-10 w-full max-w-full overflow-auto px-5 lg:mt-0"},N={class:"container mx-auto p-4"},T=u("p",{class:"mb-6 border-l-4 border-gray-300 pl-4 text-sm text-theme-text"}," Kategorileriniz için düzenlemeler yapabilirsiniz. İsterseniz bir üst kategori seçebilirsiniz. ",-1),U={class:"mt-4"},D=u("label",{for:"parent_id_input",class:"block text-sm font-medium text-gray-700"},"Üst Kategori",-1),E={key:0,class:"mt-2 max-h-40 overflow-y-auto rounded-md border border-gray-300 bg-white shadow-sm"},G=["onClick"],q={key:1,class:"mt-2 text-sm text-gray-500"},I={__name:"CategoriesEditFrom",setup(A){var _;const{props:s}=k(),m=f(s.categories||[]),o=C({name:s.category.name||"",slug:s.category.slug||"",parent_id:s.category.parent_id||null}),r=f(((_=s.category.parent)==null?void 0:_.name)||""),p=V(()=>r.value?m.value.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase())):m.value),v=e=>{o.parent_id=e.id,r.value=e.name},c=async()=>{const t=await(await fetch(route("categories.index"),{headers:{Accept:"application/json"}})).json();m.value=t.categories||[]},h=()=>{o.put(route("categories.update",{category:s.category.id})).then(()=>{c()})},w=e=>{confirm("Bu kategoriyi silmek istediğinize emin misiniz?")&&o.delete(route("categories.destroy",{category:e})).then(()=>{c()})};return z(()=>o.name,e=>{o.slug=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}),c(),(e,t)=>(d(),i("div",F,[u("div",N,[T,l(j,{onSubmit:h},{default:g(()=>[l(x,{modelValue:n(o).name,"onUpdate:modelValue":t[0]||(t[0]=a=>n(o).name=a),id:"name",label:"İsim"},null,8,["modelValue"]),l(x,{modelValue:n(o).slug,"onUpdate:modelValue":t[1]||(t[1]=a=>n(o).slug=a),id:"slug",label:"Slug"},null,8,["modelValue"]),u("div",U,[D,S(u("input",{type:"text",id:"parent_id_input","onUpdate:modelValue":t[2]||(t[2]=a=>r.value=a),placeholder:"Üst kategori arayın",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[$,r.value]]),p.value.length?(d(),i("ul",E,[(d(!0),i(B,null,K(p.value,a=>(d(),i("li",{key:a.id,onClick:M=>v(a),class:"cursor-pointer px-4 py-2 hover:bg-gray-100"},L(a.name),9,G))),128))])):(d(),i("p",q,"Sonuç bulunamadı."))]),l(y,{type:"submit",class:"mt-4"},{default:g(()=>[b("Kategoriyi Güncelle")]),_:1})]),_:1}),l(y,{onClick:t[3]||(t[3]=a=>w(n(s).category.id)),class:"m-2 ml-auto text-right text-black"},{default:g(()=>[b(" Kategoriyi Sil ")]),_:1})])]))}};export{I as default};
