import{T as U,e as z,m as B,j as D,w as x,a as e,b as y,u as l,i as h,f as p,l as L,c as i,h as f,o as n,F as k,g as v,t as b,k as g,D as _,v as w}from"./ssr-CVKOEYhR.js";import{_ as R}from"./CheckScreen-BYm6Ecw3.js";const P={class:"mx-auto max-w-4xl py-8"},T={class:"mb-8"},A={key:0},E={class:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},N=["src"],F={for:"images",class:"mb-2 block text-sm font-medium text-foreground"},G={class:"relative"},H={key:0,class:"mt-3 grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},S=["src"],q=["onClick"],I={key:1,class:"mt-1 text-sm text-destructive"},O={class:"flex gap-4"},W={class:"flex cursor-pointer items-center gap-2"},Y={class:"flex cursor-pointer items-center gap-2"},J={class:"rounded-lg border border-border bg-card p-6"},K={key:0,class:"py-8 text-center text-sm text-muted-foreground"},Q={key:1,class:"space-y-4"},X={class:"mb-4 flex items-center justify-between"},Z={class:"text-sm font-medium text-foreground"},ee=["onClick"],te={class:"space-y-4"},re=["for"],oe=["id","onUpdate:modelValue"],se=["for"],le=["id","onUpdate:modelValue"],ne=["for"],ie=["id","onUpdate:modelValue"],ae={class:"flex items-center gap-3 pt-4"},de=["disabled"],ue={key:0,class:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},pe={__name:"EditWorkspace",props:{workspace:{type:Object,required:!0}},setup(d){const c=d,r=U({images:[],status:c.workspace.status||"published",products:[],_method:"PUT"}),m=z([]);B(()=>{c.workspace.products&&c.workspace.products.length>0&&(r.products=c.workspace.products.map(a=>({name:a.name||"",features:a.features||"",link:a.link||""})))});const C=a=>{const t=Array.from(a.target.files);r.images=t,m.value=t.map(o=>URL.createObjectURL(o))},V=a=>{r.images.splice(a,1),m.value.splice(a,1)},$=()=>{r.products.push({name:"",features:"",link:""})},M=a=>{r.products.splice(a,1)},j=()=>{r.post(`/workspace/${c.workspace.id}`,{forceFormData:!0})};return(a,t)=>(n(),D(R,null,{default:x(()=>[e("div",P,[e("div",T,[y(l(h),{href:`/workspace/${d.workspace.id}`,class:"mb-4 inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground"},{default:x(()=>[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),p(" Geri ",-1)])]),_:1},8,["href"]),t[3]||(t[3]=e("h1",{class:"text-3xl font-bold tracking-tight text-foreground"},"Çalışma Alanını Düzenle",-1)),t[4]||(t[4]=e("p",{class:"mt-2 text-muted-foreground"},"Çalışma alanınızı ve ürünlerinizi güncelleyin.",-1))]),e("form",{onSubmit:L(j,["prevent"]),class:"space-y-6"},[d.workspace.images&&d.workspace.images.length>0&&m.value.length===0?(n(),i("div",A,[t[5]||(t[5]=e("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Mevcut Resimler",-1)),e("div",E,[(n(!0),i(k,null,v(d.workspace.images,(o,s)=>(n(),i("div",{key:s,class:"relative group"},[e("img",{src:`/storage/${o}`,alt:"Current",class:"h-32 w-full rounded-lg border border-border object-cover"},null,8,N)]))),128))])])):f("",!0),e("div",null,[e("label",F,b(d.workspace.images&&d.workspace.images.length>0?"Resimleri Değiştir":"Resimler Ekle"),1),e("div",G,[e("input",{id:"images",type:"file",accept:"image/*",multiple:"",onChange:C,class:"w-full cursor-pointer rounded-lg border border-input bg-background px-4 py-2.5 text-foreground file:mr-4 file:rounded-md file:border-0 file:bg-primary file:px-4 file:py-1 file:text-sm file:font-medium file:text-primary-foreground hover:file:bg-primary/90"},null,32)]),m.value.length>0?(n(),i("div",H,[(n(!0),i(k,null,v(m.value,(o,s)=>(n(),i("div",{key:s,class:"relative group"},[e("img",{src:o,alt:"Preview",class:"h-32 w-full rounded-lg border border-border object-cover"},null,8,S),e("button",{type:"button",onClick:u=>V(s),class:"absolute right-2 top-2 rounded-full bg-destructive p-1.5 text-white opacity-0 transition-opacity group-hover:opacity-100"},[...t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,q)]))),128))])):f("",!0),l(r).errors.images?(n(),i("p",I,b(l(r).errors.images),1)):f("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"mb-2 block text-sm font-medium text-foreground"},"Durum",-1)),e("div",O,[e("label",W,[g(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=o=>l(r).status=o),value:"published",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[_,l(r).status]]),t[7]||(t[7]=e("span",{class:"text-sm text-foreground"},"Yayınla",-1))]),e("label",Y,[g(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=o=>l(r).status=o),value:"draft",class:"h-4 w-4 border-input text-primary focus:ring-primary"},null,512),[[_,l(r).status]]),t[8]||(t[8]=e("span",{class:"text-sm text-foreground"},"Taslak",-1))])])]),e("div",J,[e("div",{class:"mb-4 flex items-center justify-between"},[t[11]||(t[11]=e("h2",{class:"text-lg font-semibold text-foreground"},"Ürünler",-1)),e("button",{type:"button",onClick:$,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" Ürün Ekle ",-1)])])]),l(r).products.length===0?(n(),i("div",K," Henüz ürün eklenmedi. ")):(n(),i("div",Q,[(n(!0),i(k,null,v(l(r).products,(o,s)=>(n(),i("div",{key:s,class:"rounded-lg border border-border bg-background p-4"},[e("div",X,[e("h3",Z,"Ürün "+b(s+1),1),e("button",{type:"button",onClick:u=>M(s),class:"rounded-lg p-1.5 text-destructive transition-colors hover:bg-destructive/10"},[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ee)]),e("div",te,[e("div",null,[e("label",{for:`product-name-${s}`,class:"mb-1 block text-xs font-medium text-foreground"},[...t[13]||(t[13]=[p(" İsim ",-1),e("span",{class:"text-destructive"},"*",-1)])],8,re),g(e("input",{id:`product-name-${s}`,"onUpdate:modelValue":u=>o.name=u,type:"text",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Ürün adı",required:""},null,8,oe),[[w,o.name]])]),e("div",null,[e("label",{for:`product-features-${s}`,class:"mb-1 block text-xs font-medium text-foreground"}," Özellikler ",8,se),g(e("textarea",{id:`product-features-${s}`,"onUpdate:modelValue":u=>o.features=u,rows:"3",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Ürün özelliklerini buraya yazın..."},null,8,le),[[w,o.features]])]),e("div",null,[e("label",{for:`product-link-${s}`,class:"mb-1 block text-xs font-medium text-foreground"}," Satın Alma Linki ",8,ne),g(e("input",{id:`product-link-${s}`,"onUpdate:modelValue":u=>o.link=u,type:"url",class:"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"https://..."},null,8,ie),[[w,o.link]])])])]))),128))]))]),e("div",ae,[e("button",{type:"submit",disabled:l(r).processing,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-2.5 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50"},[l(r).processing?(n(),i("svg",ue,[...t[14]||(t[14]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):f("",!0),p(" "+b(l(r).processing?"Güncelleniyor...":"Güncelle"),1)],8,de),y(l(h),{href:`/workspace/${d.workspace.id}`,class:"inline-flex items-center gap-2 rounded-lg border border-border bg-card px-6 py-2.5 text-sm font-medium text-foreground transition-colors hover:bg-accent"},{default:x(()=>[...t[15]||(t[15]=[p(" İptal ",-1)])]),_:1},8,["href"])])],32)])]),_:1}))}};export{pe as default};
