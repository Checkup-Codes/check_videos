import{Q as w,r as v,T as z,C as m,g as i,o as n,b as e,s as V,e as S,h as c,n as u,u as s,t as d,j as _,x as h,a as j,E as g,F as B,q as C,v as Y,N as D}from"./app-B_j7vl9D.js";import I from"./RichTextEditor-JWQULehC.js";/* empty css            */import"./quill.snow-BneZLA55.js";const F={class:"card"},M={class:"card-body p-6"},N=V('<div class="card-title flex items-center justify-between"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><h2 class="text-gray-800 dark:text-white">Yeni Yazı Oluştur</h2></div></div>',1),O={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},U={class:"md:col-span-2"},E={class:"form-control w-full"},K=e("label",{class:"label"},[e("span",{class:"label-text"},"Başlık")],-1),T={class:"relative"},$=["value"],L={key:0,class:"label"},A={class:"label-text-alt text-error"},G={class:"form-control w-full"},H=e("label",{class:"label"},[e("span",{class:"label-text"},"Slug")],-1),W={class:"relative"},q=["value"],Q={key:0,class:"label"},J={class:"label-text-alt text-error"},P={class:"form-control w-full"},R=e("label",{class:"label"},[e("span",{class:"label-text"},"Yayınlama Tarihi")],-1),X={class:"flex space-x-2"},Z={key:0,class:"label"},ee={class:"label-text-alt text-error"},te={class:"md:col-span-2"},se={class:"form-control w-full"},le=e("label",{class:"label"},[e("span",{class:"label-text"},"Özet")],-1),ae={class:"relative"},oe=["value"],re={key:0,class:"label"},ie={class:"label-text-alt text-error"},ne={class:"md:col-span-2"},ue=e("label",{class:"label"},[e("span",{class:"label-text"},"Durumu")],-1),de=e("option",{value:"draft"},"Şablon",-1),ce=e("option",{value:"published"},"Yayında",-1),_e=e("option",{value:"private"},"Gizli",-1),pe=e("option",{value:"link_only"},"Sadece Link",-1),ve=[de,ce,_e,pe],be={key:0,class:"label"},me={class:"label-text-alt text-error"},he=e("label",{class:"label"},[e("span",{class:"label-text"},"Kategori")],-1),ge=e("option",{value:"",disabled:""},"Kategori seç",-1),xe=["value"],ye={key:0,class:"label"},fe={class:"label-text-alt text-error"},ke={class:"form-control w-full"},we=e("label",{class:"label"},[e("span",{class:"label-text"},"Etiketler")],-1),ze={class:"relative"},Ve=["value"],Se={key:0,class:"label"},je={class:"label-text-alt text-error"},Be={class:"form-control w-full"},Ce=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Anahtar Kelimeleri")],-1),Ye={class:"relative"},De=["value"],Ie={key:0,class:"label"},Fe={class:"label-text-alt text-error"},Me={class:"form-control w-full"},Ne=e("label",{class:"label"},[e("span",{class:"label-text"},"SEO Meta Açıklaması")],-1),Oe={class:"relative"},Ue=["value"],Ee={class:"mt-1 text-xs text-gray-500"},Ke={key:0,class:"label"},Te={class:"label-text-alt text-error"},$e=e("div",{class:"mt-1 text-xs text-gray-500"},[e("span",null,"İpucu: Bu açıklama arama sonuçlarında gösterilir. Boş bırakırsanız, özet kısmı kullanılacaktır.")],-1),Le={class:"form-control w-full"},Ae=e("label",{class:"label"},[e("span",{class:"label-text"},"Görüntülenme Sayısı")],-1),Ge={class:"relative"},He=["value"],We={class:"flex items-center space-x-2"},qe={class:"label cursor-pointer justify-start gap-2"},Qe=e("span",{class:"label-text"},"Çizim İçerir",-1),Je=e("div",{class:"divider"},null,-1),Pe={class:"flex justify-end space-x-3"},Re=["disabled"],lt=Object.assign({name:"WriteCreateForm"},{__name:"WriteCreateForm",setup(Xe){const{props:x}=w(),y=v(x.categories),t=z({title:"",slug:"",content:"",published_at:"",summary:"",status:"draft",category_id:"",seo_keywords:"",meta_description:"",tags:"",views_count:0,hasDraw:!1}),l=v({title:"",slug:"",content:"",published_at:"",summary:"",status:"",category_id:"",seo_keywords:"",meta_description:"",tags:""}),r=v({date:"",time:""});m(r.value,()=>{r.value.date&&r.value.time&&(t.published_at=`${r.value.date}T${r.value.time}:00`)},{deep:!0});const f=()=>{l.value.title=t.title?"":"Başlık zorunludur.",l.value.slug=t.slug?"":"Slug zorunludur.",l.value.content=t.content?"":"İçerik zorunludur.",l.value.published_at=r.value.date&&r.value.time?"":"Yayınlama tarihi zorunludur.",l.value.summary=t.summary?"":"Özet zorunludur.",l.value.category_id=t.category_id?"":"Kategori seçilmelidir.",l.value.published_at||(t.published_at=`${r.value.date}T${r.value.time}:00`)},k=()=>{f(),Object.values(l.value).some(p=>p!=="")||t.post(route("writes.store"),{onSuccess:()=>{D.visit(route("dashboard"))}})};return m(()=>t.title,p=>{(!t.slug||t.slug==="")&&(t.slug=p.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())}),(p,o)=>{var b;return n(),i("div",F,[e("div",M,[N,e("form",{onSubmit:S(k,["prevent"]),class:"space-y-6"},[e("div",O,[e("div",U,[e("div",E,[K,e("div",T,[e("input",{type:"text",value:s(t).title,onInput:o[0]||(o[0]=a=>s(t).title=a.target.value),placeholder:"Yazının başlığını girin",class:u(["input-bordered input w-full",{"input-error":l.value.title||s(t).errors.title}])},null,42,$)]),l.value.title||s(t).errors.title?(n(),i("label",L,[e("span",A,d(l.value.title||s(t).errors.title),1)])):c("",!0)])]),e("div",null,[e("div",G,[H,e("div",W,[e("input",{type:"text",value:s(t).slug,onInput:o[1]||(o[1]=a=>s(t).slug=a.target.value),placeholder:"örnek-yazı-slug",class:u(["input-bordered input w-full",{"input-error":l.value.slug||s(t).errors.slug}])},null,42,q)]),l.value.slug||s(t).errors.slug?(n(),i("label",Q,[e("span",J,d(l.value.slug||s(t).errors.slug),1)])):c("",!0)])]),e("div",null,[e("div",P,[R,e("div",X,[_(e("input",{type:"date","onUpdate:modelValue":o[2]||(o[2]=a=>r.value.date=a),class:u(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[h,r.value.date]]),_(e("input",{type:"time","onUpdate:modelValue":o[3]||(o[3]=a=>r.value.time=a),class:u(["input-bordered input w-full",{"input-error":l.value.published_at||s(t).errors.published_at}])},null,2),[[h,r.value.time]])]),l.value.published_at||s(t).errors.published_at?(n(),i("label",Z,[e("span",ee,d(l.value.published_at||s(t).errors.published_at),1)])):c("",!0)])]),e("div",te,[e("div",se,[le,e("div",ae,[e("textarea",{value:s(t).summary,onInput:o[4]||(o[4]=a=>s(t).summary=a.target.value),placeholder:"Yazının kısa özeti",rows:"3",class:u(["textarea-bordered textarea w-full",{"textarea-error":l.value.summary||s(t).errors.summary}])},null,42,oe)]),l.value.summary||s(t).errors.summary?(n(),i("label",re,[e("span",ie,d(l.value.summary||s(t).errors.summary),1)])):c("",!0)])]),e("div",ne,[j(I,{modelValue:s(t).content,"onUpdate:modelValue":o[5]||(o[5]=a=>s(t).content=a),label:"İçerik",error:l.value.content||s(t).errors.content,placeholder:"İçeriği buraya yazın...",height:"400px"},null,8,["modelValue","error"])]),e("div",null,[ue,_(e("select",{"onUpdate:modelValue":o[6]||(o[6]=a=>s(t).status=a),class:u(["select-bordered select w-full bg-base-100 text-neutral-content",{"select-error":l.value.status||s(t).errors.status}])},ve,2),[[g,s(t).status]]),l.value.status||s(t).errors.status?(n(),i("label",be,[e("span",me,d(l.value.status||s(t).errors.status),1)])):c("",!0)]),e("div",null,[he,_(e("select",{"onUpdate:modelValue":o[7]||(o[7]=a=>s(t).category_id=a),class:u(["select-bordered select w-full bg-base-100 text-neutral-content",{"select-error":l.value.category_id||s(t).errors.category_id}])},[ge,(n(!0),i(B,null,C(y.value,a=>(n(),i("option",{key:a.id,value:a.id},d(a.name),9,xe))),128))],2),[[g,s(t).category_id]]),l.value.category_id||s(t).errors.category_id?(n(),i("label",ye,[e("span",fe,d(l.value.category_id||s(t).errors.category_id),1)])):c("",!0)]),e("div",null,[e("div",ke,[we,e("div",ze,[e("input",{type:"text",value:s(t).tags,onInput:o[8]||(o[8]=a=>s(t).tags=a.target.value),placeholder:"etiket1, etiket2, etiket3",class:u(["input-bordered input w-full",{"input-error":l.value.tags||s(t).errors.tags}])},null,42,Ve)]),l.value.tags||s(t).errors.tags?(n(),i("label",Se,[e("span",je,d(l.value.tags||s(t).errors.tags),1)])):c("",!0)])]),e("div",null,[e("div",Be,[Ce,e("div",Ye,[e("input",{type:"text",value:s(t).seo_keywords,onInput:o[9]||(o[9]=a=>s(t).seo_keywords=a.target.value),placeholder:"anahtar1, anahtar2, anahtar3",class:u(["input-bordered input w-full",{"input-error":l.value.seo_keywords||s(t).errors.seo_keywords}])},null,42,De)]),l.value.seo_keywords||s(t).errors.seo_keywords?(n(),i("label",Ie,[e("span",Fe,d(l.value.seo_keywords||s(t).errors.seo_keywords),1)])):c("",!0)])]),e("div",null,[e("div",Me,[Ne,e("div",Oe,[e("textarea",{value:s(t).meta_description,onInput:o[10]||(o[10]=a=>s(t).meta_description=a.target.value),placeholder:"Arama motorları için kısa bir açıklama (max 160 karakter)",class:u(["textarea-bordered textarea w-full",{"textarea-error":l.value.meta_description||s(t).errors.meta_description}]),maxlength:"160",rows:"2"},null,42,Ue),e("div",Ee,d(((b=s(t).meta_description)==null?void 0:b.length)||0)+"/160",1)]),l.value.meta_description||s(t).errors.meta_description?(n(),i("label",Ke,[e("span",Te,d(l.value.meta_description||s(t).errors.meta_description),1)])):c("",!0),$e])]),e("div",null,[e("div",Le,[Ae,e("div",Ge,[e("input",{type:"number",value:s(t).views_count,onInput:o[11]||(o[11]=a=>s(t).views_count=a.target.value),class:"input-bordered input w-full",readonly:""},null,40,He)])])]),e("div",We,[e("label",qe,[_(e("input",{type:"checkbox","onUpdate:modelValue":o[12]||(o[12]=a=>s(t).hasDraw=a),class:"checkbox checkbox-neutral"},null,512),[[Y,s(t).hasDraw]]),Qe])])]),Je,e("div",Pe,[e("button",{type:"submit",class:u(["btn btn-primary",{loading:s(t).processing}]),disabled:s(t).processing}," Yazıyı Kaydet ",10,Re)])],32)])])}}});export{lt as default};
