import{_ as L,Q as T,l as t,i as _,x as B,I as S,c,o as p,w as d,a as f,h as v}from"./app-LhKPFfpS.js";import{_ as R}from"./CheckSubsidebar-BES91C5O.js";import{_ as $}from"./ToggleSubSidebarButton-CgeM1B1R.js";import{_ as M}from"./SubSidebarScreen-5lq-IoDM.js";import O from"./CategoryTree-CrI-uklx.js";import j from"./PerformanceMonitorButton-CtNHUxEk.js";import{_ as I}from"./TopSubsidebar--zKbqiax.js";/* empty css            */const N=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isCollapsed"],setup(P,{emit:C}){const{props:o,url:g}=T(),s=t(o.categories||[]);t(o.writes||[]);const n=t([]),h=t(!0),i=t(!0),r=t(!1),l=t(null),x=C,b=_(()=>!!o.isAdmin&&!!o.performance&&Object.keys(o.performance).length>0),E=_(()=>o.performance||{}),k=()=>{i.value=!i.value,x("update:isCollapsed",i.value)},A=()=>{r.value=!r.value,l.value&&l.value.expandAllCategories(r.value)},w=a=>g===a?"font-medium !text-primary":"",y=()=>{if(!s.value||!s.value.length){n.value=[];return}const a={},u=[];s.value.forEach(e=>{e&&e.id&&(a[e.id]={...e,children:[]})}),s.value.forEach(e=>{var m;e&&(e.parent_id&&a[e.parent_id]?(m=a[e.parent_id])==null||m.children.push(a[e.id]):e.parent_id||u.push(a[e.id]))}),n.value=u};return B(()=>{y()}),S(()=>{l.value=null,n.value=[]}),(a,u)=>(p(),c(R,null,{default:d(()=>[f($,{isCollapsed:!1,toggle:k,class:"btn-ghost"}),f(I,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:r.value,onToggleExpand:A,class:"border-base-200"},{actions:d(()=>[b.value?(p(),c(j,{key:0,performance:E.value},null,8,["performance"])):v("",!0)]),_:1},8,["isExpanded"]),f(M,null,{default:d(()=>[h.value?(p(),c(O,{key:0,ref_key:"categoryTreeRef",ref:l,parentCategories:n.value,getLinkClasses:w,expandAll:r.value},null,8,["parentCategories","expandAll"])):v("",!0)]),_:1})]),_:1}))}}),F=L(N,[["__scopeId","data-v-21bc6253"]]);export{F as default};
