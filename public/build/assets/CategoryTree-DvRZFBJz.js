import{U as V,e as g,Q as N,p as m,s as D,c as l,a as e,h as a,F as h,g as x,o as i,n as c,b as _,k as S,w,t as f,l as $,u as k,i as y,q as H}from"./ssr-B00CJT2V.js";import{_ as E}from"./app-KO3EYfs6.js";/* empty css            */const W={class:"flex h-full min-h-0 flex-col"},q={class:"space-y-1"},I={class:"flex items-center justify-between"},P={class:"flex min-w-0 flex-1 items-center gap-2"},Q={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},U={key:1,class:"shrink-0 text-primary",title:"Sadece link yazıları"},J=["title"],K={class:"flex shrink-0 items-center gap-2"},R=["onClick"],X={class:"inline-flex items-center rounded-full border border-border bg-secondary px-2 py-0.5 text-xs font-semibold text-secondary-foreground"},Y={key:0,class:"pb-1"},Z={class:"space-y-0.5 pl-4"},ee={class:"flex items-center justify-between"},te={class:"flex min-w-0 flex-1 items-center gap-2"},se={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},ne=["title"],oe={class:"flex shrink-0 items-center gap-2"},re=["onClick"],le={class:"inline-flex items-center rounded-full border border-border bg-secondary px-1.5 py-0.5 text-[10px] font-semibold text-secondary-foreground"},ie={key:0,class:"pb-1"},ae={class:"space-y-0.5 pl-4"},de={class:"flex items-center justify-between"},ce={class:"flex min-w-0 flex-1 items-center gap-2"},ue={key:0,class:"shrink-0 text-yellow-500",title:"Gizli kategori"},fe=["title"],pe={class:"inline-flex shrink-0 items-center rounded-full border border-border bg-secondary px-1.5 py-0.5 text-[10px] font-semibold text-secondary-foreground"},ve={key:0,class:"flex h-32 items-center justify-center text-center text-muted-foreground opacity-50"},ge=Object.assign({name:"CategoryTree"},{__name:"CategoryTree",props:{isCollapsed:{type:Boolean,default:!1},expandAll:{type:Boolean,default:!1}},emits:["update:expandAll"],setup(me,{expose:M,emit:he}){const A=V("categories",[]),L=V("isAdmin",!1),O=g("all");g(!1);const T=N();function b(s,n){return s.map(t=>{const o=b(t.children||[],n);let r=!0;return L&&n!=="all"&&(n==="public"?r=t.status!=="hidden"&&t.status!=="link_only":r=t.status===n),r||o.length>0?{...t,children:o}:null}).filter(Boolean).sort((t,o)=>d(o)-d(t))}const F=m(()=>A.filter(s=>!s.parent_id||s.parent_id===null||s.parent_id==="null"||s.parent_id===0).sort((s,n)=>d(n)-d(s))),C=m(()=>b(F.value,O.value)),u=m(()=>T.url),z=g(null),v=D(),d=s=>{let n=s.writes_count||0;return s.children&&s.children.length&&s.children.forEach(t=>{n+=d(t)}),n},G=(s=!0)=>{v.dispatch("CategorySidebar/expandAllCategories",s)},B=s=>{v.dispatch("CategorySidebar/toggleCollapse",s)},p=s=>v.getters["CategorySidebar/isCollapsed"](s),j=s=>{var t,o;return((t=s.writes)==null?void 0:t.some(r=>r.status==="link_only"))?!0:(o=s.children)!=null&&o.length?s.children.some(r=>j(r)):!1};return M({expandAllCategories:G,scrollContainer:z}),(s,n)=>(i(),l("div",W,[e("div",{ref_key:"scrollContainer",ref:z,class:"category-tree-container min-h-0 flex-1 space-y-1 overflow-y-auto overscroll-none p-3"},[e("div",q,[(i(!0),l(h,null,x(C.value,t=>(i(),l("div",{key:t.id},[e("div",{class:c(["group rounded-md transition-colors",u.value===`/categories/${t.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[_(k(y),{href:s.route("categories.show",{category:t.slug}),class:"block px-3 py-2"},{default:w(()=>[e("div",I,[e("div",P,[t.status==="hidden"?(i(),l("span",Q,[...n[0]||(n[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):a("",!0),j(t)?(i(),l("span",U,[...n[1]||(n[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)])])):a("",!0),e("h3",{class:c(["truncate text-sm font-medium",u.value===`/categories/${t.slug}`?"text-accent-foreground":"text-foreground"]),title:t.name},f(t.name),11,J)]),e("div",K,[t.children.length?(i(),l("button",{key:0,onClick:$(o=>B(t.id),["prevent","stop"]),class:"inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},[(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:c(["h-3 w-3 transition-transform duration-200",{"rotate-180":!p(t.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[...n[2]||(n[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,R)):a("",!0),e("div",X,f(d(t)),1)])])]),_:2},1032,["href"]),t.children.length?S((i(),l("div",Y,[e("div",Z,[(i(!0),l(h,null,x(t.children,o=>(i(),l("div",{key:o.id},[e("div",{class:c(["group rounded-md transition-colors",u.value===`/categories/${o.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[_(k(y),{href:s.route("categories.show",{category:o.slug}),class:"block px-3 py-1.5"},{default:w(()=>[e("div",ee,[e("div",te,[o.status==="hidden"||o.parent_hidden?(i(),l("span",se,[...n[3]||(n[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):a("",!0),e("span",{class:c(["truncate text-sm font-medium",u.value===`/categories/${o.slug}`?"text-accent-foreground":"text-foreground"]),title:o.name},f(o.name),11,ne)]),e("div",oe,[o.children.length?(i(),l("button",{key:0,onClick:$(r=>B(o.id),["prevent","stop"]),class:"inline-flex h-6 w-6 items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},[(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:c(["h-3 w-3 transition-transform duration-200",{"rotate-180":!p(o.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[...n[4]||(n[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,re)):a("",!0),e("div",le,f(d(o)),1)])])]),_:2},1032,["href"]),o.children.length?S((i(),l("div",ie,[e("div",ae,[(i(!0),l(h,null,x(o.children,r=>(i(),l("div",{key:r.id},[e("div",{class:c(["group rounded-md transition-colors",u.value===`/categories/${r.slug}`?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},[_(k(y),{href:s.route("categories.show",{category:r.slug}),class:"block px-3 py-1.5"},{default:w(()=>[e("div",de,[e("div",ce,[r.status==="hidden"||r.parent_hidden?(i(),l("span",ue,[...n[5]||(n[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):a("",!0),e("span",{class:c(["truncate text-xs font-medium",u.value===`/categories/${r.slug}`?"text-accent-foreground":"text-foreground"]),title:r.name},f(r.name),11,fe)]),e("div",pe,f(d(r)),1)])]),_:2},1032,["href"])],2)]))),128))])],512)),[[H,!p(o.id)]]):a("",!0)],2)]))),128))])],512)),[[H,!p(t.id)]]):a("",!0)],2)]))),128)),C.value.length===0?(i(),l("div",ve,[...n[6]||(n[6]=[e("div",null,"Henüz kategori bulunmuyor",-1)])])):a("",!0)])],512)]))}}),ke=E(ge,[["__scopeId","data-v-dd800413"]]);export{ke as default};
