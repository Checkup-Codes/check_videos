import{Q as h,C as k,b as _,W as E,g as b,z as L,x as N,I as u,X as $,Y as A,A as C,e as P,w as g,a as p,f as x,o as B}from"./ssr-CQ9FUimx.js";import{_ as T,a as U}from"./SubSidebarScreen-DsSt_YNy.js";import W from"./VersionList-DeobFd03.js";import{_ as j}from"./app-BdvGTFnm.js";/* empty css            */const z=Object.assign({name:"SidebarLayoutVersion"},{__name:"SidebarLayoutVersion",emits:["update:isNarrow"],setup(I,{emit:w}){const t=h(),l=k(),y=_(()=>t.url),n=E("versions",[]),S=_(()=>{const e=(n==null?void 0:n.value)??n;return e&&Array.isArray(e)&&e.length>0?e:t.props.versions&&Array.isArray(t.props.versions)&&t.props.versions.length>0?t.props.versions:[]}),i=b(l.getters["Writes/isCollapsed"]),r=b(null),V=w;L(i,e=>{V("update:isNarrow",e)});let o=null;const a=()=>{var e,s,m;return(s=(e=r.value)==null?void 0:e.$el)!=null&&s.value?r.value.$el.value:(m=r.value)!=null&&m.$el?r.value.$el:r.value},c=()=>{const e=a();if(e){const s=e.scrollTop||0;l.dispatch("Versions/setScrollPosition",s)}},d=()=>{u(()=>{const e=a();if(e){const s=l.getters["Versions/scrollPosition"];s>0&&(e.scrollTop=s)}})},f=()=>{const e=a();e&&!o&&(o=()=>c(),e.addEventListener("scroll",o,{passive:!0}))},v=()=>{const e=a();e&&o&&(e.removeEventListener("scroll",o),o=null)};return N(()=>{i.value=l.getters["Writes/isCollapsed"],u(()=>{f(),d()})}),$(()=>{u(()=>{f(),d()})}),A(()=>{c(),v()}),C(()=>{c(),v()}),(e,s)=>(B(),P(U,{isNarrow:i.value},{default:g(()=>[s[0]||(s[0]=p("div",{class:"relative z-10 shrink-0 border-b border-border bg-background p-3"},[p("div",{class:"flex items-center justify-between gap-2"},[p("span",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},"Versiyonlar")])],-1)),x(T,{ref_key:"scrollableRef",ref:r,class:"sidebar-content-embedded min-h-0 flex-1",infoClass:"flex-1 min-h-0"},{default:g(()=>[x(W,{versions:S.value,currentUrl:y.value},null,8,["versions","currentUrl"])]),_:1},512)]),_:1},8,["isNarrow"]))}}),Q=j(z,[["__scopeId","data-v-bc90f461"]]);export{Q as default};
