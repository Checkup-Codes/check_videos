import{_ as b}from"./CheckSubsidebar-CCT9QSNs.js";import{_ as w}from"./SubSidebarScreen-CLX4u-4j.js";import E from"./CategoryTree-C7Sdy_3D.js";import{_ as A}from"./TopSubsidebar-DDHq-9NR.js";import{u as L}from"./useSidebar-DZIlChIS.js";import{I as v,J as T,p as d,r as i,s as N,m as c,j as p,o as u,w as g,e as m,h as k}from"./ssr-C9XDUnK-.js";import{_ as W}from"./app-BWS9eqxR.js";/* empty css            */const I=Object.assign({name:"SidebarLayoutCategory"},{__name:"SidebarLayoutCategory",emits:["update:isNarrow"],setup(R,{emit:_}){L();const a=v(),r=T("categories",[]);d(()=>r.filter(e=>!e.parent_id||e.parent_id===null||e.parent_id==="null"||e.parent_id===0));const l=d(()=>a.getters["CategorySidebar/collapsedSet"].size===0),f=()=>"",C=i(!0),h=i(null),t=i(a.getters["Writes/isCollapsed"]),y=_,x=e=>{t.value=e,a.commit("Writes/SET_COLLAPSED",e)};N(t,e=>{y("update:isNarrow",e)}),c(()=>{t.value=a.getters["Writes/isCollapsed"]});const n=e=>{let s=[];return e.forEach(o=>{s.push(o.id),o.children&&o.children.length>0&&(s=s.concat(n(o.children)))}),s},S=()=>{if(l.value){const e=n(r);a.dispatch("CategorySidebar/collapseAll",e)}else a.dispatch("CategorySidebar/expandAll")};return c(()=>{console.log("SidebarLayoutCategory categories:",r)}),(e,s)=>(u(),p(b,{isNarrow:t.value},{default:g(()=>[m(A,{title:"KATEGORÄ°LER",href:"/categories/create",showExpandCollapseButton:!0,isExpanded:l.value,onToggleExpand:S,onToggleWidth:x,class:"border-base-200"},null,8,["isExpanded"]),m(w,null,{default:g(()=>[C.value?(u(),p(E,{key:0,ref_key:"categoryTreeRef",ref:h,getLinkClasses:f,expandAll:l.value,isCollapsed:t.value},null,8,["expandAll","isCollapsed"])):k("",!0)]),_:1})]),_:1},8,["isNarrow"]))}}),J=W(I,[["__scopeId","data-v-8e0ca94e"]]);export{J as default};
