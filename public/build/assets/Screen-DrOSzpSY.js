import{Q as q,r as h,p as B,m as W,K as j,z as G,N as I,s as U,j as K,o as t,w as N,c as s,h as w,a as e,F as O,t as f,n as x,f as H,u as L,e as E,i as Q,g as Y,S as J,U as X}from"./ssr-CjiXWBsh.js";import{_ as Z}from"./ExcalidrawComponent-Nk8HXT2H.js";import{_ as ee}from"./CheckScreen-CuReo6W4.js";import{_ as te}from"./app-BimC6DIB.js";import{S as se,u as V}from"./useGsapAnimation-NIRmCeFd.js";import{u as oe}from"./useProcessedQuillContent-DUpX1BGw.js";import{g as ne}from"./index-D3jsOSc0.js";/* empty css            */const n=b=>(J("data-v-915f94e9"),b=b(),X(),b),le={key:0,class:"mx-auto max-w-4xl"},re={class:"bg-base-100 transition-all duration-200"},ae={class:"p-6 pt-12 sm:p-8 sm:pt-16"},ie={class:"mb-8"},ce={key:0,class:"space-y-3"},de=n(()=>e("div",{class:"skeleton h-8 w-3/4 rounded"},null,-1)),ue=n(()=>e("div",{class:"skeleton h-4 w-24 rounded"},null,-1)),he=[de,ue],ve={class:"mb-3 text-2xl font-bold text-base-content"},me={class:"text-base-content/60 text-sm"},_e={key:0,class:"mb-6 flex items-center justify-between"},we={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},fe={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},be={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},pe={key:0,class:"flex items-center gap-2"},ge=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),ke=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),xe=[ke],ye={key:1,class:"space-y-3"},Ce=n(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Me=n(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Se=n(()=>e("div",{class:"skeleton h-4 w-4/6 rounded"},null,-1)),je=n(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Le=n(()=>e("div",{class:"skeleton h-4 w-3/4 rounded"},null,-1)),ze=n(()=>e("div",{class:"skeleton h-4 w-5/6 rounded"},null,-1)),Te=n(()=>e("div",{class:"skeleton h-32 w-full rounded"},null,-1)),Be=n(()=>e("div",{class:"skeleton h-4 w-2/3 rounded"},null,-1)),Ie=n(()=>e("div",{class:"skeleton h-4 w-full rounded"},null,-1)),Ne=[Ce,Me,Se,je,Le,ze,Te,Be,Ie],Oe={key:2},He={class:"content-container"},Ee=["innerHTML"],Ve={key:1,class:"content-placeholder"},$e=n(()=>e("div",{class:"space-y-3"},[e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-5/6 rounded"}),e("div",{class:"skeleton h-4 w-4/6 rounded"}),e("div",{class:"skeleton h-4 w-full rounded"}),e("div",{class:"skeleton h-4 w-3/4 rounded"})],-1)),Ae=[$e],De={key:3,class:"text-base-content/60 mt-8 text-sm"},Pe={key:1,class:"relative h-screen w-full"},Fe=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)),Re=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)),qe=[Re],We={class:"flex h-full flex-col"},Ge=n(()=>e("h3",{class:"text-lg font-semibold text-base-content"},"İçindekiler",-1)),Ue=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),Ke=[Ue],Qe={class:"flex-1 overflow-y-auto p-4"},Ye={key:0,class:"text-base-content/60 py-8 text-center"},Je=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mx-auto mb-4 h-12 w-12 opacity-50"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),Xe=n(()=>e("p",null,"İçindekiler bulunamadı",-1)),Ze=[Je,Xe],et={key:1,class:"space-y-2"},tt=["onClick"],st={class:"flex items-center gap-2"},ot={class:"text-base-content/50 font-mono text-xs"},nt={class:"line-clamp-2 text-sm font-medium text-base-content"},lt=Object.assign({name:"ShowWriteScreen"},{__name:"Screen",setup(b){ne.registerPlugin(se);const{props:z}=q(),a=h(z.write||{}),$=z.auth,v=h(null),i=h(!1),d=h(!1),m=h(!1),y=h([]),p=h(!1),u=B(()=>!a.value.title),C=oe(v,B(()=>d.value?a.value.content:"")),A=o=>{if(!o)return"";const l=new Date(o),r=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],c=l.getDate(),_=r[l.getMonth()],k=l.getFullYear();return`${c} ${_} ${k}`},D=o=>new Intl.NumberFormat("tr-TR").format(o),T=()=>{i.value=!i.value,!i.value&&!d.value&&(d.value=!0)},P=async o=>{if(confirm("Bu yazıyı silmek istediğinizden emin misiniz?"))try{await I.delete(route("writes.destroy",{write:o}))}catch(l){console.error("Error deleting write:",l)}},M=()=>{if(!v.value)return;const o=v.value.querySelectorAll("h1, h2, h3, h4, h5, h6"),l=[];o.forEach((r,c)=>{r.id||(r.id=`heading-${c}`);const _=parseInt(r.tagName.charAt(1)),k=r.textContent.trim();k&&l.push({id:r.id,text:k,level:_})}),y.value=l,p.value=l.length>0},S=()=>{m.value=!m.value},F=o=>{const l=document.getElementById(o);l&&(l.scrollIntoView({behavior:"smooth",block:"start"}),window.innerWidth<768&&(m.value=!1))},R=o=>{switch(o){case 1:return"border-l-4 border-primary bg-primary/5";case 2:return"border-l-4 border-secondary bg-secondary/5 ml-4";case 3:return"border-l-4 border-accent bg-accent/5 ml-8";case 4:return"border-l-4 border-base-300 bg-base-200/50 ml-12";case 5:return"border-l-4 border-base-300 bg-base-200/30 ml-16";case 6:return"border-l-4 border-base-300 bg-base-200/20 ml-20";default:return""}};let g=null;return W(()=>{d.value=!1;const o=document.querySelector(".content-placeholder");o?(g=new IntersectionObserver(r=>{r.forEach(c=>{c.isIntersecting&&!d.value&&(d.value=!0,j(()=>{V(v,{duration:.8}),setTimeout(()=>{M()},100)}))})},{threshold:.1,rootMargin:"50px"}),g.observe(o)):(d.value=!0,j(()=>{V(v,{duration:.8}),setTimeout(()=>{M()},100)}));const l=new URLSearchParams(window.location.search);if(i.value=l.has("draw"),a.value.content&&a.value.content.includes("<img")){const r=/<img[^>]+src="([^"]+)"/g;let c;for(;(c=r.exec(a.value.content))!==null;){const _=new Image;_.src=c[1]}}}),G(()=>{g&&g.disconnect()}),I.on("before",()=>{const o=document.querySelector(".write-list-container");o&&localStorage.setItem("writeListScrollPosition",o.scrollTop.toString())}),U(C,()=>{d.value&&C.value&&j(()=>{M()})},{flush:"post"}),(o,l)=>(t(),K(ee,null,{default:N(()=>[i.value?(t(),s("div",Pe,[e("div",{class:"absolute left-4 top-4 z-10"},[e("button",{onClick:T,class:"flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm text-base-content shadow-lg transition-all duration-200 hover:bg-base-200"},[Fe,H(" Metne Dön ")])]),E(Z,{write:a.value},null,8,["write"])])):(t(),s("div",le,[e("div",re,[e("div",ae,[e("div",ie,[u.value?(t(),s("div",ce,he)):(t(),s(O,{key:1},[e("h1",ve,f(a.value.title),1),e("div",me,f(A(a.value.created_at)),1)],64))]),u.value?w("",!0):(t(),s("div",_e,[e("button",{onClick:T,class:x(["flex items-center gap-2 rounded-lg border border-base-300 bg-base-100 px-3 py-2 text-sm transition-all duration-200 hover:bg-base-200",i.value?"border-primary bg-primary text-primary-content":"text-base-content"])},[(t(),s("svg",we,[i.value?(t(),s("path",fe)):(t(),s("path",be))])),H(" "+f(i.value?"Metni Göster":"Çizimi Göster"),1)],2),L($).user?(t(),s("div",pe,[E(L(Q),{href:o.route("writes.edit",a.value.id),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300",title:"Düzenle"},{default:N(()=>[ge]),_:1},8,["href"]),e("button",{onClick:l[0]||(l[0]=r=>P(a.value.id)),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-error transition-all duration-200 hover:bg-error hover:text-error-content",title:"Sil"},xe)])):w("",!0)])),u.value?(t(),s("div",ye,Ne)):(t(),s("div",Oe,[e("div",He,[d.value?(t(),s("div",{key:0,class:"article-content ql-editor",ref_key:"contentRef",ref:v,innerHTML:L(C)},null,8,Ee)):(t(),s("div",Ve,Ae))])])),u.value?w("",!0):(t(),s("div",De,f(D(a.value.views_count))+" görüntülenme ",1))])])])),!u.value&&p.value&&!i.value?(t(),s("button",{key:2,onClick:S,class:x(["hover:bg-primary-focus fixed right-4 top-1/2 z-50 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-primary text-primary-content shadow-lg transition-all duration-200 hover:shadow-xl",{"bg-primary-focus":m.value}])},qe,2)):w("",!0),!u.value&&p.value&&!i.value?(t(),s("div",{key:3,class:x(["fixed right-0 top-0 z-40 h-full w-80 transform bg-base-100 shadow-2xl transition-transform duration-300",{"translate-x-full":!m.value}])},[e("div",We,[e("div",{class:"flex items-center justify-between border-b border-base-300 p-4"},[Ge,e("button",{onClick:S,class:"flex h-8 w-8 items-center justify-center rounded-lg bg-base-200 text-base-content transition-all duration-200 hover:bg-base-300"},Ke)]),e("div",Qe,[y.value.length===0?(t(),s("div",Ye,Ze)):(t(),s("div",et,[(t(!0),s(O,null,Y(y.value,(r,c)=>(t(),s("div",{key:c,onClick:_=>F(r.id),class:x(["cursor-pointer rounded-lg p-3 transition-all duration-200 hover:bg-base-200",R(r.level)])},[e("div",st,[e("span",ot,f(c+1),1),e("span",nt,f(r.text),1)])],10,tt))),128))]))])])],2)):w("",!0),!u.value&&p.value&&m.value&&!i.value?(t(),s("div",{key:4,onClick:S,class:"fixed inset-0 z-30 bg-black/20"})):w("",!0)]),_:1}))}}),mt=te(lt,[["__scopeId","data-v-915f94e9"]]);export{mt as default};
