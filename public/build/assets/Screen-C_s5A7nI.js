import{_ as $,Q as I,r as p,i as g,l as G,c as P,o,w,b as e,g as n,h as l,f as h,t as r,u as d,a as x,k as b,F as M,q as j,n as A,K as E,L as K,N as S}from"./app-CMCX5Ajz.js";import{_ as W}from"./CheckScreen-Dtrucm0E.js";/* empty css            */const i=_=>(E("data-v-d993781b"),_=_(),K(),_),F={class:"p-4 sm:p-6"},R={class:"mb-6 flex items-center justify-between"},q={class:"flex-1"},O={class:"text-xl font-bold sm:text-2xl"},Q={class:"badge badge-outline ml-2"},J={key:0,class:"badge badge-warning ml-2"},U={key:0,class:"mt-2 text-sm text-gray-600"},X={key:0,class:"flex gap-2"},Z=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),ee=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),te=i(()=>e("div",{class:"divider my-2"},null,-1)),se={class:"space-y-4"},oe={class:"card-body p-4"},ne={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},ae={key:0,class:"flex-shrink-0"},le=["src","srcset"],ie={class:"min-w-0 flex-1"},re={class:"flex items-start justify-between"},ce={class:"min-w-0 flex-1"},de={class:"mb-2 flex items-center gap-2"},ue={key:0,class:"text-primary",title:"Dış Bağlantı"},he=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),_e=[he],ve={key:1,class:"text-warning",title:"Gizli Yazı"},me=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)),pe=[me],ge={key:2,class:"text-gray-500",title:"Taslak"},we=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)),fe=[we],ke={class:"truncate text-lg font-semibold"},xe={class:"mb-2 line-clamp-2 text-sm text-gray-600"},be={class:"flex flex-wrap items-center gap-3 text-xs text-gray-500"},ye={class:"flex items-center gap-1"},ze=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Ce={key:0,class:"flex items-center gap-1"},Be=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Me={class:"badge badge-outline badge-xs"},je={key:0,class:"ml-4 flex flex-col gap-1"},Se=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),He=["onClick"],De=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),Ve=[De],Le={key:0,class:"mt-6 flex justify-center"},Te={class:"join"},Ye=["onClick"],Ne={key:1,class:"alert alert-info mt-6"},$e=i(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-6 w-6 shrink-0 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),y=10,Ie=Object.assign({name:"ShowCategoryScreen"},{__name:"Screen",setup(_){var B;const{props:v}=I(),c=p(v.category||{}),u=p(v.writes||[]),m=v.auth,z=p((B=v.flash)==null?void 0:B.success),f=p(1),k=g(()=>m.user?u.value:u.value.filter(s=>s.status==="published")),H=g(()=>{const s=(f.value-1)*y,a=s+y;return k.value.slice(s,a)}),C=g(()=>Math.ceil(k.value.length/y)),D=s=>s?new Date(s).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"}):"";g(()=>c.value.status==="public"?"Açık":"Gizli");const V=()=>{S.visit(route("categories.edit",{category:c.value.id}))},L=s=>({published:"Yayında",draft:"Taslak",private:"Gizli",link_only:"Dış Bağlantı"})[s]||s,T=s=>{confirm(`"${s.title}" yazısını silmek istediğinizden emin misiniz?`)&&S.delete(route("writes.destroy",s.id),{preserveScroll:!0,onSuccess:()=>{const a=u.value.findIndex(t=>t.id===s.id);a>-1&&u.value.splice(a,1)},onError:a=>{console.error("Yazı silinirken hata oluştu:",a),alert("Yazı silinirken bir hata oluştu.")}})},Y=s=>{if(!s)return"Açıklama bulunmamaktadır.";if(s.includes("<")&&s.includes(">")){const a=document.createElement("div");a.innerHTML=s;const t=a.textContent||a.innerText||"";return t.length>100?t.slice(0,100)+"...":t}return s.length>100?s.slice(0,100)+"...":s};return G(()=>{z.value&&setTimeout(()=>{z.value=null},3e3)}),(s,a)=>(o(),P(W,null,{default:w(()=>[e("div",F,[e("div",R,[e("div",q,[e("h1",O,[h(r(c.value.name)+" ",1),e("span",Q,r(c.value.writes_count||u.value.length)+" yazı",1),c.value.status==="private"?(o(),n("span",J,"Gizli")):l("",!0)]),c.value.description?(o(),n("p",U,r(c.value.description),1)):l("",!0)]),d(m).user?(o(),n("div",X,[e("button",{onClick:V,class:"btn btn-outline btn-sm",title:"Kategoriyi Düzenle"},[Z,h(" Düzenle ")]),x(d(b),{href:s.route("writes.create",{category:c.value.id}),class:"btn btn-primary btn-sm"},{default:w(()=>[ee,h(" Yeni Yazı ")]),_:1},8,["href"])])):l("",!0)]),te,e("div",se,[(o(!0),n(M,null,j(H.value,t=>(o(),n("div",{key:t.id,class:"card border border-base-200 bg-base-100 shadow-sm transition-all hover:shadow-md"},[e("div",oe,[e("div",ne,[t.cover_image?(o(),n("div",ae,[e("img",{src:t.cover_image,alt:"Kapak Resmi",class:"h-20 w-20 rounded-lg object-cover sm:h-16 sm:w-24",loading:"lazy",srcset:`${t.cover_image} 1x, ${t.cover_image} 2x`},null,8,le)])):l("",!0),e("div",ie,[e("div",re,[e("div",ce,[x(d(b),{href:s.route("categories.showByCategory",{category:c.value.slug,slug:t.slug}),class:"hover:text-primary"},{default:w(()=>[e("div",de,[t.status==="link_only"?(o(),n("span",ue,_e)):l("",!0),t.status==="private"?(o(),n("span",ve,pe)):l("",!0),t.status==="draft"?(o(),n("span",ge,fe)):l("",!0),e("h3",ke,r(t.title),1)]),e("p",xe,r(Y(t.meta_description||t.summary)),1)]),_:2},1032,["href"]),e("div",be,[e("span",ye,[ze,h(" "+r(D(t.published_at||t.created_at)),1)]),t.reading_time?(o(),n("span",Ce,[Be,h(" "+r(t.reading_time)+" dk okuma ",1)])):l("",!0),e("span",Me,r(L(t.status)),1)])]),d(m).user?(o(),n("div",je,[x(d(b),{href:s.route("writes.edit",t.id),class:"btn btn-ghost btn-xs",title:"Yazıyı Düzenle"},{default:w(()=>[Se]),_:2},1032,["href"]),e("button",{onClick:N=>T(t),class:"btn btn-ghost btn-xs text-error",title:"Yazıyı Sil"},Ve,8,He)])):l("",!0)])])])])]))),128))]),C.value>1?(o(),n("div",Le,[e("div",Te,[(o(!0),n(M,null,j(C.value,t=>(o(),n("button",{key:t,onClick:N=>f.value=t,class:A(["btn btn-sm join-item",f.value===t?"btn-primary":"btn-outline"])},r(t),11,Ye))),128))])])):l("",!0),k.value.length===0?(o(),n("div",Ne,[$e,e("span",null,"Bu kategoriye ait "+r(d(m).user?"yazı":"yayınlanmış yazı")+" bulunmamaktadır.",1)])):l("",!0)])]),_:1}))}}),Ee=$(Ie,[["__scopeId","data-v-d993781b"]]);export{Ee as default};
