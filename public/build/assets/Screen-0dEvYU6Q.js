import{b as x,Q as B,g as u,e as L,w as E,f as M,a as e,c as r,j as m,t as i,k as N,o as n,F as w,l as _,h as V,i as C,m as W,I as D,D as T,N as j}from"./ssr-AmW-FCLL.js";import{_ as F}from"./CheckScreen-BrF7qB4E.js";import{_ as O}from"./TopScreen-DOUwaz0C.js";const S={class:"p-4"},Z={class:"mb-4 flex justify-between"},I={class:"text-xl font-bold text-foreground"},Q={class:"text-muted-foreground text-sm"},U={class:"text-muted-foreground mt-1 text-sm"},G={class:"flex space-x-2"},H=["href"],R=["href"],q={class:"overflow-x-auto rounded-lg border border-border"},J={class:"w-full caption-bottom text-sm"},X={key:0},Y={class:"px-4 py-3 font-medium text-foreground"},ee={class:"px-4 py-3 text-muted-foreground"},te={class:"px-4 py-3 capitalize text-muted-foreground"},oe={class:"px-4 py-3 text-muted-foreground"},se={class:"px-4 py-3"},ne=["onClick"],re={class:"flex flex-shrink-0 items-center justify-between border-b border-border p-6 pb-4"},ie={class:"px-6"},le={class:"flex-1 overflow-y-auto px-6"},ae={key:0,class:"flex justify-center py-4"},de={key:1,class:"text-muted-foreground py-4 text-center"},ue={key:2,class:"mt-2 max-h-60 overflow-y-auto rounded-lg border border-border p-2"},ce=["id","value"],fe=["for"],ge={class:"flex flex-shrink-0 flex-col-reverse border-t border-border p-6 pt-4 sm:flex-row sm:justify-end sm:space-x-2"},me=["disabled"],pe={__name:"Screen",props:{languagePack:Object,screen:Object},setup(l){const b=l,p=x(()=>B().props.auth),k=x(()=>p.value&&p.value.user),d=u(!1),a=u([]),c=u(!1),v=u(!1),g=u([]),f=u(""),y=s=>({tr:"Türkçe",en:"İngilizce",de:"Almanca",fr:"Fransızca",es:"İspanyolca",it:"İtalyanca",ru:"Rusça",ar:"Arapça"})[s]||s,P=s=>{switch(s){case 1:return"Kolay";case 2:return"Orta";case 3:return"Zor";case 4:return"Çok Zor";default:return"Bilinmiyor"}},K=async()=>{v.value=!0,d.value=!0,a.value=[];try{const s=await T.get(route("rendition.words.available-for-pack",b.languagePack.id));g.value=s.data}catch(s){console.error("Kelimeler yüklenirken hata oluştu:",s)}finally{v.value=!1}},z=x(()=>f.value.trim()?g.value.filter(s=>s.word.toLowerCase().includes(f.value.toLowerCase())||s.meaning.toLowerCase().includes(f.value.toLowerCase())):g.value),$=()=>{a.value.length!==0&&(c.value=!0,j.post(route("rendition.language-packs.add-words",b.languagePack.id),{word_ids:a.value},{onSuccess:()=>{c.value=!1,d.value=!1,a.value=[]},onError:()=>{c.value=!1}}))},A=s=>{confirm(`"${s.word}" kelimesini bu paketten kaldırmak istediğinize emin misiniz?`)&&j.delete(route("rendition.language-packs.remove-word",[b.languagePack.id,s.id]))};return(s,t)=>(n(),L(F,null,{default:E(()=>[M(O,{title:`${l.languagePack.name} - Kelimeler`},null,8,["title"]),e("div",S,[e("div",Z,[e("div",null,[e("h2",I,i(l.languagePack.name),1),e("p",Q,i(l.languagePack.description),1),e("p",U,[t[6]||(t[6]=e("span",{class:"font-medium"},"Dil:",-1)),N(" "+i(y(l.languagePack.language)),1)])]),e("div",G,[k.value?(n(),r("button",{key:0,onClick:K,class:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-primary/90"}," Kelime Ekle ")):m("",!0),e("a",{href:s.route("rendition.language-packs.export",l.languagePack.id),class:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground"}," Dışa Aktar ",8,H),e("a",{href:s.route("rendition.language-packs.index"),class:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground"}," Geri Dön ",8,R)])]),e("div",q,[e("table",J,[t[8]||(t[8]=e("thead",null,[e("tr",{class:"border-b border-border"},[e("th",{class:"h-10 px-4 text-left align-middle font-medium text-muted-foreground"},"Kelime"),e("th",{class:"h-10 px-4 text-left align-middle font-medium text-muted-foreground"},"Anlam"),e("th",{class:"h-10 px-4 text-left align-middle font-medium text-muted-foreground"},"Tür"),e("th",{class:"h-10 px-4 text-left align-middle font-medium text-muted-foreground"},"Zorluk"),e("th",{class:"h-10 px-4 text-left align-middle font-medium text-muted-foreground"},"İşlemler")])],-1)),e("tbody",null,[!l.languagePack.words||l.languagePack.words.length===0?(n(),r("tr",X,[...t[7]||(t[7]=[e("td",{colspan:"5",class:"text-muted-foreground py-6 text-center"}," Bu dil paketinde henüz kelime bulunmamaktadır. Kelime ekleyin. ",-1)])])):m("",!0),(n(!0),r(w,null,_(l.languagePack.words,o=>(n(),r("tr",{key:o.id,class:"border-b border-border transition-colors hover:bg-muted/50"},[e("td",Y,i(o.word),1),e("td",ee,i(o.meaning),1),e("td",te,i(o.type),1),e("td",oe,i(P(o.difficulty_level)),1),e("td",se,[k.value?(n(),r("button",{key:0,onClick:h=>A(o),class:"inline-flex items-center justify-center rounded-md border border-destructive/50 bg-destructive/10 px-2 py-1 text-xs font-medium text-destructive transition-colors hover:bg-destructive/20"}," Kaldır ",8,ne)):m("",!0)])]))),128))])])])]),d.value?(n(),r("div",{key:0,class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",onClick:t[5]||(t[5]=o=>d.value=!1)},[e("div",{class:"fixed left-[50%] top-[50%] z-50 flex max-h-[90vh] w-full max-w-2xl translate-x-[-50%] translate-y-[-50%] flex-col gap-4 border border-border bg-background shadow-lg sm:rounded-lg",onClick:t[4]||(t[4]=V(()=>{},["stop"]))},[e("div",re,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-foreground"},"Kelime Ekle",-1)),e("button",{onClick:t[0]||(t[0]=o=>d.value=!1),class:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground"},[...t[9]||(t[9]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ie,[t[11]||(t[11]=e("label",{class:"text-sm font-medium text-foreground"},"Kelime Ara",-1)),C(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>f.value=o),type:"text",placeholder:"Kelime veya anlam ara...",class:"mt-1 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[W,f.value]])]),e("div",le,[t[13]||(t[13]=e("label",{class:"text-sm font-medium text-foreground"},"Kelimeler",-1)),v.value?(n(),r("div",ae,[...t[12]||(t[12]=[e("svg",{class:"h-6 w-6 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):g.value.length===0?(n(),r("div",de," Eklenebilecek kelime bulunamadı. Önce yeni kelimeler ekleyin. ")):(n(),r("div",ue,[(n(!0),r(w,null,_(z.value,o=>(n(),r("div",{key:o.id,class:"flex items-center rounded px-2 py-1 transition-colors hover:bg-muted"},[C(e("input",{id:`word-${o.id}`,"onUpdate:modelValue":t[2]||(t[2]=h=>a.value=h),value:o.id,type:"checkbox",class:"h-4 w-4 rounded border border-input text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2"},null,8,ce),[[D,a.value]]),e("label",{for:`word-${o.id}`,class:"ml-2 block cursor-pointer text-sm text-foreground"},i(o.word)+" - "+i(o.meaning)+" ("+i(y(o.language))+") ",9,fe)]))),128))]))]),e("div",ge,[e("button",{onClick:t[3]||(t[3]=o=>d.value=!1),class:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground"}," İptal "),e("button",{onClick:$,class:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-primary/90",disabled:a.value.length===0||c.value},i(c.value?"Ekleniyor...":"Ekle"),9,me)])])])):m("",!0)]),_:1}))}};export{pe as default};
