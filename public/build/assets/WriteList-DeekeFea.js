import{p as j,S as W,Q as H,r as w,U as N,V as I,s as _,J as z,m as P,y as T,c as a,h as g,a as e,u as B,n as i,F as D,g as O,o as r,j as G,w as K,t as m,i as R}from"./ssr-COd_82OS.js";import{_ as U}from"./app-udAvpmnU.js";/* empty css            */const J={key:0,class:"mb-3"},Q={class:"hidden gap-2 sm:flex"},Y={key:0},q={key:1},X={key:0},Z={key:1},tt={key:0},et={key:1},st={key:0},nt={key:1},ot={class:"relative inline-block sm:hidden"},lt={key:0,class:"absolute z-10 mt-2 w-40 rounded-md bg-base-100 shadow-lg ring-1 ring-black ring-opacity-5"},rt={class:"flex flex-col gap-1 py-1"},at={class:"space-y-2"},it={class:"mb-1"},ut={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},ct={class:"flex items-center gap-1"},dt={class:"truncate"},vt={class:"flex items-center gap-1"},pt={class:"truncate"},wt={class:"flex items-center gap-1 self-start sm:self-center"},gt={key:0,class:"text-warning",title:"Gizli yazı"},ft={key:1,class:"text-info",title:"Sadece link"},bt={key:1,class:"flex h-32 items-center justify-center text-center opacity-50"},kt=Object.assign({name:"WriteList"},{__name:"WriteList",props:{writes:{type:Array,default:()=>[]},route:{type:Function,default:null},isCollapsed:{type:Boolean,default:!1}},setup(L,{expose:S}){const u=L,$=j(()=>{if(u.writes&&u.writes.length>0)return u.writes;const s=W("writes",[]);return s&&s.length>0?s:[]}),x=H(),y=x.props.isAdmin||!1,c=w(null);w(null);let v=!1;const f=w(""),o=w("all"),d=w(!1),A=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return route("categories.showByCategory",{category:l,slug:s.slug})}}return route("writes.show",{write:s.slug})},k=s=>{const t=window.location.pathname;if(t.includes("/categories/")){const n=t.split("/").filter(l=>l.length>0);if(n.length>=2&&n[0]==="categories"){const l=n[1];if(l&&l!=="create"&&l!=="edit")return`/categories/${l}/${s.slug}`}}return`/writes/${s.slug}`},h=j(()=>{let s=$.value;return y?(o.value==="published"?s=s.filter(t=>t.status==="published"):o.value==="link_only"?s=s.filter(t=>t.status==="link_only"):o.value==="private"&&(s=s.filter(t=>t.status==="private")),s):(s=s.filter(t=>t.status!=="private"),s)});S({filteredWrites:h,scrollContainer:c}),N(()=>{v=!0,p()}),I(()=>{v=!1}),_(()=>x.url,()=>{z(()=>{p()})});const p=()=>{f.value=window.location.pathname},C=()=>`writeListScroll_${o.value}`,M=s=>{localStorage.setItem(C(),s.target.scrollTop)};P(()=>{v=!0;const s=localStorage.getItem("writeListFilter");s&&(o.value=s),p(),z(()=>{if(c.value){c.value.addEventListener("scroll",M);const b=localStorage.getItem(C());b&&(c.value.scrollTop=parseInt(b,10))}});const t=()=>{v&&p()},n=()=>{},l=()=>{v&&p()};window.addEventListener("popstate",t),window.addEventListener("inertia:start",n),window.addEventListener("inertia:finish",l),T(()=>{v=!1,c.value&&c.value.removeEventListener("scroll",M),window.removeEventListener("popstate",t),window.removeEventListener("inertia:start",n),window.removeEventListener("inertia:finish",l)})});const E=s=>{const t=new Date(s),n=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],l=t.getDate(),b=n[t.getMonth()],F=t.getFullYear();return`${l} ${b} ${F}`},V=s=>new Intl.NumberFormat("tr-TR").format(s);return _(o,s=>{localStorage.setItem("writeListFilter",s)}),(s,t)=>(r(),a("div",{ref_key:"scrollContainer",ref:c,class:"write-list-container space-y-1 overflow-y-auto p-3"},[B(y)?(r(),a("div",J,[e("div",Q,[e("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="all"}]),onClick:t[0]||(t[0]=n=>o.value="all")},[u.isCollapsed?(r(),a("span",Y,[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])):(r(),a("span",q,"Tümü"))],2),e("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="published"}]),onClick:t[1]||(t[1]=n=>o.value="published")},[u.isCollapsed?(r(),a("span",X,[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])])):(r(),a("span",Z,"Herkese Açık"))],2),e("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="link_only"}]),onClick:t[2]||(t[2]=n=>o.value="link_only")},[u.isCollapsed?(r(),a("span",tt,[...t[11]||(t[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])])):(r(),a("span",et,"Sadece Link"))],2),e("button",{class:i(["btn btn-outline btn-xs flex items-center justify-center",{"bg-base-content text-base-100":o.value==="private"}]),onClick:t[3]||(t[3]=n=>o.value="private")},[u.isCollapsed?(r(),a("span",st,[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])])):(r(),a("span",nt,"Gizli"))],2)]),e("div",ot,[e("button",{onClick:t[4]||(t[4]=n=>d.value=!d.value),class:"btn btn-ghost btn-xs"},[...t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A2 2 0 0013 14.586V19a1 1 0 01-1.447.894l-2-1A1 1 0 019 18v-3.414a2 2 0 00-.293-1.172L2.293 6.707A1 1 0 012 6V4z"})],-1)])]),d.value?(r(),a("div",lt,[e("div",rt,[e("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="all"}]),onClick:t[5]||(t[5]=n=>{o.value="all",d.value=!1})},[...t[14]||(t[14]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2),e("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="published"}]),onClick:t[6]||(t[6]=n=>{o.value="published",d.value=!1})},[...t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"})],-1)])],2),e("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="link_only"}]),onClick:t[7]||(t[7]=n=>{o.value="link_only",d.value=!1})},[...t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 010 5.656l-3 3a4 4 0 01-5.656-5.656l1.5-1.5M10.172 13.828a4 4 0 010-5.656l3-3a4 4 0 015.656 5.656l-1.5 1.5"})],-1)])],2),e("button",{class:i(["btn btn-outline btn-xs btn-block flex items-center justify-center",{"bg-base-content text-base-100":o.value==="private"}]),onClick:t[8]||(t[8]=n=>{o.value="private",d.value=!1})},[...t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c1.104 0 2-.896 2-2V7a2 2 0 10-4 0v2c0 1.104.896 2 2 2zm6 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h8a2 2 0 012 2z"})],-1)])],2)])])):g("",!0)])])):g("",!0),e("div",at,[(r(!0),a(D,null,O(h.value,n=>(r(),G(B(R),{key:n.id,href:A(n),class:i(["block rounded-lg p-3",f.value===k(n)?"bg-base-content text-base-100":"border border-base-300 bg-base-100 hover:bg-base-300"])},{default:K(()=>[e("div",it,[e("h3",{class:i(["line-clamp-2 text-sm font-medium leading-tight",f.value===k(n)?"text-base-100":"text-base-content"])},m(n.title),3)]),e("div",{class:i(["flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:justify-between",f.value===k(n)?"text-base-100/70":"text-base-content/70"])},[e("div",ut,[e("span",ct,[t[18]||(t[18]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",dt,m(E(n.created_at)),1)]),e("span",vt,[t[19]||(t[19]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),e("span",pt,m(V(n.views_count))+" görüntülenme",1)])]),e("div",wt,[n.status==="private"?(r(),a("span",gt,[...t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})],-1)])])):g("",!0),n.status==="link_only"?(r(),a("span",ft,[...t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)])])):g("",!0)])],2)]),_:2},1032,["href","class"]))),128))]),h.value.length===0?(r(),a("div",bt,[...t[22]||(t[22]=[e("div",null,"Henüz yazı bulunmuyor",-1)])])):g("",!0)],512))}}),yt=U(kt,[["__scopeId","data-v-83d30cf2"]]);export{yt as default};
