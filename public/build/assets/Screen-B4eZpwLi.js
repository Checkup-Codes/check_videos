import{_ as re,l as u,i as v,Q as ue,C as ce,x as de,c as b,o,w as S,b as e,g as l,h as m,a as R,f as M,t as c,u as U,k as G,j as T,O as me,q as Y,E as H,B as ge,v as _e,F as J,m as X,n as N,K as ve,L as he}from"./app-C_Im7M6e.js";import{_ as pe}from"./CheckScreen-D9l2xKV0.js";import fe from"./MultipleChoice-B_494cB4.js";import be from"./TranslateWord-BtjwTsw-.js";import ke from"./WordCompletion-SUB_3g-Q.js";/* empty css            */import"./index-D3jsOSc0.js";const n=k=>(ve("data-v-bb7fe81b"),k=k(),he(),k),ye={class:"px-5 transition-all duration-200 dark:border-gray-700 dark:bg-base-100"},we={class:"mb-4 flex items-center justify-between"},xe={class:"flex-1"},Ce={class:"p-5 text-2xl font-bold"},Se={class:"badge badge-outline ml-2"},Te={class:"flex gap-2"},Le={key:0,class:"mb-4 flex flex-wrap gap-3"},je={class:"form-control min-w-[200px] flex-1"},Be={class:"input-group"},Me=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),ze=[Me],Ke=n(()=>e("option",{value:""},"Tüm Türler",-1)),Pe=n(()=>e("option",{value:"noun"},"İsim",-1)),Ve=n(()=>e("option",{value:"verb"},"Fiil",-1)),qe=n(()=>e("option",{value:"adjective"},"Sıfat",-1)),De=n(()=>e("option",{value:"adverb"},"Zarf",-1)),Ie=[Ke,Pe,Ve,qe,De],Ue=n(()=>e("option",{value:""},"Tüm Durumlar",-1)),Ge=n(()=>e("option",{value:"0"},"Öğrenilmedi",-1)),Ne=n(()=>e("option",{value:"1"},"Öğreniliyor",-1)),We=n(()=>e("option",{value:"2"},"Öğrenildi",-1)),$e=[Ue,Ge,Ne,We],Oe={key:"game",class:"my-20"},Fe={key:0,class:"flex h-60 items-center justify-center"},Ze=n(()=>e("span",{class:"loading loading-spinner loading-lg"},null,-1)),Ee=[Ze],Ae={key:"wordList"},Qe={key:0,class:"mb-6 rounded-lg border border-base-300 bg-base-100 p-4"},Re={class:"flex flex-wrap items-center gap-4"},Ye={class:"form-control"},He={class:"label cursor-pointer gap-2"},Je={class:"label-text"},Xe={class:"form-control"},et={class:"label cursor-pointer"},tt=n(()=>e("span",{class:"label-text mr-2"},"Öğrenilmemiş Kelimelere Öncelik Ver",-1)),st=n(()=>e("div",{class:"divider divider-horizontal"},null,-1)),nt={class:"grid grid-cols-3 gap-2"},at=["onClick"],ot={class:"overflow-x-auto"},lt={class:"table table-zebra"},it=n(()=>e("th",null,"Kelime",-1)),rt=n(()=>e("th",null,"Anlam",-1)),ut=n(()=>e("th",null,"Tür",-1)),ct=n(()=>e("th",null,"Durum",-1)),dt=n(()=>e("th",null,"Zorluk",-1)),mt={key:0},gt={key:0},_t=n(()=>e("td",{colspan:"6",class:"text-center"},[e("span",{class:"loading loading-spinner loading-md"})],-1)),vt=[_t],ht={key:1},pt=n(()=>e("td",{colspan:"6",class:"text-center"},"Sonuç bulunamadı",-1)),ft=[pt],bt={class:"font-medium"},kt={class:"badge"},yt={key:0},wt={key:1,class:"mt-4 flex justify-between"},xt={class:"text-sm opacity-70"},Ct={class:"join"},St=["disabled"],Tt={class:"btn btn-sm join-item"},Lt=["disabled"],jt={key:2,class:"alert alert-info mt-6"},Bt=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-6 w-6 shrink-0 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Mt=n(()=>e("span",null,"Bu pakette kelime bulunmamaktadır.",-1)),zt=[Bt,Mt],Kt={key:3,class:"alert alert-warning mt-6"},Pt=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"h-6 w-6 shrink-0 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),Vt=n(()=>e("span",null,"Oyunları başlatabilmek için en az 5 kelime gerekiyor.",-1)),qt=[Pt,Vt],Dt={__name:"Screen",props:{words:Array,pack:Object,error:String,screen:Object},setup(k){const i=k,z=u(!1),L=v(()=>{var t;return!!((t=ue().props.auth)!=null&&t.user)}),j=u(!1),d=u(""),K=u(!1),P=u(!0),h=u(""),y=u(""),w=u(""),g=u(1),f=u(10),V=()=>{const s=window.location.pathname.split("/");return s[s.length-1]},ee=[{name:"Çoktan Seçmeli",route:"multiple-choice"},{name:"Boşluk Doldurma",route:"fill-in-the-blank"},{name:"Kelime Tamamlama",route:"word-completion"}],p=u({questionCount:10}),x=v(()=>{if(!i.words)return[];let t=[...i.words];if(h.value.trim()){const s=h.value.toLowerCase().trim();t=t.filter(r=>r.word.toLowerCase().includes(s)||r.meaning.toLowerCase().includes(s))}if(y.value&&(t=t.filter(s=>s.type===y.value)),w.value!==""){const s=parseInt(w.value);t=t.filter(r=>r.learning_status===s)}return t}),W=v(()=>{const t=(g.value-1)*f.value;return x.value.slice(t,t+f.value)}),$=v(()=>Math.ceil(x.value.length/f.value)),te=v(()=>{const t=(g.value-1)*f.value+1,s=Math.min(t+f.value-1,x.value.length);return`${t}-${s} / ${x.value.length}`}),O=t=>{t<1||t>$.value||(g.value=t)},C=()=>{z.value=!0,g.value=1,setTimeout(()=>{z.value=!1},300)},q=v(()=>{if(!i.words)return[];let t=[...i.words];return P.value&&t.sort((s,r)=>(s.learning_status||0)-(r.learning_status||0)),t.slice(0,p.value.questionCount)}),B=v(()=>i.words&&i.words.length>=5),F=t=>{B.value&&(K.value=!0,d.value=t,j.value=!0,setTimeout(()=>{K.value=!1},500))},D=()=>{j.value=!1,d.value=""},se=v(()=>({game:new URLSearchParams(window.location.search).get("game")||null})),I=(t,s)=>t?t.length>s?t.substring(0,s)+"...":t:"",ne=t=>{switch(Number(t)){case 1:return"badge-success";case 2:return"badge-info";case 3:return"badge-warning";case 4:return"badge-error";default:return"badge-ghost"}},ae=t=>{switch(Number(t)){case 1:return"Kolay";case 2:return"Orta";case 3:return"Zor";case 4:return"Çok Zor";default:return"Belirsiz"}},oe=t=>{switch(Number(t)){case 0:return"badge-ghost";case 1:return"badge-warning";case 2:return"badge-success";default:return"badge-ghost"}},le=t=>{switch(Number(t)){case 0:return"Öğrenilmedi";case 1:return"Öğreniliyor";case 2:return"Öğrenildi";default:return"Belirsiz"}};ce([h,y,w],()=>{(h.value.length>2||h.value.length===0)&&C()}),de(()=>{const t=se.value.game;t&&B.value&&F(t)});const ie=t=>{if(t.meanings&&t.meanings.length>0){const s=t.meanings.find(r=>r.is_primary);return I(s?s.meaning:t.meanings[0].meaning,50)}return t.meaning?I(t.meaning,50):""};return(t,s)=>(o(),b(pe,null,{default:S(()=>{var r,Z;return[e("div",ye,[e("div",we,[e("div",xe,[e("h1",Ce,[M(c(((r=i.pack)==null?void 0:r.name)||"Kelimeler")+" ",1),e("span",Se,c(((Z=i.words)==null?void 0:Z.length)||0)+" kelime",1)])]),e("div",Te,[L.value&&i.pack?(o(),b(U(G),{key:0,href:t.route("rendition.language-packs.edit",i.pack.id),class:"btn btn-outline btn-sm"},{default:S(()=>[M(" Paketi Düzenle ")]),_:1},8,["href"])):m("",!0),L.value?(o(),b(U(G),{key:1,href:t.route("rendition.words.create"),class:"btn btn-primary btn-sm"},{default:S(()=>[M(" Yeni Kelime ")]),_:1},8,["href"])):m("",!0)])]),j.value?m("",!0):(o(),l("div",Le,[e("div",je,[e("div",Be,[T(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=_=>h.value=_),placeholder:"Kelime ara...",class:"input-bordered input input-sm w-full",onKeyup:me(C,["enter"])},null,544),[[Y,h.value]]),e("button",{class:"btn btn-sm btn-square",onClick:C},ze)])]),T(e("select",{"onUpdate:modelValue":s[1]||(s[1]=_=>y.value=_),class:"select-bordered select select-sm min-w-[150px] flex-1",onChange:C},Ie,544),[[H,y.value]]),T(e("select",{"onUpdate:modelValue":s[2]||(s[2]=_=>w.value=_),class:"select-bordered select select-sm min-w-[150px] flex-1",onChange:C},$e,544),[[H,w.value]])])),R(ge,{name:"game-transition",mode:"out-in"},{default:S(()=>{var _,E,A,Q;return[j.value?(o(),l("div",Oe,[K.value?(o(),l("div",Fe,Ee)):d.value==="multiple-choice"?(o(),b(fe,{key:1,gameType:d.value,packSlug:((_=i.pack)==null?void 0:_.slug)||V(),words:q.value,gameConfig:p.value,onGameCompleted:D},null,8,["gameType","packSlug","words","gameConfig"])):d.value==="fill-in-the-blank"?(o(),b(be,{key:2,gameType:d.value,packSlug:((E=i.pack)==null?void 0:E.slug)||V(),words:q.value,gameConfig:p.value,onGameCompleted:D},null,8,["gameType","packSlug","words","gameConfig"])):d.value==="word-completion"?(o(),b(ke,{key:3,gameType:d.value,packSlug:((A=i.pack)==null?void 0:A.slug)||V(),words:q.value,gameConfig:p.value,onGameCompleted:D},null,8,["gameType","packSlug","words","gameConfig"])):m("",!0)])):(o(),l("div",Ae,[B.value?(o(),l("div",Qe,[e("div",Re,[e("div",Ye,[e("label",He,[e("span",Je,"Soru Sayısı: "+c(p.value.questionCount),1),T(e("input",{type:"range",min:"5",max:"20","onUpdate:modelValue":s[3]||(s[3]=a=>p.value.questionCount=a),class:"range range-primary range-xs"},null,512),[[Y,p.value.questionCount]])])]),e("div",Xe,[e("label",et,[tt,T(e("input",{type:"checkbox",class:"toggle toggle-sm","onUpdate:modelValue":s[4]||(s[4]=a=>P.value=a)},null,512),[[_e,P.value]])])]),st,e("div",nt,[(o(),l(J,null,X(ee,a=>e("button",{key:a.route,onClick:It=>F(a.route),class:N(["btn btn-sm",{"btn-primary":d.value===a.route,"btn-outline":d.value!==a.route}])},c(a.name),11,at)),64))])])])):m("",!0),e("div",ot,[e("table",lt,[e("thead",null,[e("tr",null,[it,rt,ut,ct,dt,L.value?(o(),l("th",mt)):m("",!0)])]),e("tbody",null,[z.value?(o(),l("tr",gt,vt)):W.value.length===0?(o(),l("tr",ht,ft)):m("",!0),(o(!0),l(J,null,X(W.value,a=>(o(),l("tr",{key:a.id},[e("td",bt,c(a.word),1),e("td",null,c(ie(a)),1),e("td",null,[e("div",kt,c(a.type),1)]),e("td",null,[e("div",{class:N(["badge badge-sm",oe(a.learning_status)])},c(le(a.learning_status)),3)]),e("td",null,[e("div",{class:N(["badge badge-sm",ne(a.difficulty_level)])},c(ae(a.difficulty_level)),3)]),L.value?(o(),l("td",yt,[R(U(G),{href:t.route("rendition.words.edit",a.id),class:"btn btn-ghost btn-xs"},{default:S(()=>[M(" Düzenle ")]),_:2},1032,["href"])])):m("",!0)]))),128))])])]),x.value.length>f.value?(o(),l("div",wt,[e("div",null,[e("span",xt,c(te.value),1)]),e("div",Ct,[e("button",{class:"btn btn-sm join-item",disabled:g.value<=1,onClick:s[5]||(s[5]=a=>O(g.value-1))}," « ",8,St),e("button",Tt,c(g.value),1),e("button",{class:"btn btn-sm join-item",disabled:g.value>=$.value,onClick:s[6]||(s[6]=a=>O(g.value+1))}," » ",8,Lt)])])):m("",!0),((Q=i.words)==null?void 0:Q.length)===0?(o(),l("div",jt,zt)):B.value?m("",!0):(o(),l("div",Kt,qt))]))]}),_:1})])]}),_:1}))}},Zt=re(Dt,[["__scopeId","data-v-bb7fe81b"]]);export{Zt as default};
